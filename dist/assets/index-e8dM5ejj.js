(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ap(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function g4(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var cv={exports:{}},ku={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dS;function v4(){if(dS)return ku;dS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var d in s)d!=="key"&&(o[d]=s[d])}else o=s;return s=o.ref,{$$typeof:t,type:r,key:c,ref:s!==void 0?s:null,props:o}}return ku.Fragment=e,ku.jsx=n,ku.jsxs=n,ku}var hS;function y4(){return hS||(hS=1,cv.exports=v4()),cv.exports}var g=y4(),uv={exports:{}},We={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fS;function _4(){if(fS)return We;fS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.iterator;function C(w){return w===null||typeof w!="object"?null:(w=S&&w[S]||w["@@iterator"],typeof w=="function"?w:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,V={};function U(w,G,re){this.props=w,this.context=G,this.refs=V,this.updater=re||j}U.prototype.isReactComponent={},U.prototype.setState=function(w,G){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,G,"setState")},U.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function $(){}$.prototype=U.prototype;function q(w,G,re){this.props=w,this.context=G,this.refs=V,this.updater=re||j}var X=q.prototype=new $;X.constructor=q,P(X,U.prototype),X.isPureReactComponent=!0;var te=Array.isArray,z={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function M(w,G,re,v,E,T){return re=T.ref,{$$typeof:t,type:w,key:G,ref:re!==void 0?re:null,props:T}}function O(w,G){return M(w.type,G,void 0,void 0,void 0,w.props)}function A(w){return typeof w=="object"&&w!==null&&w.$$typeof===t}function x(w){var G={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(re){return G[re]})}var L=/\/+/g;function B(w,G){return typeof w=="object"&&w!==null&&w.key!=null?x(""+w.key):G.toString(36)}function I(){}function Q(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(I,I):(w.status="pending",w.then(function(G){w.status==="pending"&&(w.status="fulfilled",w.value=G)},function(G){w.status==="pending"&&(w.status="rejected",w.reason=G)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function he(w,G,re,v,E){var T=typeof w;(T==="undefined"||T==="boolean")&&(w=null);var D=!1;if(w===null)D=!0;else switch(T){case"bigint":case"string":case"number":D=!0;break;case"object":switch(w.$$typeof){case t:case e:D=!0;break;case _:return D=w._init,he(D(w._payload),G,re,v,E)}}if(D)return E=E(w),D=v===""?"."+B(w,0):v,te(E)?(re="",D!=null&&(re=D.replace(L,"$&/")+"/"),he(E,G,re,"",function(ue){return ue})):E!=null&&(A(E)&&(E=O(E,re+(E.key==null||w&&w.key===E.key?"":(""+E.key).replace(L,"$&/")+"/")+D)),G.push(E)),1;D=0;var F=v===""?".":v+":";if(te(w))for(var ee=0;ee<w.length;ee++)v=w[ee],T=F+B(v,ee),D+=he(v,G,re,T,E);else if(ee=C(w),typeof ee=="function")for(w=ee.call(w),ee=0;!(v=w.next()).done;)v=v.value,T=F+B(v,ee++),D+=he(v,G,re,T,E);else if(T==="object"){if(typeof w.then=="function")return he(Q(w),G,re,v,E);throw G=String(w),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return D}function ne(w,G,re){if(w==null)return w;var v=[],E=0;return he(w,v,"","",function(T){return G.call(re,T,E++)}),v}function N(w){if(w._status===-1){var G=w._result;G=G(),G.then(function(re){(w._status===0||w._status===-1)&&(w._status=1,w._result=re)},function(re){(w._status===0||w._status===-1)&&(w._status=2,w._result=re)}),w._status===-1&&(w._status=0,w._result=G)}if(w._status===1)return w._result.default;throw w._result}var ge=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function Z(){}return We.Children={map:ne,forEach:function(w,G,re){ne(w,function(){G.apply(this,arguments)},re)},count:function(w){var G=0;return ne(w,function(){G++}),G},toArray:function(w){return ne(w,function(G){return G})||[]},only:function(w){if(!A(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},We.Component=U,We.Fragment=n,We.Profiler=s,We.PureComponent=q,We.StrictMode=r,We.Suspense=h,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,We.act=function(){throw Error("act(...) is not supported in production builds of React.")},We.cache=function(w){return function(){return w.apply(null,arguments)}},We.cloneElement=function(w,G,re){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var v=P({},w.props),E=w.key,T=void 0;if(G!=null)for(D in G.ref!==void 0&&(T=void 0),G.key!==void 0&&(E=""+G.key),G)!K.call(G,D)||D==="key"||D==="__self"||D==="__source"||D==="ref"&&G.ref===void 0||(v[D]=G[D]);var D=arguments.length-2;if(D===1)v.children=re;else if(1<D){for(var F=Array(D),ee=0;ee<D;ee++)F[ee]=arguments[ee+2];v.children=F}return M(w.type,E,void 0,void 0,T,v)},We.createContext=function(w){return w={$$typeof:c,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:o,_context:w},w},We.createElement=function(w,G,re){var v,E={},T=null;if(G!=null)for(v in G.key!==void 0&&(T=""+G.key),G)K.call(G,v)&&v!=="key"&&v!=="__self"&&v!=="__source"&&(E[v]=G[v]);var D=arguments.length-2;if(D===1)E.children=re;else if(1<D){for(var F=Array(D),ee=0;ee<D;ee++)F[ee]=arguments[ee+2];E.children=F}if(w&&w.defaultProps)for(v in D=w.defaultProps,D)E[v]===void 0&&(E[v]=D[v]);return M(w,T,void 0,void 0,null,E)},We.createRef=function(){return{current:null}},We.forwardRef=function(w){return{$$typeof:d,render:w}},We.isValidElement=A,We.lazy=function(w){return{$$typeof:_,_payload:{_status:-1,_result:w},_init:N}},We.memo=function(w,G){return{$$typeof:p,type:w,compare:G===void 0?null:G}},We.startTransition=function(w){var G=z.T,re={};z.T=re;try{var v=w(),E=z.S;E!==null&&E(re,v),typeof v=="object"&&v!==null&&typeof v.then=="function"&&v.then(Z,ge)}catch(T){ge(T)}finally{z.T=G}},We.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},We.use=function(w){return z.H.use(w)},We.useActionState=function(w,G,re){return z.H.useActionState(w,G,re)},We.useCallback=function(w,G){return z.H.useCallback(w,G)},We.useContext=function(w){return z.H.useContext(w)},We.useDebugValue=function(){},We.useDeferredValue=function(w,G){return z.H.useDeferredValue(w,G)},We.useEffect=function(w,G){return z.H.useEffect(w,G)},We.useId=function(){return z.H.useId()},We.useImperativeHandle=function(w,G,re){return z.H.useImperativeHandle(w,G,re)},We.useInsertionEffect=function(w,G){return z.H.useInsertionEffect(w,G)},We.useLayoutEffect=function(w,G){return z.H.useLayoutEffect(w,G)},We.useMemo=function(w,G){return z.H.useMemo(w,G)},We.useOptimistic=function(w,G){return z.H.useOptimistic(w,G)},We.useReducer=function(w,G,re){return z.H.useReducer(w,G,re)},We.useRef=function(w){return z.H.useRef(w)},We.useState=function(w){return z.H.useState(w)},We.useSyncExternalStore=function(w,G,re){return z.H.useSyncExternalStore(w,G,re)},We.useTransition=function(){return z.H.useTransition()},We.version="19.0.0",We}var pS;function Pi(){return pS||(pS=1,uv.exports=_4()),uv.exports}var Y=Pi();const Zr=Ap(Y);var dv={exports:{}},Nu={},hv={exports:{}},fv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mS;function b4(){return mS||(mS=1,function(t){function e(ne,N){var ge=ne.length;ne.push(N);e:for(;0<ge;){var Z=ge-1>>>1,w=ne[Z];if(0<s(w,N))ne[Z]=N,ne[ge]=w,ge=Z;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var N=ne[0],ge=ne.pop();if(ge!==N){ne[0]=ge;e:for(var Z=0,w=ne.length,G=w>>>1;Z<G;){var re=2*(Z+1)-1,v=ne[re],E=re+1,T=ne[E];if(0>s(v,ge))E<w&&0>s(T,v)?(ne[Z]=T,ne[E]=ge,Z=E):(ne[Z]=v,ne[re]=ge,Z=re);else if(E<w&&0>s(T,ge))ne[Z]=T,ne[E]=ge,Z=E;else break e}}return N}function s(ne,N){var ge=ne.sortIndex-N.sortIndex;return ge!==0?ge:ne.id-N.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],p=[],_=1,S=null,C=3,j=!1,P=!1,V=!1,U=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function X(ne){for(var N=n(p);N!==null;){if(N.callback===null)r(p);else if(N.startTime<=ne)r(p),N.sortIndex=N.expirationTime,e(h,N);else break;N=n(p)}}function te(ne){if(V=!1,X(ne),!P)if(n(h)!==null)P=!0,Q();else{var N=n(p);N!==null&&he(te,N.startTime-ne)}}var z=!1,K=-1,M=5,O=-1;function A(){return!(t.unstable_now()-O<M)}function x(){if(z){var ne=t.unstable_now();O=ne;var N=!0;try{e:{P=!1,V&&(V=!1,$(K),K=-1),j=!0;var ge=C;try{t:{for(X(ne),S=n(h);S!==null&&!(S.expirationTime>ne&&A());){var Z=S.callback;if(typeof Z=="function"){S.callback=null,C=S.priorityLevel;var w=Z(S.expirationTime<=ne);if(ne=t.unstable_now(),typeof w=="function"){S.callback=w,X(ne),N=!0;break t}S===n(h)&&r(h),X(ne)}else r(h);S=n(h)}if(S!==null)N=!0;else{var G=n(p);G!==null&&he(te,G.startTime-ne),N=!1}}break e}finally{S=null,C=ge,j=!1}N=void 0}}finally{N?L():z=!1}}}var L;if(typeof q=="function")L=function(){q(x)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,I=B.port2;B.port1.onmessage=x,L=function(){I.postMessage(null)}}else L=function(){U(x,0)};function Q(){z||(z=!0,L())}function he(ne,N){K=U(function(){ne(t.unstable_now())},N)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_continueExecution=function(){P||j||(P=!0,Q())},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(ne){switch(C){case 1:case 2:case 3:var N=3;break;default:N=C}var ge=C;C=N;try{return ne()}finally{C=ge}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ne,N){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ge=C;C=ne;try{return N()}finally{C=ge}},t.unstable_scheduleCallback=function(ne,N,ge){var Z=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Z+ge:Z):ge=Z,ne){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=ge+w,ne={id:_++,callback:N,priorityLevel:ne,startTime:ge,expirationTime:w,sortIndex:-1},ge>Z?(ne.sortIndex=ge,e(p,ne),n(h)===null&&ne===n(p)&&(V?($(K),K=-1):V=!0,he(te,ge-Z))):(ne.sortIndex=w,e(h,ne),P||j||(P=!0,Q())),ne},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(ne){var N=C;return function(){var ge=C;C=N;try{return ne.apply(this,arguments)}finally{C=ge}}}}(fv)),fv}var gS;function w4(){return gS||(gS=1,hv.exports=b4()),hv.exports}var pv={exports:{}},Mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vS;function S4(){if(vS)return Mn;vS=1;var t=Pi();function e(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(h,p,_){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:S==null?null:""+S,children:h,containerInfo:p,implementation:_}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Mn.createPortal=function(h,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(h,p,null,_)},Mn.flushSync=function(h){var p=c.T,_=r.p;try{if(c.T=null,r.p=2,h)return h()}finally{c.T=p,r.p=_,r.d.f()}},Mn.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(h,p))},Mn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Mn.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var _=p.as,S=d(_,p.crossOrigin),C=typeof p.integrity=="string"?p.integrity:void 0,j=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?r.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:C,fetchPriority:j}):_==="script"&&r.d.X(h,{crossOrigin:S,integrity:C,fetchPriority:j,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Mn.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=d(p.as,p.crossOrigin);r.d.M(h,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(h)},Mn.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,S=d(_,p.crossOrigin);r.d.L(h,_,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Mn.preloadModule=function(h,p){if(typeof h=="string")if(p){var _=d(p.as,p.crossOrigin);r.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(h)},Mn.requestFormReset=function(h){r.d.r(h)},Mn.unstable_batchedUpdates=function(h,p){return h(p)},Mn.useFormState=function(h,p,_){return c.H.useFormState(h,p,_)},Mn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Mn.version="19.0.0",Mn}var yS;function E4(){if(yS)return pv.exports;yS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),pv.exports=S4(),pv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _S;function T4(){if(_S)return Nu;_S=1;var t=w4(),e=Pi(),n=E4();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var o=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),j=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),te=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function K(i){return i===null||typeof i!="object"?null:(i=z&&i[z]||i["@@iterator"],typeof i=="function"?i:null)}var M=Symbol.for("react.client.reference");function O(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===M?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case h:return"Fragment";case d:return"Portal";case _:return"Profiler";case p:return"StrictMode";case V:return"Suspense";case U:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case j:return(i.displayName||"Context")+".Provider";case C:return(i._context.displayName||"Context")+".Consumer";case P:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case $:return a=i.displayName||null,a!==null?a:O(i.type)||"Memo";case q:a=i._payload,i=i._init;try{return O(i(a))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,x=Object.assign,L,B;function I(i){if(L===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);L=a&&a[1]||"",B=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+L+i+B}var Q=!1;function he(i,a){if(!i||Q)return"";Q=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(pe){var de=pe}Reflect.construct(i,[],Ee)}else{try{Ee.call()}catch(pe){de=pe}i.call(Ee.prototype)}}else{try{throw Error()}catch(pe){de=pe}(Ee=i())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(pe){if(pe&&de&&typeof pe.stack=="string")return[pe.stack,de.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),R=y[0],H=y[1];if(R&&H){var J=R.split(`
`),se=H.split(`
`);for(m=u=0;u<J.length&&!J[u].includes("DetermineComponentFrameRoot");)u++;for(;m<se.length&&!se[m].includes("DetermineComponentFrameRoot");)m++;if(u===J.length||m===se.length)for(u=J.length-1,m=se.length-1;1<=u&&0<=m&&J[u]!==se[m];)m--;for(;1<=u&&0<=m;u--,m--)if(J[u]!==se[m]){if(u!==1||m!==1)do if(u--,m--,0>m||J[u]!==se[m]){var me=`
`+J[u].replace(" at new "," at ");return i.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",i.displayName)),me}while(1<=u&&0<=m);break}}}finally{Q=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?I(l):""}function ne(i){switch(i.tag){case 26:case 27:case 5:return I(i.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 15:return i=he(i.type,!1),i;case 11:return i=he(i.type.render,!1),i;case 1:return i=he(i.type,!0),i;default:return""}}function N(i){try{var a="";do a+=ne(i),i=i.return;while(i);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function ge(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function Z(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function w(i){if(ge(i)!==i)throw Error(r(188))}function G(i){var a=i.alternate;if(!a){if(a=ge(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,u=a;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(u=m.return,u!==null){l=u;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return w(m),i;if(y===u)return w(m),a;y=y.sibling}throw Error(r(188))}if(l.return!==u.return)l=m,u=y;else{for(var R=!1,H=m.child;H;){if(H===l){R=!0,l=m,u=y;break}if(H===u){R=!0,u=m,l=y;break}H=H.sibling}if(!R){for(H=y.child;H;){if(H===l){R=!0,l=y,u=m;break}if(H===u){R=!0,u=y,l=m;break}H=H.sibling}if(!R)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function re(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=re(i),a!==null)return a;i=i.sibling}return null}var v=Array.isArray,E=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T={pending:!1,data:null,method:null,action:null},D=[],F=-1;function ee(i){return{current:i}}function ue(i){0>F||(i.current=D[F],D[F]=null,F--)}function ce(i,a){F++,D[F]=i.current,i.current=a}var ve=ee(null),Te=ee(null),Se=ee(null),xe=ee(null);function Ie(i,a){switch(ce(Se,a),ce(Te,i),ce(ve,null),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?z1(a):0;break;default:if(i=i===8?a.parentNode:a,a=i.tagName,i=i.namespaceURI)i=z1(i),a=B1(i,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ue(ve),ce(ve,a)}function qe(){ue(ve),ue(Te),ue(Se)}function Re(i){i.memoizedState!==null&&ce(xe,i);var a=ve.current,l=B1(a,i.type);a!==l&&(ce(Te,i),ce(ve,l))}function Ke(i){Te.current===i&&(ue(ve),ue(Te)),xe.current===i&&(ue(xe),Eu._currentValue=T)}var ct=Object.prototype.hasOwnProperty,pt=t.unstable_scheduleCallback,It=t.unstable_cancelCallback,bn=t.unstable_shouldYield,Rn=t.unstable_requestPaint,Jt=t.unstable_now,br=t.unstable_getCurrentPriorityLevel,Pt=t.unstable_ImmediatePriority,St=t.unstable_UserBlockingPriority,Bn=t.unstable_NormalPriority,Dd=t.unstable_LowPriority,xc=t.unstable_IdlePriority,hm=t.log,Va=t.unstable_setDisableYieldValue,Rs=null,On=null;function Ac(i){if(On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(Rs,i,void 0,(i.current.flags&128)===128)}catch{}}function ci(i){if(typeof hm=="function"&&Va(i),On&&typeof On.setStrictMode=="function")try{On.setStrictMode(Rs,i)}catch{}}var Fn=Math.clz32?Math.clz32:Ld,Cc=Math.log,Pd=Math.LN2;function Ld(i){return i>>>=0,i===0?32:31-(Cc(i)/Pd|0)|0}var ui=128,Os=4194304;function Hr(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function wr(i,a){var l=i.pendingLanes;if(l===0)return 0;var u=0,m=i.suspendedLanes,y=i.pingedLanes,R=i.warmLanes;i=i.finishedLanes!==0;var H=l&134217727;return H!==0?(l=H&~m,l!==0?u=Hr(l):(y&=H,y!==0?u=Hr(y):i||(R=H&~R,R!==0&&(u=Hr(R))))):(H=l&~m,H!==0?u=Hr(H):y!==0?u=Hr(y):i||(R=l&~R,R!==0&&(u=Hr(R)))),u===0?0:a!==0&&a!==u&&(a&m)===0&&(m=u&-u,R=a&-a,m>=R||m===32&&(R&4194176)!==0)?a:u}function Is(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function Xo(i,a){switch(i){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kc(){var i=ui;return ui<<=1,(ui&4194176)===0&&(ui=128),i}function Ms(){var i=Os;return Os<<=1,(Os&62914560)===0&&(Os=4194304),i}function Jo(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function Kt(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Vd(i,a,l,u,m,y){var R=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var H=i.entanglements,J=i.expirationTimes,se=i.hiddenUpdates;for(l=R&~l;0<l;){var me=31-Fn(l),Ee=1<<me;H[me]=0,J[me]=-1;var de=se[me];if(de!==null)for(se[me]=null,me=0;me<de.length;me++){var pe=de[me];pe!==null&&(pe.lane&=-536870913)}l&=~Ee}u!==0&&js(i,u,0),y!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=y&~(R&~a))}function js(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var u=31-Fn(a);i.entangledLanes|=a,i.entanglements[u]=i.entanglements[u]|1073741824|l&4194218}function Ds(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var u=31-Fn(l),m=1<<u;m&a|i[u]&a&&(i[u]|=a),l&=~m}}function Ud(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function zd(){var i=E.p;return i!==0?i:(i=window.event,i===void 0?32:sS(i.type))}function Ps(i,a){var l=E.p;try{return E.p=i,a()}finally{E.p=l}}var di=Math.random().toString(36).slice(2),hn="__reactFiber$"+di,sn="__reactProps$"+di,Vi="__reactContainer$"+di,Ua="__reactEvents$"+di,Zo="__reactListeners$"+di,hi="__reactHandles$"+di,Nc="__reactResources$"+di,Ls="__reactMarker$"+di;function za(i){delete i[hn],delete i[sn],delete i[Ua],delete i[Zo],delete i[hi]}function $r(i){var a=i[hn];if(a)return a;for(var l=i.parentNode;l;){if(a=l[Vi]||l[hn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=H1(i);i!==null;){if(l=i[hn])return l;i=H1(i)}return a}i=l,l=i.parentNode}return null}function Ui(i){if(i=i[hn]||i[Vi]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function Vs(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function Us(i){var a=i[Nc];return a||(a=i[Nc]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Lt(i){i[Ls]=!0}var Rc=new Set,el={};function ar(i,a){Jn(i,a),Jn(i+"Capture",a)}function Jn(i,a){for(el[i]=a,i=0;i<a.length;i++)Rc.add(a[i])}var or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oc={},Ic={};function Bd(i){return ct.call(Ic,i)?!0:ct.call(Oc,i)?!1:fm.test(i)?Ic[i]=!0:(Oc[i]=!0,!1)}function zs(i,a,l){if(Bd(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function Bs(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function Sr(i,a,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+u)}}function qn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Fd(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function pm(i){var a=Fd(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),u=""+i[a];if(!i.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return m.call(this)},set:function(R){u=""+R,y.call(this,R)}}),Object.defineProperty(i,a,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(R){u=""+R},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Ba(i){i._valueTracker||(i._valueTracker=pm(i))}function Mc(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return i&&(u=Fd(i)?i.checked?"true":"false":i.value),i=u,i!==l?(a.setValue(i),!0):!1}function tl(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var zi=/[\n"\\]/g;function Bt(i){return i.replace(zi,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Fs(i,a,l,u,m,y,R,H){i.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.type=R:i.removeAttribute("type"),a!=null?R==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+qn(a)):i.value!==""+qn(a)&&(i.value=""+qn(a)):R!=="submit"&&R!=="reset"||i.removeAttribute("value"),a!=null?nl(i,R,qn(a)):l!=null?nl(i,R,qn(l)):u!=null&&i.removeAttribute("value"),m==null&&y!=null&&(i.defaultChecked=!!y),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?i.name=""+qn(H):i.removeAttribute("name")}function Fa(i,a,l,u,m,y,R,H){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+qn(l):"",a=a!=null?""+qn(a):l,H||a===i.value||(i.value=a),i.defaultValue=a}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=H?i.checked:!!u,i.defaultChecked=!!u,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(i.name=R)}function nl(i,a,l){a==="number"&&tl(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function dt(i,a,l,u){if(i=i.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=a.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&u&&(i[l].defaultSelected=!0)}else{for(l=""+qn(l),a=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,u&&(i[m].defaultSelected=!0);return}a!==null||i[m].disabled||(a=i[m])}a!==null&&(a.selected=!0)}}function qa(i,a,l){if(a!=null&&(a=""+qn(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+qn(l):""}function qs(i,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(r(92));if(v(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=qn(a),i.defaultValue=l,u=i.textContent,u===l&&u!==""&&u!==null&&(i.value=u)}function Er(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var mm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jc(i,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":u?i.setProperty(a,l):typeof l!="number"||l===0||mm.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function qd(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var m in a)u=a[m],a.hasOwnProperty(m)&&l[m]!==u&&jc(i,m,u)}else for(var y in a)a.hasOwnProperty(y)&&jc(i,y,a[y])}function Dc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fi(i){return vm.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Tr=null;function rl(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Bi=null,Fi=null;function qi(i){var a=Ui(i);if(a&&(i=a.stateNode)){var l=i[sn]||null;e:switch(i=a.stateNode,a.type){case"input":if(Fs(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Bt(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==i&&u.form===i.form){var m=u[sn]||null;if(!m)throw Error(r(90));Fs(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===i.form&&Mc(u)}break e;case"textarea":qa(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&dt(i,!!l.multiple,a,!1)}}}var Pc=!1;function Hd(i,a,l){if(Pc)return i(a,l);Pc=!0;try{var u=i(a);return u}finally{if(Pc=!1,(Bi!==null||Fi!==null)&&(Dh(),Bi&&(a=Bi,i=Fi,Fi=Bi=null,qi(a),i)))for(a=0;a<i.length;a++)qi(i[a])}}function Ha(i,a){var l=i.stateNode;if(l===null)return null;var u=l[sn]||null;if(u===null)return null;l=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var xr=!1;if(or)try{var $a={};Object.defineProperty($a,"passive",{get:function(){xr=!0}}),window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{xr=!1}var pi=null,Hs=null,Hi=null;function Lc(){if(Hi)return Hi;var i,a=Hs,l=a.length,u,m="value"in pi?pi.value:pi.textContent,y=m.length;for(i=0;i<l&&a[i]===m[i];i++);var R=l-i;for(u=1;u<=R&&a[l-u]===m[y-u];u++);return Hi=m.slice(i,1<u?1-u:void 0)}function mi(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function gi(){return!0}function Vc(){return!1}function fn(i){function a(l,u,m,y,R){this._reactName=l,this._targetInst=m,this.type=u,this.nativeEvent=y,this.target=R,this.currentTarget=null;for(var H in i)i.hasOwnProperty(H)&&(l=i[H],this[H]=l?l(y):y[H]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?gi:Vc,this.isPropagationStopped=Vc,this}return x(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),a}var gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},il=fn(gt),Ga=x({},gt,{view:0,detail:0}),$d=fn(Ga),sl,al,vi,Wa=x({},Ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ya,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==vi&&(vi&&i.type==="mousemove"?(sl=i.screenX-vi.screenX,al=i.screenY-vi.screenY):al=sl=0,vi=i),sl)},movementY:function(i){return"movementY"in i?i.movementY:al}}),Ar=fn(Wa),Gd=x({},Wa,{dataTransfer:0}),ym=fn(Gd),Ka=x({},Ga,{relatedTarget:0}),ol=fn(Ka),Uc=x({},gt,{animationName:0,elapsedTime:0,pseudoElement:0}),ll=fn(Uc),Wd=x({},gt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),cl=fn(Wd),_m=x({},gt,{data:0}),zc=fn(_m),Qa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bc(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=Qd[i])?!!a[i]:!1}function Ya(){return Bc}var Yd=x({},Ga,{key:function(i){if(i.key){var a=Qa[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=mi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Kd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ya,charCode:function(i){return i.type==="keypress"?mi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?mi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ul=fn(Yd),Xd=x({},Wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fc=fn(Xd),$i=x({},Ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ya}),Jd=fn($i),Zd=x({},gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),eh=fn(Zd),th=x({},Wa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),dl=fn(th),Hn=x({},gt,{newState:0,oldState:0}),nh=fn(Hn),rh=[9,13,27,32],yi=or&&"CompositionEvent"in window,f=null;or&&"documentMode"in document&&(f=document.documentMode);var b=or&&"TextEvent"in window&&!f,k=or&&(!yi||f&&8<f&&11>=f),W=" ",oe=!1;function fe(i,a){switch(i){case"keyup":return rh.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ae(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var rt=!1;function an(i,a){switch(i){case"compositionend":return Ae(a);case"keypress":return a.which!==32?null:(oe=!0,W);case"textInput":return i=a.data,i===W&&oe?null:i;default:return null}}function it(i,a){if(rt)return i==="compositionend"||!yi&&fe(i,a)?(i=Lc(),Hi=Hs=pi=null,rt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return k&&a.locale!=="ko"?null:a.data;default:return null}}var pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function on(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!pn[i.type]:a==="textarea"}function Gi(i,a,l,u){Bi?Fi?Fi.push(u):Fi=[u]:Bi=u,a=zh(a,"onChange"),0<a.length&&(l=new il("onChange","change",null,l,u),i.push({event:l,listeners:a}))}var wn=null,_i=null;function qc(i){D1(i,0)}function ih(i){var a=Vs(i);if(Mc(a))return i}function ub(i,a){if(i==="change")return a}var db=!1;if(or){var bm;if(or){var wm="oninput"in document;if(!wm){var hb=document.createElement("div");hb.setAttribute("oninput","return;"),wm=typeof hb.oninput=="function"}bm=wm}else bm=!1;db=bm&&(!document.documentMode||9<document.documentMode)}function fb(){wn&&(wn.detachEvent("onpropertychange",pb),_i=wn=null)}function pb(i){if(i.propertyName==="value"&&ih(_i)){var a=[];Gi(a,_i,i,rl(i)),Hd(qc,a)}}function GR(i,a,l){i==="focusin"?(fb(),wn=a,_i=l,wn.attachEvent("onpropertychange",pb)):i==="focusout"&&fb()}function WR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ih(_i)}function KR(i,a){if(i==="click")return ih(a)}function QR(i,a){if(i==="input"||i==="change")return ih(a)}function YR(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var lr=typeof Object.is=="function"?Object.is:YR;function Hc(i,a){if(lr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var m=l[u];if(!ct.call(a,m)||!lr(i[m],a[m]))return!1}return!0}function mb(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function gb(i,a){var l=mb(i);i=0;for(var u;l;){if(l.nodeType===3){if(u=i+l.textContent.length,i<=a&&u>=a)return{node:l,offset:a-i};i=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=mb(l)}}function vb(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?vb(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function yb(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=tl(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=tl(i.document)}return a}function Sm(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function XR(i,a){var l=yb(a);a=i.focusedElem;var u=i.selectionRange;if(l!==a&&a&&a.ownerDocument&&vb(a.ownerDocument.documentElement,a)){if(u!==null&&Sm(a)){if(i=u.start,l=u.end,l===void 0&&(l=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(l,a.value.length);else if(l=(i=a.ownerDocument||document)&&i.defaultView||window,l.getSelection){l=l.getSelection();var m=a.textContent.length,y=Math.min(u.start,m);u=u.end===void 0?y:Math.min(u.end,m),!l.extend&&y>u&&(m=u,u=y,y=m),m=gb(a,y);var R=gb(a,u);m&&R&&(l.rangeCount!==1||l.anchorNode!==m.node||l.anchorOffset!==m.offset||l.focusNode!==R.node||l.focusOffset!==R.offset)&&(i=i.createRange(),i.setStart(m.node,m.offset),l.removeAllRanges(),y>u?(l.addRange(i),l.extend(R.node,R.offset)):(i.setEnd(R.node,R.offset),l.addRange(i)))}}for(i=[],l=a;l=l.parentNode;)l.nodeType===1&&i.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)l=i[a],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var JR=or&&"documentMode"in document&&11>=document.documentMode,hl=null,Em=null,$c=null,Tm=!1;function _b(i,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Tm||hl==null||hl!==tl(u)||(u=hl,"selectionStart"in u&&Sm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),$c&&Hc($c,u)||($c=u,u=zh(Em,"onSelect"),0<u.length&&(a=new il("onSelect","select",null,a,l),i.push({event:a,listeners:u}),a.target=hl)))}function Xa(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var fl={animationend:Xa("Animation","AnimationEnd"),animationiteration:Xa("Animation","AnimationIteration"),animationstart:Xa("Animation","AnimationStart"),transitionrun:Xa("Transition","TransitionRun"),transitionstart:Xa("Transition","TransitionStart"),transitioncancel:Xa("Transition","TransitionCancel"),transitionend:Xa("Transition","TransitionEnd")},xm={},bb={};or&&(bb=document.createElement("div").style,"AnimationEvent"in window||(delete fl.animationend.animation,delete fl.animationiteration.animation,delete fl.animationstart.animation),"TransitionEvent"in window||delete fl.transitionend.transition);function Ja(i){if(xm[i])return xm[i];if(!fl[i])return i;var a=fl[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in bb)return xm[i]=a[l];return i}var wb=Ja("animationend"),Sb=Ja("animationiteration"),Eb=Ja("animationstart"),ZR=Ja("transitionrun"),eO=Ja("transitionstart"),tO=Ja("transitioncancel"),Tb=Ja("transitionend"),xb=new Map,Ab="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Gr(i,a){xb.set(i,a),ar(a,[i])}var Cr=[],pl=0,Am=0;function sh(){for(var i=pl,a=Am=pl=0;a<i;){var l=Cr[a];Cr[a++]=null;var u=Cr[a];Cr[a++]=null;var m=Cr[a];Cr[a++]=null;var y=Cr[a];if(Cr[a++]=null,u!==null&&m!==null){var R=u.pending;R===null?m.next=m:(m.next=R.next,R.next=m),u.pending=m}y!==0&&Cb(l,m,y)}}function ah(i,a,l,u){Cr[pl++]=i,Cr[pl++]=a,Cr[pl++]=l,Cr[pl++]=u,Am|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Cm(i,a,l,u){return ah(i,a,l,u),oh(i)}function $s(i,a){return ah(i,null,null,a),oh(i)}function Cb(i,a,l){i.lanes|=l;var u=i.alternate;u!==null&&(u.lanes|=l);for(var m=!1,y=i.return;y!==null;)y.childLanes|=l,u=y.alternate,u!==null&&(u.childLanes|=l),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(m=!0)),i=y,y=y.return;m&&a!==null&&i.tag===3&&(y=i.stateNode,m=31-Fn(l),y=y.hiddenUpdates,i=y[m],i===null?y[m]=[a]:i.push(a),a.lane=l|536870912)}function oh(i){if(50<gu)throw gu=0,Mg=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var ml={},kb=new WeakMap;function kr(i,a){if(typeof i=="object"&&i!==null){var l=kb.get(i);return l!==void 0?l:(a={value:i,source:a,stack:N(a)},kb.set(i,a),a)}return{value:i,source:a,stack:N(a)}}var gl=[],vl=0,lh=null,ch=0,Nr=[],Rr=0,Za=null,Wi=1,Ki="";function eo(i,a){gl[vl++]=ch,gl[vl++]=lh,lh=i,ch=a}function Nb(i,a,l){Nr[Rr++]=Wi,Nr[Rr++]=Ki,Nr[Rr++]=Za,Za=i;var u=Wi;i=Ki;var m=32-Fn(u)-1;u&=~(1<<m),l+=1;var y=32-Fn(a)+m;if(30<y){var R=m-m%5;y=(u&(1<<R)-1).toString(32),u>>=R,m-=R,Wi=1<<32-Fn(a)+m|l<<m|u,Ki=y+i}else Wi=1<<y|l<<m|u,Ki=i}function km(i){i.return!==null&&(eo(i,1),Nb(i,1,0))}function Nm(i){for(;i===lh;)lh=gl[--vl],gl[vl]=null,ch=gl[--vl],gl[vl]=null;for(;i===Za;)Za=Nr[--Rr],Nr[Rr]=null,Ki=Nr[--Rr],Nr[Rr]=null,Wi=Nr[--Rr],Nr[Rr]=null}var $n=null,Sn=null,ht=!1,Wr=null,bi=!1,Rm=Error(r(519));function to(i){var a=Error(r(418,""));throw Kc(kr(a,i)),Rm}function Rb(i){var a=i.stateNode,l=i.type,u=i.memoizedProps;switch(a[hn]=i,a[sn]=u,l){case"dialog":tt("cancel",a),tt("close",a);break;case"iframe":case"object":case"embed":tt("load",a);break;case"video":case"audio":for(l=0;l<yu.length;l++)tt(yu[l],a);break;case"source":tt("error",a);break;case"img":case"image":case"link":tt("error",a),tt("load",a);break;case"details":tt("toggle",a);break;case"input":tt("invalid",a),Fa(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ba(a);break;case"select":tt("invalid",a);break;case"textarea":tt("invalid",a),qs(a,u.value,u.defaultValue,u.children),Ba(a)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||U1(a.textContent,l)?(u.popover!=null&&(tt("beforetoggle",a),tt("toggle",a)),u.onScroll!=null&&tt("scroll",a),u.onScrollEnd!=null&&tt("scrollend",a),u.onClick!=null&&(a.onclick=Bh),a=!0):a=!1,a||to(i)}function Ob(i){for($n=i.return;$n;)switch($n.tag){case 3:case 27:bi=!0;return;case 5:case 13:bi=!1;return;default:$n=$n.return}}function Gc(i){if(i!==$n)return!1;if(!ht)return Ob(i),ht=!0,!1;var a=!1,l;if((l=i.tag!==3&&i.tag!==27)&&((l=i.tag===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Yg(i.type,i.memoizedProps)),l=!l),l&&(a=!0),a&&Sn&&to(i),Ob(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(a===0){Sn=Qr(i.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;i=i.nextSibling}Sn=null}}else Sn=$n?Qr(i.stateNode.nextSibling):null;return!0}function Wc(){Sn=$n=null,ht=!1}function Kc(i){Wr===null?Wr=[i]:Wr.push(i)}var Qc=Error(r(460)),Ib=Error(r(474)),Om={then:function(){}};function Mb(i){return i=i.status,i==="fulfilled"||i==="rejected"}function uh(){}function jb(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(uh,uh),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,i===Qc?Error(r(483)):i;default:if(typeof a.status=="string")a.then(uh,uh);else{if(i=kt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(u){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=u}},function(u){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,i===Qc?Error(r(483)):i}throw Yc=a,Qc}}var Yc=null;function Db(){if(Yc===null)throw Error(r(459));var i=Yc;return Yc=null,i}var yl=null,Xc=0;function dh(i){var a=Xc;return Xc+=1,yl===null&&(yl=[]),jb(yl,i,a)}function Jc(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function hh(i,a){throw a.$$typeof===o?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function Pb(i){var a=i._init;return a(i._payload)}function Lb(i){function a(ae,ie){if(i){var le=ae.deletions;le===null?(ae.deletions=[ie],ae.flags|=16):le.push(ie)}}function l(ae,ie){if(!i)return null;for(;ie!==null;)a(ae,ie),ie=ie.sibling;return null}function u(ae){for(var ie=new Map;ae!==null;)ae.key!==null?ie.set(ae.key,ae):ie.set(ae.index,ae),ae=ae.sibling;return ie}function m(ae,ie){return ae=ra(ae,ie),ae.index=0,ae.sibling=null,ae}function y(ae,ie,le){return ae.index=le,i?(le=ae.alternate,le!==null?(le=le.index,le<ie?(ae.flags|=33554434,ie):le):(ae.flags|=33554434,ie)):(ae.flags|=1048576,ie)}function R(ae){return i&&ae.alternate===null&&(ae.flags|=33554434),ae}function H(ae,ie,le,_e){return ie===null||ie.tag!==6?(ie=xg(le,ae.mode,_e),ie.return=ae,ie):(ie=m(ie,le),ie.return=ae,ie)}function J(ae,ie,le,_e){var Oe=le.type;return Oe===h?me(ae,ie,le.props.children,_e,le.key):ie!==null&&(ie.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===q&&Pb(Oe)===ie.type)?(ie=m(ie,le.props),Jc(ie,le),ie.return=ae,ie):(ie=Rh(le.type,le.key,le.props,null,ae.mode,_e),Jc(ie,le),ie.return=ae,ie)}function se(ae,ie,le,_e){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==le.containerInfo||ie.stateNode.implementation!==le.implementation?(ie=Ag(le,ae.mode,_e),ie.return=ae,ie):(ie=m(ie,le.children||[]),ie.return=ae,ie)}function me(ae,ie,le,_e,Oe){return ie===null||ie.tag!==7?(ie=ho(le,ae.mode,_e,Oe),ie.return=ae,ie):(ie=m(ie,le),ie.return=ae,ie)}function Ee(ae,ie,le){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ie=xg(""+ie,ae.mode,le),ie.return=ae,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case c:return le=Rh(ie.type,ie.key,ie.props,null,ae.mode,le),Jc(le,ie),le.return=ae,le;case d:return ie=Ag(ie,ae.mode,le),ie.return=ae,ie;case q:var _e=ie._init;return ie=_e(ie._payload),Ee(ae,ie,le)}if(v(ie)||K(ie))return ie=ho(ie,ae.mode,le,null),ie.return=ae,ie;if(typeof ie.then=="function")return Ee(ae,dh(ie),le);if(ie.$$typeof===j)return Ee(ae,Ch(ae,ie),le);hh(ae,ie)}return null}function de(ae,ie,le,_e){var Oe=ie!==null?ie.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Oe!==null?null:H(ae,ie,""+le,_e);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case c:return le.key===Oe?J(ae,ie,le,_e):null;case d:return le.key===Oe?se(ae,ie,le,_e):null;case q:return Oe=le._init,le=Oe(le._payload),de(ae,ie,le,_e)}if(v(le)||K(le))return Oe!==null?null:me(ae,ie,le,_e,null);if(typeof le.then=="function")return de(ae,ie,dh(le),_e);if(le.$$typeof===j)return de(ae,ie,Ch(ae,le),_e);hh(ae,le)}return null}function pe(ae,ie,le,_e,Oe){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return ae=ae.get(le)||null,H(ie,ae,""+_e,Oe);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case c:return ae=ae.get(_e.key===null?le:_e.key)||null,J(ie,ae,_e,Oe);case d:return ae=ae.get(_e.key===null?le:_e.key)||null,se(ie,ae,_e,Oe);case q:var Xe=_e._init;return _e=Xe(_e._payload),pe(ae,ie,le,_e,Oe)}if(v(_e)||K(_e))return ae=ae.get(le)||null,me(ie,ae,_e,Oe,null);if(typeof _e.then=="function")return pe(ae,ie,le,dh(_e),Oe);if(_e.$$typeof===j)return pe(ae,ie,le,Ch(ie,_e),Oe);hh(ie,_e)}return null}function Me(ae,ie,le,_e){for(var Oe=null,Xe=null,De=ie,Ve=ie=0,vn=null;De!==null&&Ve<le.length;Ve++){De.index>Ve?(vn=De,De=null):vn=De.sibling;var ft=de(ae,De,le[Ve],_e);if(ft===null){De===null&&(De=vn);break}i&&De&&ft.alternate===null&&a(ae,De),ie=y(ft,ie,Ve),Xe===null?Oe=ft:Xe.sibling=ft,Xe=ft,De=vn}if(Ve===le.length)return l(ae,De),ht&&eo(ae,Ve),Oe;if(De===null){for(;Ve<le.length;Ve++)De=Ee(ae,le[Ve],_e),De!==null&&(ie=y(De,ie,Ve),Xe===null?Oe=De:Xe.sibling=De,Xe=De);return ht&&eo(ae,Ve),Oe}for(De=u(De);Ve<le.length;Ve++)vn=pe(De,ae,Ve,le[Ve],_e),vn!==null&&(i&&vn.alternate!==null&&De.delete(vn.key===null?Ve:vn.key),ie=y(vn,ie,Ve),Xe===null?Oe=vn:Xe.sibling=vn,Xe=vn);return i&&De.forEach(function(ua){return a(ae,ua)}),ht&&eo(ae,Ve),Oe}function He(ae,ie,le,_e){if(le==null)throw Error(r(151));for(var Oe=null,Xe=null,De=ie,Ve=ie=0,vn=null,ft=le.next();De!==null&&!ft.done;Ve++,ft=le.next()){De.index>Ve?(vn=De,De=null):vn=De.sibling;var ua=de(ae,De,ft.value,_e);if(ua===null){De===null&&(De=vn);break}i&&De&&ua.alternate===null&&a(ae,De),ie=y(ua,ie,Ve),Xe===null?Oe=ua:Xe.sibling=ua,Xe=ua,De=vn}if(ft.done)return l(ae,De),ht&&eo(ae,Ve),Oe;if(De===null){for(;!ft.done;Ve++,ft=le.next())ft=Ee(ae,ft.value,_e),ft!==null&&(ie=y(ft,ie,Ve),Xe===null?Oe=ft:Xe.sibling=ft,Xe=ft);return ht&&eo(ae,Ve),Oe}for(De=u(De);!ft.done;Ve++,ft=le.next())ft=pe(De,ae,Ve,ft.value,_e),ft!==null&&(i&&ft.alternate!==null&&De.delete(ft.key===null?Ve:ft.key),ie=y(ft,ie,Ve),Xe===null?Oe=ft:Xe.sibling=ft,Xe=ft);return i&&De.forEach(function(m4){return a(ae,m4)}),ht&&eo(ae,Ve),Oe}function Ht(ae,ie,le,_e){if(typeof le=="object"&&le!==null&&le.type===h&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case c:e:{for(var Oe=le.key;ie!==null;){if(ie.key===Oe){if(Oe=le.type,Oe===h){if(ie.tag===7){l(ae,ie.sibling),_e=m(ie,le.props.children),_e.return=ae,ae=_e;break e}}else if(ie.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===q&&Pb(Oe)===ie.type){l(ae,ie.sibling),_e=m(ie,le.props),Jc(_e,le),_e.return=ae,ae=_e;break e}l(ae,ie);break}else a(ae,ie);ie=ie.sibling}le.type===h?(_e=ho(le.props.children,ae.mode,_e,le.key),_e.return=ae,ae=_e):(_e=Rh(le.type,le.key,le.props,null,ae.mode,_e),Jc(_e,le),_e.return=ae,ae=_e)}return R(ae);case d:e:{for(Oe=le.key;ie!==null;){if(ie.key===Oe)if(ie.tag===4&&ie.stateNode.containerInfo===le.containerInfo&&ie.stateNode.implementation===le.implementation){l(ae,ie.sibling),_e=m(ie,le.children||[]),_e.return=ae,ae=_e;break e}else{l(ae,ie);break}else a(ae,ie);ie=ie.sibling}_e=Ag(le,ae.mode,_e),_e.return=ae,ae=_e}return R(ae);case q:return Oe=le._init,le=Oe(le._payload),Ht(ae,ie,le,_e)}if(v(le))return Me(ae,ie,le,_e);if(K(le)){if(Oe=K(le),typeof Oe!="function")throw Error(r(150));return le=Oe.call(le),He(ae,ie,le,_e)}if(typeof le.then=="function")return Ht(ae,ie,dh(le),_e);if(le.$$typeof===j)return Ht(ae,ie,Ch(ae,le),_e);hh(ae,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,ie!==null&&ie.tag===6?(l(ae,ie.sibling),_e=m(ie,le),_e.return=ae,ae=_e):(l(ae,ie),_e=xg(le,ae.mode,_e),_e.return=ae,ae=_e),R(ae)):l(ae,ie)}return function(ae,ie,le,_e){try{Xc=0;var Oe=Ht(ae,ie,le,_e);return yl=null,Oe}catch(De){if(De===Qc)throw De;var Xe=jr(29,De,null,ae.mode);return Xe.lanes=_e,Xe.return=ae,Xe}finally{}}}var no=Lb(!0),Vb=Lb(!1),_l=ee(null),fh=ee(0);function Ub(i,a){i=ss,ce(fh,i),ce(_l,a),ss=i|a.baseLanes}function Im(){ce(fh,ss),ce(_l,_l.current)}function Mm(){ss=fh.current,ue(_l),ue(fh)}var Or=ee(null),wi=null;function Gs(i){var a=i.alternate;ce(ln,ln.current&1),ce(Or,i),wi===null&&(a===null||_l.current!==null||a.memoizedState!==null)&&(wi=i)}function zb(i){if(i.tag===22){if(ce(ln,ln.current),ce(Or,i),wi===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(wi=i)}}else Ws()}function Ws(){ce(ln,ln.current),ce(Or,Or.current)}function Qi(i){ue(Or),wi===i&&(wi=null),ue(ln)}var ln=ee(0);function ph(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var nO=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,u){i.push(u)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},rO=t.unstable_scheduleCallback,iO=t.unstable_NormalPriority,cn={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jm(){return{controller:new nO,data:new Map,refCount:0}}function Zc(i){i.refCount--,i.refCount===0&&rO(iO,function(){i.controller.abort()})}var eu=null,Dm=0,bl=0,wl=null;function sO(i,a){if(eu===null){var l=eu=[];Dm=0,bl=Bg(),wl={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Dm++,a.then(Bb,Bb),a}function Bb(){if(--Dm===0&&eu!==null){wl!==null&&(wl.status="fulfilled");var i=eu;eu=null,bl=0,wl=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function aO(i,a){var l=[],u={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return i.then(function(){u.status="fulfilled",u.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(u.status="rejected",u.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),u}var Fb=A.S;A.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&sO(i,a),Fb!==null&&Fb(i,a)};var ro=ee(null);function Pm(){var i=ro.current;return i!==null?i:kt.pooledCache}function mh(i,a){a===null?ce(ro,ro.current):ce(ro,a.pool)}function qb(){var i=Pm();return i===null?null:{parent:cn._currentValue,pool:i}}var Ks=0,Qe=null,yt=null,Zt=null,gh=!1,Sl=!1,io=!1,vh=0,tu=0,El=null,oO=0;function Qt(){throw Error(r(321))}function Lm(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!lr(i[l],a[l]))return!1;return!0}function Vm(i,a,l,u,m,y){return Ks=y,Qe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,A.H=i===null||i.memoizedState===null?so:Qs,io=!1,y=l(u,m),io=!1,Sl&&(y=$b(a,l,u,m)),Hb(i),y}function Hb(i){A.H=Si;var a=yt!==null&&yt.next!==null;if(Ks=0,Zt=yt=Qe=null,gh=!1,tu=0,El=null,a)throw Error(r(300));i===null||mn||(i=i.dependencies,i!==null&&Ah(i)&&(mn=!0))}function $b(i,a,l,u){Qe=i;var m=0;do{if(Sl&&(El=null),tu=0,Sl=!1,25<=m)throw Error(r(301));if(m+=1,Zt=yt=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}A.H=ao,y=a(l,u)}while(Sl);return y}function lO(){var i=A.H,a=i.useState()[0];return a=typeof a.then=="function"?nu(a):a,i=i.useState()[0],(yt!==null?yt.memoizedState:null)!==i&&(Qe.flags|=1024),a}function Um(){var i=vh!==0;return vh=0,i}function zm(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function Bm(i){if(gh){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}gh=!1}Ks=0,Zt=yt=Qe=null,Sl=!1,tu=vh=0,El=null}function Zn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?Qe.memoizedState=Zt=i:Zt=Zt.next=i,Zt}function en(){if(yt===null){var i=Qe.alternate;i=i!==null?i.memoizedState:null}else i=yt.next;var a=Zt===null?Qe.memoizedState:Zt.next;if(a!==null)Zt=a,yt=i;else{if(i===null)throw Qe.alternate===null?Error(r(467)):Error(r(310));yt=i,i={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Zt===null?Qe.memoizedState=Zt=i:Zt=Zt.next=i}return Zt}var yh;yh=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function nu(i){var a=tu;return tu+=1,El===null&&(El=[]),i=jb(El,i,a),a=Qe,(Zt===null?a.memoizedState:Zt.next)===null&&(a=a.alternate,A.H=a===null||a.memoizedState===null?so:Qs),i}function _h(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return nu(i);if(i.$$typeof===j)return In(i)}throw Error(r(438,String(i)))}function Fm(i){var a=null,l=Qe.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=Qe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=yh(),Qe.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),u=0;u<i;u++)l[u]=te;return a.index++,l}function Yi(i,a){return typeof a=="function"?a(i):a}function bh(i){var a=en();return qm(a,yt,i)}function qm(i,a,l){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var m=i.baseQueue,y=u.pending;if(y!==null){if(m!==null){var R=m.next;m.next=y.next,y.next=R}a.baseQueue=m=y,u.pending=null}if(y=i.baseState,m===null)i.memoizedState=y;else{a=m.next;var H=R=null,J=null,se=a,me=!1;do{var Ee=se.lane&-536870913;if(Ee!==se.lane?(st&Ee)===Ee:(Ks&Ee)===Ee){var de=se.revertLane;if(de===0)J!==null&&(J=J.next={lane:0,revertLane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),Ee===bl&&(me=!0);else if((Ks&de)===de){se=se.next,de===bl&&(me=!0);continue}else Ee={lane:0,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},J===null?(H=J=Ee,R=y):J=J.next=Ee,Qe.lanes|=de,ia|=de;Ee=se.action,io&&l(y,Ee),y=se.hasEagerState?se.eagerState:l(y,Ee)}else de={lane:Ee,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},J===null?(H=J=de,R=y):J=J.next=de,Qe.lanes|=Ee,ia|=Ee;se=se.next}while(se!==null&&se!==a);if(J===null?R=y:J.next=H,!lr(y,i.memoizedState)&&(mn=!0,me&&(l=wl,l!==null)))throw l;i.memoizedState=y,i.baseState=R,i.baseQueue=J,u.lastRenderedState=y}return m===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Hm(i){var a=en(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var u=l.dispatch,m=l.pending,y=a.memoizedState;if(m!==null){l.pending=null;var R=m=m.next;do y=i(y,R.action),R=R.next;while(R!==m);lr(y,a.memoizedState)||(mn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,u]}function Gb(i,a,l){var u=Qe,m=en(),y=ht;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=a();var R=!lr((yt||m).memoizedState,l);if(R&&(m.memoizedState=l,mn=!0),m=m.queue,Wm(Qb.bind(null,u,m,i),[i]),m.getSnapshot!==a||R||Zt!==null&&Zt.memoizedState.tag&1){if(u.flags|=2048,Tl(9,Kb.bind(null,u,m,l,a),{destroy:void 0},null),kt===null)throw Error(r(349));y||(Ks&60)!==0||Wb(u,a,l)}return l}function Wb(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=Qe.updateQueue,a===null?(a=yh(),Qe.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function Kb(i,a,l,u){a.value=l,a.getSnapshot=u,Yb(a)&&Xb(i)}function Qb(i,a,l){return l(function(){Yb(a)&&Xb(i)})}function Yb(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!lr(i,l)}catch{return!0}}function Xb(i){var a=$s(i,2);a!==null&&Gn(a,i,2)}function $m(i){var a=Zn();if(typeof i=="function"){var l=i;if(i=l(),io){ci(!0);try{l()}finally{ci(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:i},a}function Jb(i,a,l,u){return i.baseState=l,qm(i,yt,typeof u=="function"?u:Yi)}function cO(i,a,l,u,m){if(Eh(i))throw Error(r(485));if(i=a.action,i!==null){var y={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){y.listeners.push(R)}};A.T!==null?l(!0):y.isTransition=!1,u(y),l=a.pending,l===null?(y.next=a.pending=y,Zb(a,y)):(y.next=l.next,a.pending=l.next=y)}}function Zb(i,a){var l=a.action,u=a.payload,m=i.state;if(a.isTransition){var y=A.T,R={};A.T=R;try{var H=l(m,u),J=A.S;J!==null&&J(R,H),ew(i,a,H)}catch(se){Gm(i,a,se)}finally{A.T=y}}else try{y=l(m,u),ew(i,a,y)}catch(se){Gm(i,a,se)}}function ew(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){tw(i,a,u)},function(u){return Gm(i,a,u)}):tw(i,a,l)}function tw(i,a,l){a.status="fulfilled",a.value=l,nw(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,Zb(i,l)))}function Gm(i,a,l){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,nw(a),a=a.next;while(a!==u)}i.action=null}function nw(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function rw(i,a){return a}function iw(i,a){if(ht){var l=kt.formState;if(l!==null){e:{var u=Qe;if(ht){if(Sn){t:{for(var m=Sn,y=bi;m.nodeType!==8;){if(!y){m=null;break t}if(m=Qr(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Sn=Qr(m.nextSibling),u=m.data==="F!";break e}}to(u)}u=!1}u&&(a=l[0])}}return l=Zn(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rw,lastRenderedState:a},l.queue=u,l=Sw.bind(null,Qe,u),u.dispatch=l,u=$m(!1),y=Jm.bind(null,Qe,!1,u.queue),u=Zn(),m={state:a,dispatch:null,action:i,pending:null},u.queue=m,l=cO.bind(null,Qe,m,y,l),m.dispatch=l,u.memoizedState=i,[a,l,!1]}function sw(i){var a=en();return aw(a,yt,i)}function aw(i,a,l){a=qm(i,a,rw)[0],i=bh(Yi)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?nu(a):a;var u=en(),m=u.queue,y=m.dispatch;return l!==u.memoizedState&&(Qe.flags|=2048,Tl(9,uO.bind(null,m,l),{destroy:void 0},null)),[a,y,i]}function uO(i,a){i.action=a}function ow(i){var a=en(),l=yt;if(l!==null)return aw(a,l,i);en(),a=a.memoizedState,l=en();var u=l.queue.dispatch;return l.memoizedState=i,[a,u,!1]}function Tl(i,a,l,u){return i={tag:i,create:a,inst:l,deps:u,next:null},a=Qe.updateQueue,a===null&&(a=yh(),Qe.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(u=l.next,l.next=i,i.next=u,a.lastEffect=i),i}function lw(){return en().memoizedState}function wh(i,a,l,u){var m=Zn();Qe.flags|=i,m.memoizedState=Tl(1|a,l,{destroy:void 0},u===void 0?null:u)}function Sh(i,a,l,u){var m=en();u=u===void 0?null:u;var y=m.memoizedState.inst;yt!==null&&u!==null&&Lm(u,yt.memoizedState.deps)?m.memoizedState=Tl(a,l,y,u):(Qe.flags|=i,m.memoizedState=Tl(1|a,l,y,u))}function cw(i,a){wh(8390656,8,i,a)}function Wm(i,a){Sh(2048,8,i,a)}function uw(i,a){return Sh(4,2,i,a)}function dw(i,a){return Sh(4,4,i,a)}function hw(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function fw(i,a,l){l=l!=null?l.concat([i]):null,Sh(4,4,hw.bind(null,a,i),l)}function Km(){}function pw(i,a){var l=en();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&Lm(a,u[1])?u[0]:(l.memoizedState=[i,a],i)}function mw(i,a){var l=en();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&Lm(a,u[1]))return u[0];if(u=i(),io){ci(!0);try{i()}finally{ci(!1)}}return l.memoizedState=[u,a],u}function Qm(i,a,l){return l===void 0||(Ks&1073741824)!==0?i.memoizedState=a:(i.memoizedState=l,i=v1(),Qe.lanes|=i,ia|=i,l)}function gw(i,a,l,u){return lr(l,a)?l:_l.current!==null?(i=Qm(i,l,u),lr(i,a)||(mn=!0),i):(Ks&42)===0?(mn=!0,i.memoizedState=l):(i=v1(),Qe.lanes|=i,ia|=i,a)}function vw(i,a,l,u,m){var y=E.p;E.p=y!==0&&8>y?y:8;var R=A.T,H={};A.T=H,Jm(i,!1,a,l);try{var J=m(),se=A.S;if(se!==null&&se(H,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var me=aO(J,u);ru(i,a,me,hr(i))}else ru(i,a,u,hr(i))}catch(Ee){ru(i,a,{then:function(){},status:"rejected",reason:Ee},hr())}finally{E.p=y,A.T=R}}function dO(){}function Ym(i,a,l,u){if(i.tag!==5)throw Error(r(476));var m=yw(i).queue;vw(i,m,a,T,l===null?dO:function(){return _w(i),l(u)})}function yw(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:T,baseState:T,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:T},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function _w(i){var a=yw(i).next.queue;ru(i,a,{},hr())}function Xm(){return In(Eu)}function bw(){return en().memoizedState}function ww(){return en().memoizedState}function hO(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=hr();i=Js(l);var u=Zs(a,i,l);u!==null&&(Gn(u,a,l),au(u,a,l)),a={cache:jm()},i.payload=a;return}a=a.return}}function fO(i,a,l){var u=hr();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Eh(i)?Ew(a,l):(l=Cm(i,a,l,u),l!==null&&(Gn(l,i,u),Tw(l,a,u)))}function Sw(i,a,l){var u=hr();ru(i,a,l,u)}function ru(i,a,l,u){var m={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Eh(i))Ew(a,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var R=a.lastRenderedState,H=y(R,l);if(m.hasEagerState=!0,m.eagerState=H,lr(H,R))return ah(i,a,m,0),kt===null&&sh(),!1}catch{}finally{}if(l=Cm(i,a,m,u),l!==null)return Gn(l,i,u),Tw(l,a,u),!0}return!1}function Jm(i,a,l,u){if(u={lane:2,revertLane:Bg(),action:u,hasEagerState:!1,eagerState:null,next:null},Eh(i)){if(a)throw Error(r(479))}else a=Cm(i,l,u,2),a!==null&&Gn(a,i,2)}function Eh(i){var a=i.alternate;return i===Qe||a!==null&&a===Qe}function Ew(i,a){Sl=gh=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function Tw(i,a,l){if((l&4194176)!==0){var u=a.lanes;u&=i.pendingLanes,l|=u,a.lanes=l,Ds(i,l)}}var Si={readContext:In,use:_h,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt};Si.useCacheRefresh=Qt,Si.useMemoCache=Qt,Si.useHostTransitionStatus=Qt,Si.useFormState=Qt,Si.useActionState=Qt,Si.useOptimistic=Qt;var so={readContext:In,use:_h,useCallback:function(i,a){return Zn().memoizedState=[i,a===void 0?null:a],i},useContext:In,useEffect:cw,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,wh(4194308,4,hw.bind(null,a,i),l)},useLayoutEffect:function(i,a){return wh(4194308,4,i,a)},useInsertionEffect:function(i,a){wh(4,2,i,a)},useMemo:function(i,a){var l=Zn();a=a===void 0?null:a;var u=i();if(io){ci(!0);try{i()}finally{ci(!1)}}return l.memoizedState=[u,a],u},useReducer:function(i,a,l){var u=Zn();if(l!==void 0){var m=l(a);if(io){ci(!0);try{l(a)}finally{ci(!1)}}}else m=a;return u.memoizedState=u.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},u.queue=i,i=i.dispatch=fO.bind(null,Qe,i),[u.memoizedState,i]},useRef:function(i){var a=Zn();return i={current:i},a.memoizedState=i},useState:function(i){i=$m(i);var a=i.queue,l=Sw.bind(null,Qe,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:Km,useDeferredValue:function(i,a){var l=Zn();return Qm(l,i,a)},useTransition:function(){var i=$m(!1);return i=vw.bind(null,Qe,i.queue,!0,!1),Zn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var u=Qe,m=Zn();if(ht){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),kt===null)throw Error(r(349));(st&60)!==0||Wb(u,a,l)}m.memoizedState=l;var y={value:l,getSnapshot:a};return m.queue=y,cw(Qb.bind(null,u,y,i),[i]),u.flags|=2048,Tl(9,Kb.bind(null,u,y,l,a),{destroy:void 0},null),l},useId:function(){var i=Zn(),a=kt.identifierPrefix;if(ht){var l=Ki,u=Wi;l=(u&~(1<<32-Fn(u)-1)).toString(32)+l,a=":"+a+"R"+l,l=vh++,0<l&&(a+="H"+l.toString(32)),a+=":"}else l=oO++,a=":"+a+"r"+l.toString(32)+":";return i.memoizedState=a},useCacheRefresh:function(){return Zn().memoizedState=hO.bind(null,Qe)}};so.useMemoCache=Fm,so.useHostTransitionStatus=Xm,so.useFormState=iw,so.useActionState=iw,so.useOptimistic=function(i){var a=Zn();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Jm.bind(null,Qe,!0,l),l.dispatch=a,[i,a]};var Qs={readContext:In,use:_h,useCallback:pw,useContext:In,useEffect:Wm,useImperativeHandle:fw,useInsertionEffect:uw,useLayoutEffect:dw,useMemo:mw,useReducer:bh,useRef:lw,useState:function(){return bh(Yi)},useDebugValue:Km,useDeferredValue:function(i,a){var l=en();return gw(l,yt.memoizedState,i,a)},useTransition:function(){var i=bh(Yi)[0],a=en().memoizedState;return[typeof i=="boolean"?i:nu(i),a]},useSyncExternalStore:Gb,useId:bw};Qs.useCacheRefresh=ww,Qs.useMemoCache=Fm,Qs.useHostTransitionStatus=Xm,Qs.useFormState=sw,Qs.useActionState=sw,Qs.useOptimistic=function(i,a){var l=en();return Jb(l,yt,i,a)};var ao={readContext:In,use:_h,useCallback:pw,useContext:In,useEffect:Wm,useImperativeHandle:fw,useInsertionEffect:uw,useLayoutEffect:dw,useMemo:mw,useReducer:Hm,useRef:lw,useState:function(){return Hm(Yi)},useDebugValue:Km,useDeferredValue:function(i,a){var l=en();return yt===null?Qm(l,i,a):gw(l,yt.memoizedState,i,a)},useTransition:function(){var i=Hm(Yi)[0],a=en().memoizedState;return[typeof i=="boolean"?i:nu(i),a]},useSyncExternalStore:Gb,useId:bw};ao.useCacheRefresh=ww,ao.useMemoCache=Fm,ao.useHostTransitionStatus=Xm,ao.useFormState=ow,ao.useActionState=ow,ao.useOptimistic=function(i,a){var l=en();return yt!==null?Jb(l,yt,i,a):(l.baseState=i,[i,l.queue.dispatch])};function Zm(i,a,l,u){a=i.memoizedState,l=l(u,a),l=l==null?a:x({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var eg={isMounted:function(i){return(i=i._reactInternals)?ge(i)===i:!1},enqueueSetState:function(i,a,l){i=i._reactInternals;var u=hr(),m=Js(u);m.payload=a,l!=null&&(m.callback=l),a=Zs(i,m,u),a!==null&&(Gn(a,i,u),au(a,i,u))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var u=hr(),m=Js(u);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=Zs(i,m,u),a!==null&&(Gn(a,i,u),au(a,i,u))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=hr(),u=Js(l);u.tag=2,a!=null&&(u.callback=a),a=Zs(i,u,l),a!==null&&(Gn(a,i,l),au(a,i,l))}};function xw(i,a,l,u,m,y,R){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,y,R):a.prototype&&a.prototype.isPureReactComponent?!Hc(l,u)||!Hc(m,y):!0}function Aw(i,a,l,u){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==i&&eg.enqueueReplaceState(a,a.state,null)}function oo(i,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(i=i.defaultProps){l===a&&(l=x({},l));for(var m in i)l[m]===void 0&&(l[m]=i[m])}return l}var Th=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Cw(i){Th(i)}function kw(i){console.error(i)}function Nw(i){Th(i)}function xh(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function Rw(i,a,l){try{var u=i.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function tg(i,a,l){return l=Js(l),l.tag=3,l.payload={element:null},l.callback=function(){xh(i,a)},l}function Ow(i){return i=Js(i),i.tag=3,i}function Iw(i,a,l,u){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=u.value;i.payload=function(){return m(y)},i.callback=function(){Rw(a,l,u)}}var R=l.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(i.callback=function(){Rw(a,l,u),typeof m!="function"&&(sa===null?sa=new Set([this]):sa.add(this));var H=u.stack;this.componentDidCatch(u.value,{componentStack:H!==null?H:""})})}function pO(i,a,l,u,m){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&su(a,l,m,!0),l=Or.current,l!==null){switch(l.tag){case 13:return wi===null?Pg():l.alternate===null&&qt===0&&(qt=3),l.flags&=-257,l.flags|=65536,l.lanes=m,u===Om?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),Vg(i,u,m)),!1;case 22:return l.flags|=65536,u===Om?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),Vg(i,u,m)),!1}throw Error(r(435,l.tag))}return Vg(i,u,m),Pg(),!1}if(ht)return a=Or.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,u!==Rm&&(i=Error(r(422),{cause:u}),Kc(kr(i,l)))):(u!==Rm&&(a=Error(r(423),{cause:u}),Kc(kr(a,l))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,u=kr(u,l),m=tg(i.stateNode,u,m),gg(i,m),qt!==4&&(qt=2)),!1;var y=Error(r(520),{cause:u});if(y=kr(y,l),pu===null?pu=[y]:pu.push(y),qt!==4&&(qt=2),a===null)return!0;u=kr(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=m&-m,l.lanes|=i,i=tg(l.stateNode,u,i),gg(l,i),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(sa===null||!sa.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=Ow(m),Iw(m,i,l,u),gg(l,m),!1}l=l.return}while(l!==null);return!1}var Mw=Error(r(461)),mn=!1;function En(i,a,l,u){a.child=i===null?Vb(a,null,l,u):no(a,i.child,l,u)}function jw(i,a,l,u,m){l=l.render;var y=a.ref;if("ref"in u){var R={};for(var H in u)H!=="ref"&&(R[H]=u[H])}else R=u;return co(a),u=Vm(i,a,l,R,y,m),H=Um(),i!==null&&!mn?(zm(i,a,m),Xi(i,a,m)):(ht&&H&&km(a),a.flags|=1,En(i,a,u,m),a.child)}function Dw(i,a,l,u,m){if(i===null){var y=l.type;return typeof y=="function"&&!Tg(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,Pw(i,a,y,u,m)):(i=Rh(l.type,null,u,a,a.mode,m),i.ref=a.ref,i.return=a,a.child=i)}if(y=i.child,!ug(i,m)){var R=y.memoizedProps;if(l=l.compare,l=l!==null?l:Hc,l(R,u)&&i.ref===a.ref)return Xi(i,a,m)}return a.flags|=1,i=ra(y,u),i.ref=a.ref,i.return=a,a.child=i}function Pw(i,a,l,u,m){if(i!==null){var y=i.memoizedProps;if(Hc(y,u)&&i.ref===a.ref)if(mn=!1,a.pendingProps=u=y,ug(i,m))(i.flags&131072)!==0&&(mn=!0);else return a.lanes=i.lanes,Xi(i,a,m)}return ng(i,a,l,u,m)}function Lw(i,a,l){var u=a.pendingProps,m=u.children,y=(a.stateNode._pendingVisibility&2)!==0,R=i!==null?i.memoizedState:null;if(iu(i,a),u.mode==="hidden"||y){if((a.flags&128)!==0){if(u=R!==null?R.baseLanes|l:l,i!==null){for(m=a.child=i.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;a.childLanes=y&~u}else a.childLanes=0,a.child=null;return Vw(i,a,u,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&mh(a,R!==null?R.cachePool:null),R!==null?Ub(a,R):Im(),zb(a);else return a.lanes=a.childLanes=536870912,Vw(i,a,R!==null?R.baseLanes|l:l,l)}else R!==null?(mh(a,R.cachePool),Ub(a,R),Ws(),a.memoizedState=null):(i!==null&&mh(a,null),Im(),Ws());return En(i,a,m,l),a.child}function Vw(i,a,l,u){var m=Pm();return m=m===null?null:{parent:cn._currentValue,pool:m},a.memoizedState={baseLanes:l,cachePool:m},i!==null&&mh(a,null),Im(),zb(a),i!==null&&su(i,a,u,!0),null}function iu(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=2097664);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=2097664)}}function ng(i,a,l,u,m){return co(a),l=Vm(i,a,l,u,void 0,m),u=Um(),i!==null&&!mn?(zm(i,a,m),Xi(i,a,m)):(ht&&u&&km(a),a.flags|=1,En(i,a,l,m),a.child)}function Uw(i,a,l,u,m,y){return co(a),a.updateQueue=null,l=$b(a,u,l,m),Hb(i),u=Um(),i!==null&&!mn?(zm(i,a,y),Xi(i,a,y)):(ht&&u&&km(a),a.flags|=1,En(i,a,l,y),a.child)}function zw(i,a,l,u,m){if(co(a),a.stateNode===null){var y=ml,R=l.contextType;typeof R=="object"&&R!==null&&(y=In(R)),y=new l(u,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=eg,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=u,y.state=a.memoizedState,y.refs={},pg(a),R=l.contextType,y.context=typeof R=="object"&&R!==null?In(R):ml,y.state=a.memoizedState,R=l.getDerivedStateFromProps,typeof R=="function"&&(Zm(a,l,R,u),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(R=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),R!==y.state&&eg.enqueueReplaceState(y,y.state,null),lu(a,u,y,m),ou(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(i===null){y=a.stateNode;var H=a.memoizedProps,J=oo(l,H);y.props=J;var se=y.context,me=l.contextType;R=ml,typeof me=="object"&&me!==null&&(R=In(me));var Ee=l.getDerivedStateFromProps;me=typeof Ee=="function"||typeof y.getSnapshotBeforeUpdate=="function",H=a.pendingProps!==H,me||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(H||se!==R)&&Aw(a,y,u,R),Xs=!1;var de=a.memoizedState;y.state=de,lu(a,u,y,m),ou(),se=a.memoizedState,H||de!==se||Xs?(typeof Ee=="function"&&(Zm(a,l,Ee,u),se=a.memoizedState),(J=Xs||xw(a,l,J,u,de,se,R))?(me||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=se),y.props=u,y.state=se,y.context=R,u=J):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{y=a.stateNode,mg(i,a),R=a.memoizedProps,me=oo(l,R),y.props=me,Ee=a.pendingProps,de=y.context,se=l.contextType,J=ml,typeof se=="object"&&se!==null&&(J=In(se)),H=l.getDerivedStateFromProps,(se=typeof H=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R!==Ee||de!==J)&&Aw(a,y,u,J),Xs=!1,de=a.memoizedState,y.state=de,lu(a,u,y,m),ou();var pe=a.memoizedState;R!==Ee||de!==pe||Xs||i!==null&&i.dependencies!==null&&Ah(i.dependencies)?(typeof H=="function"&&(Zm(a,l,H,u),pe=a.memoizedState),(me=Xs||xw(a,l,me,u,de,pe,J)||i!==null&&i.dependencies!==null&&Ah(i.dependencies))?(se||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,pe,J),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,pe,J)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||R===i.memoizedProps&&de===i.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&de===i.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=pe),y.props=u,y.state=pe,y.context=J,u=me):(typeof y.componentDidUpdate!="function"||R===i.memoizedProps&&de===i.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&de===i.memoizedState||(a.flags|=1024),u=!1)}return y=u,iu(i,a),u=(a.flags&128)!==0,y||u?(y=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,i!==null&&u?(a.child=no(a,i.child,null,m),a.child=no(a,null,l,m)):En(i,a,l,m),a.memoizedState=y.state,i=a.child):i=Xi(i,a,m),i}function Bw(i,a,l,u){return Wc(),a.flags|=256,En(i,a,l,u),a.child}var rg={dehydrated:null,treeContext:null,retryLane:0};function ig(i){return{baseLanes:i,cachePool:qb()}}function sg(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=Dr),i}function Fw(i,a,l){var u=a.pendingProps,m=!1,y=(a.flags&128)!==0,R;if((R=y)||(R=i!==null&&i.memoizedState===null?!1:(ln.current&2)!==0),R&&(m=!0,a.flags&=-129),R=(a.flags&32)!==0,a.flags&=-33,i===null){if(ht){if(m?Gs(a):Ws(),ht){var H=Sn,J;if(J=H){e:{for(J=H,H=bi;J.nodeType!==8;){if(!H){H=null;break e}if(J=Qr(J.nextSibling),J===null){H=null;break e}}H=J}H!==null?(a.memoizedState={dehydrated:H,treeContext:Za!==null?{id:Wi,overflow:Ki}:null,retryLane:536870912},J=jr(18,null,null,0),J.stateNode=H,J.return=a,a.child=J,$n=a,Sn=null,J=!0):J=!1}J||to(a)}if(H=a.memoizedState,H!==null&&(H=H.dehydrated,H!==null))return H.data==="$!"?a.lanes=16:a.lanes=536870912,null;Qi(a)}return H=u.children,u=u.fallback,m?(Ws(),m=a.mode,H=og({mode:"hidden",children:H},m),u=ho(u,m,l,null),H.return=a,u.return=a,H.sibling=u,a.child=H,m=a.child,m.memoizedState=ig(l),m.childLanes=sg(i,R,l),a.memoizedState=rg,u):(Gs(a),ag(a,H))}if(J=i.memoizedState,J!==null&&(H=J.dehydrated,H!==null)){if(y)a.flags&256?(Gs(a),a.flags&=-257,a=lg(i,a,l)):a.memoizedState!==null?(Ws(),a.child=i.child,a.flags|=128,a=null):(Ws(),m=u.fallback,H=a.mode,u=og({mode:"visible",children:u.children},H),m=ho(m,H,l,null),m.flags|=2,u.return=a,m.return=a,u.sibling=m,a.child=u,no(a,i.child,null,l),u=a.child,u.memoizedState=ig(l),u.childLanes=sg(i,R,l),a.memoizedState=rg,a=m);else if(Gs(a),H.data==="$!"){if(R=H.nextSibling&&H.nextSibling.dataset,R)var se=R.dgst;R=se,u=Error(r(419)),u.stack="",u.digest=R,Kc({value:u,source:null,stack:null}),a=lg(i,a,l)}else if(mn||su(i,a,l,!1),R=(l&i.childLanes)!==0,mn||R){if(R=kt,R!==null){if(u=l&-l,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(R.suspendedLanes|l))!==0?0:u,u!==0&&u!==J.retryLane)throw J.retryLane=u,$s(i,u),Gn(R,i,u),Mw}H.data==="$?"||Pg(),a=lg(i,a,l)}else H.data==="$?"?(a.flags|=128,a.child=i.child,a=NO.bind(null,i),H._reactRetry=a,a=null):(i=J.treeContext,Sn=Qr(H.nextSibling),$n=a,ht=!0,Wr=null,bi=!1,i!==null&&(Nr[Rr++]=Wi,Nr[Rr++]=Ki,Nr[Rr++]=Za,Wi=i.id,Ki=i.overflow,Za=a),a=ag(a,u.children),a.flags|=4096);return a}return m?(Ws(),m=u.fallback,H=a.mode,J=i.child,se=J.sibling,u=ra(J,{mode:"hidden",children:u.children}),u.subtreeFlags=J.subtreeFlags&31457280,se!==null?m=ra(se,m):(m=ho(m,H,l,null),m.flags|=2),m.return=a,u.return=a,u.sibling=m,a.child=u,u=m,m=a.child,H=i.child.memoizedState,H===null?H=ig(l):(J=H.cachePool,J!==null?(se=cn._currentValue,J=J.parent!==se?{parent:se,pool:se}:J):J=qb(),H={baseLanes:H.baseLanes|l,cachePool:J}),m.memoizedState=H,m.childLanes=sg(i,R,l),a.memoizedState=rg,u):(Gs(a),l=i.child,i=l.sibling,l=ra(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,i!==null&&(R=a.deletions,R===null?(a.deletions=[i],a.flags|=16):R.push(i)),a.child=l,a.memoizedState=null,l)}function ag(i,a){return a=og({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function og(i,a){return p1(i,a,0,null)}function lg(i,a,l){return no(a,i.child,null,l),i=ag(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function qw(i,a,l){i.lanes|=a;var u=i.alternate;u!==null&&(u.lanes|=a),hg(i.return,a,l)}function cg(i,a,l,u,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:m}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=l,y.tailMode=m)}function Hw(i,a,l){var u=a.pendingProps,m=u.revealOrder,y=u.tail;if(En(i,a,u.children,l),u=ln.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&qw(i,l,a);else if(i.tag===19)qw(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(ce(ln,u),m){case"forwards":for(l=a.child,m=null;l!==null;)i=l.alternate,i!==null&&ph(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),cg(a,!1,m,l,y);break;case"backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(i=m.alternate,i!==null&&ph(i)===null){a.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}cg(a,!0,l,null,y);break;case"together":cg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Xi(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),ia|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(su(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=ra(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=ra(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function ug(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Ah(i)))}function mO(i,a,l){switch(a.tag){case 3:Ie(a,a.stateNode.containerInfo),Ys(a,cn,i.memoizedState.cache),Wc();break;case 27:case 5:Re(a);break;case 4:Ie(a,a.stateNode.containerInfo);break;case 10:Ys(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Gs(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Fw(i,a,l):(Gs(a),i=Xi(i,a,l),i!==null?i.sibling:null);Gs(a);break;case 19:var m=(i.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(su(i,a,l,!1),u=(l&a.childLanes)!==0),m){if(u)return Hw(i,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ce(ln,ln.current),u)break;return null;case 22:case 23:return a.lanes=0,Lw(i,a,l);case 24:Ys(a,cn,i.memoizedState.cache)}return Xi(i,a,l)}function $w(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)mn=!0;else{if(!ug(i,l)&&(a.flags&128)===0)return mn=!1,mO(i,a,l);mn=(i.flags&131072)!==0}else mn=!1,ht&&(a.flags&1048576)!==0&&Nb(a,ch,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var u=a.elementType,m=u._init;if(u=m(u._payload),a.type=u,typeof u=="function")Tg(u)?(i=oo(u,i),a.tag=1,a=zw(null,a,u,i,l)):(a.tag=0,a=ng(null,a,u,i,l));else{if(u!=null){if(m=u.$$typeof,m===P){a.tag=11,a=jw(null,a,u,i,l);break e}else if(m===$){a.tag=14,a=Dw(null,a,u,i,l);break e}}throw a=O(u)||u,Error(r(306,a,""))}}return a;case 0:return ng(i,a,a.type,a.pendingProps,l);case 1:return u=a.type,m=oo(u,a.pendingProps),zw(i,a,u,m,l);case 3:e:{if(Ie(a,a.stateNode.containerInfo),i===null)throw Error(r(387));var y=a.pendingProps;m=a.memoizedState,u=m.element,mg(i,a),lu(a,y,null,l);var R=a.memoizedState;if(y=R.cache,Ys(a,cn,y),y!==m.cache&&fg(a,[cn],l,!0),ou(),y=R.element,m.isDehydrated)if(m={element:y,isDehydrated:!1,cache:R.cache},a.updateQueue.baseState=m,a.memoizedState=m,a.flags&256){a=Bw(i,a,y,l);break e}else if(y!==u){u=kr(Error(r(424)),a),Kc(u),a=Bw(i,a,y,l);break e}else for(Sn=Qr(a.stateNode.containerInfo.firstChild),$n=a,ht=!0,Wr=null,bi=!0,l=Vb(a,null,y,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Wc(),y===u){a=Xi(i,a,l);break e}En(i,a,y,l)}a=a.child}return a;case 26:return iu(i,a),i===null?(l=K1(a.type,null,a.pendingProps,null))?a.memoizedState=l:ht||(l=a.type,i=a.pendingProps,u=Fh(Se.current).createElement(l),u[hn]=a,u[sn]=i,Tn(u,l,i),Lt(u),a.stateNode=u):a.memoizedState=K1(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Re(a),i===null&&ht&&(u=a.stateNode=$1(a.type,a.pendingProps,Se.current),$n=a,bi=!0,Sn=Qr(u.firstChild)),u=a.pendingProps.children,i!==null||ht?En(i,a,u,l):a.child=no(a,null,u,l),iu(i,a),a.child;case 5:return i===null&&ht&&((m=u=Sn)&&(u=$O(u,a.type,a.pendingProps,bi),u!==null?(a.stateNode=u,$n=a,Sn=Qr(u.firstChild),bi=!1,m=!0):m=!1),m||to(a)),Re(a),m=a.type,y=a.pendingProps,R=i!==null?i.memoizedProps:null,u=y.children,Yg(m,y)?u=null:R!==null&&Yg(m,R)&&(a.flags|=32),a.memoizedState!==null&&(m=Vm(i,a,lO,null,null,l),Eu._currentValue=m),iu(i,a),En(i,a,u,l),a.child;case 6:return i===null&&ht&&((i=l=Sn)&&(l=GO(l,a.pendingProps,bi),l!==null?(a.stateNode=l,$n=a,Sn=null,i=!0):i=!1),i||to(a)),null;case 13:return Fw(i,a,l);case 4:return Ie(a,a.stateNode.containerInfo),u=a.pendingProps,i===null?a.child=no(a,null,u,l):En(i,a,u,l),a.child;case 11:return jw(i,a,a.type,a.pendingProps,l);case 7:return En(i,a,a.pendingProps,l),a.child;case 8:return En(i,a,a.pendingProps.children,l),a.child;case 12:return En(i,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,Ys(a,a.type,u.value),En(i,a,u.children,l),a.child;case 9:return m=a.type._context,u=a.pendingProps.children,co(a),m=In(m),u=u(m),a.flags|=1,En(i,a,u,l),a.child;case 14:return Dw(i,a,a.type,a.pendingProps,l);case 15:return Pw(i,a,a.type,a.pendingProps,l);case 19:return Hw(i,a,l);case 22:return Lw(i,a,l);case 24:return co(a),u=In(cn),i===null?(m=Pm(),m===null&&(m=kt,y=jm(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),a.memoizedState={parent:u,cache:m},pg(a),Ys(a,cn,m)):((i.lanes&l)!==0&&(mg(i,a),lu(a,null,null,l),ou()),m=i.memoizedState,y=a.memoizedState,m.parent!==u?(m={parent:u,cache:u},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Ys(a,cn,u)):(u=y.cache,Ys(a,cn,u),u!==m.cache&&fg(a,[cn],l,!0))),En(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}var dg=ee(null),lo=null,Ji=null;function Ys(i,a,l){ce(dg,a._currentValue),a._currentValue=l}function Zi(i){i._currentValue=dg.current,ue(dg)}function hg(i,a,l){for(;i!==null;){var u=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),i===l)break;i=i.return}}function fg(i,a,l,u){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var y=m.dependencies;if(y!==null){var R=m.child;y=y.firstContext;e:for(;y!==null;){var H=y;y=m;for(var J=0;J<a.length;J++)if(H.context===a[J]){y.lanes|=l,H=y.alternate,H!==null&&(H.lanes|=l),hg(y.return,l,i),u||(R=null);break e}y=H.next}}else if(m.tag===18){if(R=m.return,R===null)throw Error(r(341));R.lanes|=l,y=R.alternate,y!==null&&(y.lanes|=l),hg(R,l,i),R=null}else R=m.child;if(R!==null)R.return=m;else for(R=m;R!==null;){if(R===i){R=null;break}if(m=R.sibling,m!==null){m.return=R.return,R=m;break}R=R.return}m=R}}function su(i,a,l,u){i=null;for(var m=a,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var R=m.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var H=m.type;lr(m.pendingProps.value,R.value)||(i!==null?i.push(H):i=[H])}}else if(m===xe.current){if(R=m.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Eu):i=[Eu])}m=m.return}i!==null&&fg(a,i,l,u),a.flags|=262144}function Ah(i){for(i=i.firstContext;i!==null;){if(!lr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function co(i){lo=i,Ji=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function In(i){return Gw(lo,i)}function Ch(i,a){return lo===null&&co(i),Gw(i,a)}function Gw(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Ji===null){if(i===null)throw Error(r(308));Ji=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Ji=Ji.next=a;return l}var Xs=!1;function pg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mg(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Js(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Zs(i,a,l){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Ut&2)!==0){var m=u.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),u.pending=a,a=oh(i),Cb(i,null,l),a}return ah(i,u,a,l),oh(i)}function au(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194176)!==0)){var u=a.lanes;u&=i.pendingLanes,l|=u,a.lanes=l,Ds(i,l)}}function gg(i,a){var l=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var R={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=R:y=y.next=R,l=l.next}while(l!==null);y===null?m=y=a:y=y.next=a}else m=y=a;l={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var vg=!1;function ou(){if(vg){var i=wl;if(i!==null)throw i}}function lu(i,a,l,u){vg=!1;var m=i.updateQueue;Xs=!1;var y=m.firstBaseUpdate,R=m.lastBaseUpdate,H=m.shared.pending;if(H!==null){m.shared.pending=null;var J=H,se=J.next;J.next=null,R===null?y=se:R.next=se,R=J;var me=i.alternate;me!==null&&(me=me.updateQueue,H=me.lastBaseUpdate,H!==R&&(H===null?me.firstBaseUpdate=se:H.next=se,me.lastBaseUpdate=J))}if(y!==null){var Ee=m.baseState;R=0,me=se=J=null,H=y;do{var de=H.lane&-536870913,pe=de!==H.lane;if(pe?(st&de)===de:(u&de)===de){de!==0&&de===bl&&(vg=!0),me!==null&&(me=me.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var Me=i,He=H;de=a;var Ht=l;switch(He.tag){case 1:if(Me=He.payload,typeof Me=="function"){Ee=Me.call(Ht,Ee,de);break e}Ee=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=He.payload,de=typeof Me=="function"?Me.call(Ht,Ee,de):Me,de==null)break e;Ee=x({},Ee,de);break e;case 2:Xs=!0}}de=H.callback,de!==null&&(i.flags|=64,pe&&(i.flags|=8192),pe=m.callbacks,pe===null?m.callbacks=[de]:pe.push(de))}else pe={lane:de,tag:H.tag,payload:H.payload,callback:H.callback,next:null},me===null?(se=me=pe,J=Ee):me=me.next=pe,R|=de;if(H=H.next,H===null){if(H=m.shared.pending,H===null)break;pe=H,H=pe.next,pe.next=null,m.lastBaseUpdate=pe,m.shared.pending=null}}while(!0);me===null&&(J=Ee),m.baseState=J,m.firstBaseUpdate=se,m.lastBaseUpdate=me,y===null&&(m.shared.lanes=0),ia|=R,i.lanes=R,i.memoizedState=Ee}}function Ww(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function Kw(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Ww(l[i],a)}function cu(i,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var m=u.next;l=m;do{if((l.tag&i)===i){u=void 0;var y=l.create,R=l.inst;u=y(),R.destroy=u}l=l.next}while(l!==m)}}catch(H){Et(a,a.return,H)}}function ea(i,a,l){try{var u=a.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var y=m.next;u=y;do{if((u.tag&i)===i){var R=u.inst,H=R.destroy;if(H!==void 0){R.destroy=void 0,m=a;var J=l;try{H()}catch(se){Et(m,J,se)}}}u=u.next}while(u!==y)}}catch(se){Et(a,a.return,se)}}function Qw(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{Kw(a,l)}catch(u){Et(i,i.return,u)}}}function Yw(i,a,l){l.props=oo(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(u){Et(i,a,u)}}function uo(i,a){try{var l=i.ref;if(l!==null){var u=i.stateNode;switch(i.tag){case 26:case 27:case 5:var m=u;break;default:m=u}typeof l=="function"?i.refCleanup=l(m):l.current=m}}catch(y){Et(i,a,y)}}function cr(i,a){var l=i.ref,u=i.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(m){Et(i,a,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){Et(i,a,m)}else l.current=null}function Xw(i){var a=i.type,l=i.memoizedProps,u=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(m){Et(i,i.return,m)}}function Jw(i,a,l){try{var u=i.stateNode;zO(u,i.type,l,a),u[sn]=a}catch(m){Et(i,i.return,m)}}function Zw(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function yg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Zw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function _g(i,a,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,a?l.nodeType===8?l.parentNode.insertBefore(i,a):l.insertBefore(i,a):(l.nodeType===8?(a=l.parentNode,a.insertBefore(i,l)):(a=l,a.appendChild(i)),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Bh));else if(u!==4&&u!==27&&(i=i.child,i!==null))for(_g(i,a,l),i=i.sibling;i!==null;)_g(i,a,l),i=i.sibling}function kh(i,a,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(u!==4&&u!==27&&(i=i.child,i!==null))for(kh(i,a,l),i=i.sibling;i!==null;)kh(i,a,l),i=i.sibling}var es=!1,Ft=!1,bg=!1,e1=typeof WeakSet=="function"?WeakSet:Set,gn=null,t1=!1;function gO(i,a){if(i=i.containerInfo,Kg=Kh,i=yb(i),Sm(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var m=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var R=0,H=-1,J=-1,se=0,me=0,Ee=i,de=null;t:for(;;){for(var pe;Ee!==l||m!==0&&Ee.nodeType!==3||(H=R+m),Ee!==y||u!==0&&Ee.nodeType!==3||(J=R+u),Ee.nodeType===3&&(R+=Ee.nodeValue.length),(pe=Ee.firstChild)!==null;)de=Ee,Ee=pe;for(;;){if(Ee===i)break t;if(de===l&&++se===m&&(H=R),de===y&&++me===u&&(J=R),(pe=Ee.nextSibling)!==null)break;Ee=de,de=Ee.parentNode}Ee=pe}l=H===-1||J===-1?null:{start:H,end:J}}else l=null}l=l||{start:0,end:0}}else l=null;for(Qg={focusedElem:i,selectionRange:l},Kh=!1,gn=a;gn!==null;)if(a=gn,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,gn=i;else for(;gn!==null;){switch(a=gn,y=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,l=a,m=y.memoizedProps,y=y.memoizedState,u=l.stateNode;try{var Me=oo(l.type,m,l.elementType===l.type);i=u.getSnapshotBeforeUpdate(Me,y),u.__reactInternalSnapshotBeforeUpdate=i}catch(He){Et(l,l.return,He)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)Zg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Zg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,gn=i;break}gn=a.return}return Me=t1,t1=!1,Me}function n1(i,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:ns(i,l),u&4&&cu(5,l);break;case 1:if(ns(i,l),u&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(H){Et(l,l.return,H)}else{var m=oo(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(m,a,i.__reactInternalSnapshotBeforeUpdate)}catch(H){Et(l,l.return,H)}}u&64&&Qw(l),u&512&&uo(l,l.return);break;case 3:if(ns(i,l),u&64&&(u=l.updateQueue,u!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{Kw(u,i)}catch(H){Et(l,l.return,H)}}break;case 26:ns(i,l),u&512&&uo(l,l.return);break;case 27:case 5:ns(i,l),a===null&&u&4&&Xw(l),u&512&&uo(l,l.return);break;case 12:ns(i,l);break;case 13:ns(i,l),u&4&&s1(i,l);break;case 22:if(m=l.memoizedState!==null||es,!m){a=a!==null&&a.memoizedState!==null||Ft;var y=es,R=Ft;es=m,(Ft=a)&&!R?ta(i,l,(l.subtreeFlags&8772)!==0):ns(i,l),es=y,Ft=R}u&512&&(l.memoizedProps.mode==="manual"?uo(l,l.return):cr(l,l.return));break;default:ns(i,l)}}function r1(i){var a=i.alternate;a!==null&&(i.alternate=null,r1(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&za(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var tn=null,ur=!1;function ts(i,a,l){for(l=l.child;l!==null;)i1(i,a,l),l=l.sibling}function i1(i,a,l){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(Rs,l)}catch{}switch(l.tag){case 26:Ft||cr(l,a),ts(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ft||cr(l,a);var u=tn,m=ur;for(tn=l.stateNode,ts(i,a,l),l=l.stateNode,a=l.attributes;a.length;)l.removeAttributeNode(a[0]);za(l),tn=u,ur=m;break;case 5:Ft||cr(l,a);case 6:m=tn;var y=ur;if(tn=null,ts(i,a,l),tn=m,ur=y,tn!==null)if(ur)try{i=tn,u=l.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)}catch(R){Et(l,a,R)}else try{tn.removeChild(l.stateNode)}catch(R){Et(l,a,R)}break;case 18:tn!==null&&(ur?(a=tn,l=l.stateNode,a.nodeType===8?Jg(a.parentNode,l):a.nodeType===1&&Jg(a,l),Cu(a)):Jg(tn,l.stateNode));break;case 4:u=tn,m=ur,tn=l.stateNode.containerInfo,ur=!0,ts(i,a,l),tn=u,ur=m;break;case 0:case 11:case 14:case 15:Ft||ea(2,l,a),Ft||ea(4,l,a),ts(i,a,l);break;case 1:Ft||(cr(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Yw(l,a,u)),ts(i,a,l);break;case 21:ts(i,a,l);break;case 22:Ft||cr(l,a),Ft=(u=Ft)||l.memoizedState!==null,ts(i,a,l),Ft=u;break;default:ts(i,a,l)}}function s1(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Cu(i)}catch(l){Et(a,a.return,l)}}function vO(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new e1),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new e1),a;default:throw Error(r(435,i.tag))}}function wg(i,a){var l=vO(i);a.forEach(function(u){var m=RO.bind(null,i,u);l.has(u)||(l.add(u),u.then(m,m))})}function Ir(i,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var m=l[u],y=i,R=a,H=R;e:for(;H!==null;){switch(H.tag){case 27:case 5:tn=H.stateNode,ur=!1;break e;case 3:tn=H.stateNode.containerInfo,ur=!0;break e;case 4:tn=H.stateNode.containerInfo,ur=!0;break e}H=H.return}if(tn===null)throw Error(r(160));i1(y,R,m),tn=null,ur=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)a1(a,i),a=a.sibling}var Kr=null;function a1(i,a){var l=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ir(a,i),Mr(i),u&4&&(ea(3,i,i.return),cu(3,i),ea(5,i,i.return));break;case 1:Ir(a,i),Mr(i),u&512&&(Ft||l===null||cr(l,l.return)),u&64&&es&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var m=Kr;if(Ir(a,i),Mr(i),u&512&&(Ft||l===null||cr(l,l.return)),u&4){var y=l!==null?l.memoizedState:null;if(u=i.memoizedState,l===null)if(u===null)if(i.stateNode===null){e:{u=i.type,l=i.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Ls]||y[hn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(u),m.head.insertBefore(y,m.querySelector("head > title"))),Tn(y,u,l),y[hn]=i,Lt(y),u=y;break e;case"link":var R=X1("link","href",m).get(u+(l.href||""));if(R){for(var H=0;H<R.length;H++)if(y=R[H],y.getAttribute("href")===(l.href==null?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){R.splice(H,1);break t}}y=m.createElement(u),Tn(y,u,l),m.head.appendChild(y);break;case"meta":if(R=X1("meta","content",m).get(u+(l.content||""))){for(H=0;H<R.length;H++)if(y=R[H],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){R.splice(H,1);break t}}y=m.createElement(u),Tn(y,u,l),m.head.appendChild(y);break;default:throw Error(r(468,u))}y[hn]=i,Lt(y),u=y}i.stateNode=u}else J1(m,i.type,i.stateNode);else i.stateNode=Y1(m,u,i.memoizedProps);else y!==u?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,u===null?J1(m,i.type,i.stateNode):Y1(m,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Jw(i,i.memoizedProps,l.memoizedProps)}break;case 27:if(u&4&&i.alternate===null){m=i.stateNode,y=i.memoizedProps;try{for(var J=m.firstChild;J;){var se=J.nextSibling,me=J.nodeName;J[Ls]||me==="HEAD"||me==="BODY"||me==="SCRIPT"||me==="STYLE"||me==="LINK"&&J.rel.toLowerCase()==="stylesheet"||m.removeChild(J),J=se}for(var Ee=i.type,de=m.attributes;de.length;)m.removeAttributeNode(de[0]);Tn(m,Ee,y),m[hn]=i,m[sn]=y}catch(Me){Et(i,i.return,Me)}}case 5:if(Ir(a,i),Mr(i),u&512&&(Ft||l===null||cr(l,l.return)),i.flags&32){m=i.stateNode;try{Er(m,"")}catch(Me){Et(i,i.return,Me)}}u&4&&i.stateNode!=null&&(m=i.memoizedProps,Jw(i,m,l!==null?l.memoizedProps:m)),u&1024&&(bg=!0);break;case 6:if(Ir(a,i),Mr(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,l=i.stateNode;try{l.nodeValue=u}catch(Me){Et(i,i.return,Me)}}break;case 3:if($h=null,m=Kr,Kr=qh(a.containerInfo),Ir(a,i),Kr=m,Mr(i),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Cu(a.containerInfo)}catch(Me){Et(i,i.return,Me)}bg&&(bg=!1,o1(i));break;case 4:u=Kr,Kr=qh(i.stateNode.containerInfo),Ir(a,i),Mr(i),Kr=u;break;case 12:Ir(a,i),Mr(i);break;case 13:Ir(a,i),Mr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Rg=Jt()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,wg(i,u)));break;case 22:if(u&512&&(Ft||l===null||cr(l,l.return)),J=i.memoizedState!==null,se=l!==null&&l.memoizedState!==null,me=es,Ee=Ft,es=me||J,Ft=Ee||se,Ir(a,i),Ft=Ee,es=me,Mr(i),a=i.stateNode,a._current=i,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,u&8192&&(a._visibility=J?a._visibility&-2:a._visibility|1,J&&(a=es||Ft,l===null||se||a||xl(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(l=null,a=i;;){if(a.tag===5||a.tag===26||a.tag===27){if(l===null){se=l=a;try{if(m=se.stateNode,J)y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{R=se.stateNode,H=se.memoizedProps.style;var pe=H!=null&&H.hasOwnProperty("display")?H.display:null;R.style.display=pe==null||typeof pe=="boolean"?"":(""+pe).trim()}}catch(Me){Et(se,se.return,Me)}}}else if(a.tag===6){if(l===null){se=a;try{se.stateNode.nodeValue=J?"":se.memoizedProps}catch(Me){Et(se,se.return,Me)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=i.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,wg(i,l))));break;case 19:Ir(a,i),Mr(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,wg(i,u)));break;case 21:break;default:Ir(a,i),Mr(i)}}function Mr(i){var a=i.flags;if(a&2){try{if(i.tag!==27){e:{for(var l=i.return;l!==null;){if(Zw(l)){var u=l;break e}l=l.return}throw Error(r(160))}switch(u.tag){case 27:var m=u.stateNode,y=yg(i);kh(i,y,m);break;case 5:var R=u.stateNode;u.flags&32&&(Er(R,""),u.flags&=-33);var H=yg(i);kh(i,H,R);break;case 3:case 4:var J=u.stateNode.containerInfo,se=yg(i);_g(i,se,J);break;default:throw Error(r(161))}}}catch(me){Et(i,i.return,me)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function o1(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;o1(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function ns(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)n1(i,a.alternate,a),a=a.sibling}function xl(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:ea(4,a,a.return),xl(a);break;case 1:cr(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Yw(a,a.return,l),xl(a);break;case 26:case 27:case 5:cr(a,a.return),xl(a);break;case 22:cr(a,a.return),a.memoizedState===null&&xl(a);break;default:xl(a)}i=i.sibling}}function ta(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,m=i,y=a,R=y.flags;switch(y.tag){case 0:case 11:case 15:ta(m,y,l),cu(4,y);break;case 1:if(ta(m,y,l),u=y,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(se){Et(u,u.return,se)}if(u=y,m=u.updateQueue,m!==null){var H=u.stateNode;try{var J=m.shared.hiddenCallbacks;if(J!==null)for(m.shared.hiddenCallbacks=null,m=0;m<J.length;m++)Ww(J[m],H)}catch(se){Et(u,u.return,se)}}l&&R&64&&Qw(y),uo(y,y.return);break;case 26:case 27:case 5:ta(m,y,l),l&&u===null&&R&4&&Xw(y),uo(y,y.return);break;case 12:ta(m,y,l);break;case 13:ta(m,y,l),l&&R&4&&s1(m,y);break;case 22:y.memoizedState===null&&ta(m,y,l),uo(y,y.return);break;default:ta(m,y,l)}a=a.sibling}}function Sg(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Zc(l))}function Eg(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Zc(i))}function na(i,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)l1(i,a,l,u),a=a.sibling}function l1(i,a,l,u){var m=a.flags;switch(a.tag){case 0:case 11:case 15:na(i,a,l,u),m&2048&&cu(9,a);break;case 3:na(i,a,l,u),m&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Zc(i)));break;case 12:if(m&2048){na(i,a,l,u),i=a.stateNode;try{var y=a.memoizedProps,R=y.id,H=y.onPostCommit;typeof H=="function"&&H(R,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(J){Et(a,a.return,J)}}else na(i,a,l,u);break;case 23:break;case 22:y=a.stateNode,a.memoizedState!==null?y._visibility&4?na(i,a,l,u):uu(i,a):y._visibility&4?na(i,a,l,u):(y._visibility|=4,Al(i,a,l,u,(a.subtreeFlags&10256)!==0)),m&2048&&Sg(a.alternate,a);break;case 24:na(i,a,l,u),m&2048&&Eg(a.alternate,a);break;default:na(i,a,l,u)}}function Al(i,a,l,u,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=i,R=a,H=l,J=u,se=R.flags;switch(R.tag){case 0:case 11:case 15:Al(y,R,H,J,m),cu(8,R);break;case 23:break;case 22:var me=R.stateNode;R.memoizedState!==null?me._visibility&4?Al(y,R,H,J,m):uu(y,R):(me._visibility|=4,Al(y,R,H,J,m)),m&&se&2048&&Sg(R.alternate,R);break;case 24:Al(y,R,H,J,m),m&&se&2048&&Eg(R.alternate,R);break;default:Al(y,R,H,J,m)}a=a.sibling}}function uu(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,u=a,m=u.flags;switch(u.tag){case 22:uu(l,u),m&2048&&Sg(u.alternate,u);break;case 24:uu(l,u),m&2048&&Eg(u.alternate,u);break;default:uu(l,u)}a=a.sibling}}var du=8192;function Cl(i){if(i.subtreeFlags&du)for(i=i.child;i!==null;)c1(i),i=i.sibling}function c1(i){switch(i.tag){case 26:Cl(i),i.flags&du&&i.memoizedState!==null&&s4(Kr,i.memoizedState,i.memoizedProps);break;case 5:Cl(i);break;case 3:case 4:var a=Kr;Kr=qh(i.stateNode.containerInfo),Cl(i),Kr=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=du,du=16777216,Cl(i),du=a):Cl(i));break;default:Cl(i)}}function u1(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function hu(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];gn=u,h1(u,i)}u1(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)d1(i),i=i.sibling}function d1(i){switch(i.tag){case 0:case 11:case 15:hu(i),i.flags&2048&&ea(9,i,i.return);break;case 3:hu(i);break;case 12:hu(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&4&&(i.return===null||i.return.tag!==13)?(a._visibility&=-5,Nh(i)):hu(i);break;default:hu(i)}}function Nh(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];gn=u,h1(u,i)}u1(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:ea(8,a,a.return),Nh(a);break;case 22:l=a.stateNode,l._visibility&4&&(l._visibility&=-5,Nh(a));break;default:Nh(a)}i=i.sibling}}function h1(i,a){for(;gn!==null;){var l=gn;switch(l.tag){case 0:case 11:case 15:ea(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Zc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,gn=u;else e:for(l=i;gn!==null;){u=gn;var m=u.sibling,y=u.return;if(r1(u),u===l){gn=null;break e}if(m!==null){m.return=y,gn=m;break e}gn=y}}}function yO(i,a,l,u){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(i,a,l,u){return new yO(i,a,l,u)}function Tg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ra(i,a){var l=i.alternate;return l===null?(l=jr(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&31457280,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function f1(i,a){i.flags&=31457282;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Rh(i,a,l,u,m,y){var R=0;if(u=i,typeof i=="function")Tg(i)&&(R=1);else if(typeof i=="string")R=r4(i,l,ve.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case h:return ho(l.children,m,y,a);case p:R=8,m|=24;break;case _:return i=jr(12,l,a,m|2),i.elementType=_,i.lanes=y,i;case V:return i=jr(13,l,a,m),i.elementType=V,i.lanes=y,i;case U:return i=jr(19,l,a,m),i.elementType=U,i.lanes=y,i;case X:return p1(l,m,y,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case S:case j:R=10;break e;case C:R=9;break e;case P:R=11;break e;case $:R=14;break e;case q:R=16,u=null;break e}R=29,l=Error(r(130,i===null?"null":typeof i,"")),u=null}return a=jr(R,l,a,m),a.elementType=i,a.type=u,a.lanes=y,a}function ho(i,a,l,u){return i=jr(7,i,u,a),i.lanes=l,i}function p1(i,a,l,u){i=jr(22,i,u,a),i.elementType=X,i.lanes=l;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=m._current;if(y===null)throw Error(r(456));if((m._pendingVisibility&2)===0){var R=$s(y,2);R!==null&&(m._pendingVisibility|=2,Gn(R,y,2))}},attach:function(){var y=m._current;if(y===null)throw Error(r(456));if((m._pendingVisibility&2)!==0){var R=$s(y,2);R!==null&&(m._pendingVisibility&=-3,Gn(R,y,2))}}};return i.stateNode=m,i}function xg(i,a,l){return i=jr(6,i,null,a),i.lanes=l,i}function Ag(i,a,l){return a=jr(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function rs(i){i.flags|=4}function m1(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Z1(a)){if(a=Or.current,a!==null&&((st&4194176)===st?wi!==null:(st&62914560)!==st&&(st&536870912)===0||a!==wi))throw Yc=Om,Ib;i.flags|=8192}}function Oh(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Ms():536870912,i.lanes|=a,Nl|=a)}function fu(i,a){if(!ht)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function Vt(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,u=0;if(a)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags&31457280,u|=m.flags&31457280,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=u,i.childLanes=l,a}function _O(i,a,l){var u=a.pendingProps;switch(Nm(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(a),null;case 1:return Vt(a),null;case 3:return l=a.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Zi(cn),qe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Gc(a)?rs(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Wr!==null&&(jg(Wr),Wr=null))),Vt(a),null;case 26:return l=a.memoizedState,i===null?(rs(a),l!==null?(Vt(a),m1(a,l)):(Vt(a),a.flags&=-16777217)):l?l!==i.memoizedState?(rs(a),Vt(a),m1(a,l)):(Vt(a),a.flags&=-16777217):(i.memoizedProps!==u&&rs(a),Vt(a),a.flags&=-16777217),null;case 27:Ke(a),l=Se.current;var m=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==u&&rs(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return Vt(a),null}i=ve.current,Gc(a)?Rb(a):(i=$1(m,u,l),a.stateNode=i,rs(a))}return Vt(a),null;case 5:if(Ke(a),l=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==u&&rs(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return Vt(a),null}if(i=ve.current,Gc(a))Rb(a);else{switch(m=Fh(Se.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?m.createElement("select",{is:u.is}):m.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?m.createElement(l,{is:u.is}):m.createElement(l)}}i[hn]=a,i[sn]=u;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=i;e:switch(Tn(i,l,u),l){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&rs(a)}}return Vt(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==u&&rs(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(r(166));if(i=Se.current,Gc(a)){if(i=a.stateNode,l=a.memoizedProps,u=null,m=$n,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}i[hn]=a,i=!!(i.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||U1(i.nodeValue,l)),i||to(a)}else i=Fh(i).createTextNode(u),i[hn]=a,a.stateNode=i}return Vt(a),null;case 13:if(u=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Gc(a),u!==null&&u.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[hn]=a}else Wc(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Vt(a),m=!1}else Wr!==null&&(jg(Wr),Wr=null),m=!0;if(!m)return a.flags&256?(Qi(a),a):(Qi(a),null)}if(Qi(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=u!==null,i=i!==null&&i.memoizedState!==null,l){u=a.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==m&&(u.flags|=2048)}return l!==i&&l&&(a.child.flags|=8192),Oh(a,a.updateQueue),Vt(a),null;case 4:return qe(),i===null&&$g(a.stateNode.containerInfo),Vt(a),null;case 10:return Zi(a.type),Vt(a),null;case 19:if(ue(ln),m=a.memoizedState,m===null)return Vt(a),null;if(u=(a.flags&128)!==0,y=m.rendering,y===null)if(u)fu(m,!1);else{if(qt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(y=ph(i),y!==null){for(a.flags|=128,fu(m,!1),i=y.updateQueue,a.updateQueue=i,Oh(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)f1(l,i),l=l.sibling;return ce(ln,ln.current&1|2),a.child}i=i.sibling}m.tail!==null&&Jt()>Ih&&(a.flags|=128,u=!0,fu(m,!1),a.lanes=4194304)}else{if(!u)if(i=ph(y),i!==null){if(a.flags|=128,u=!0,i=i.updateQueue,a.updateQueue=i,Oh(a,i),fu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!ht)return Vt(a),null}else 2*Jt()-m.renderingStartTime>Ih&&l!==536870912&&(a.flags|=128,u=!0,fu(m,!1),a.lanes=4194304);m.isBackwards?(y.sibling=a.child,a.child=y):(i=m.last,i!==null?i.sibling=y:a.child=y,m.last=y)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Jt(),a.sibling=null,i=ln.current,ce(ln,u?i&1|2:i&1),a):(Vt(a),null);case 22:case 23:return Qi(a),Mm(),u=a.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(Vt(a),a.subtreeFlags&6&&(a.flags|=8192)):Vt(a),l=a.updateQueue,l!==null&&Oh(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),i!==null&&ue(ro),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Zi(cn),Vt(a),null;case 25:return null}throw Error(r(156,a.tag))}function bO(i,a){switch(Nm(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Zi(cn),qe(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return Ke(a),null;case 13:if(Qi(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Wc()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return ue(ln),null;case 4:return qe(),null;case 10:return Zi(a.type),null;case 22:case 23:return Qi(a),Mm(),i!==null&&ue(ro),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Zi(cn),null;case 25:return null;default:return null}}function g1(i,a){switch(Nm(a),a.tag){case 3:Zi(cn),qe();break;case 26:case 27:case 5:Ke(a);break;case 4:qe();break;case 13:Qi(a);break;case 19:ue(ln);break;case 10:Zi(a.type);break;case 22:case 23:Qi(a),Mm(),i!==null&&ue(ro);break;case 24:Zi(cn)}}var wO={getCacheForType:function(i){var a=In(cn),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l}},SO=typeof WeakMap=="function"?WeakMap:Map,Ut=0,kt=null,Je=null,st=0,Nt=0,dr=null,is=!1,kl=!1,Cg=!1,ss=0,qt=0,ia=0,fo=0,kg=0,Dr=0,Nl=0,pu=null,Ei=null,Ng=!1,Rg=0,Ih=1/0,Mh=null,sa=null,jh=!1,po=null,mu=0,Og=0,Ig=null,gu=0,Mg=null;function hr(){if((Ut&2)!==0&&st!==0)return st&-st;if(A.T!==null){var i=bl;return i!==0?i:Bg()}return zd()}function v1(){Dr===0&&(Dr=(st&536870912)===0||ht?kc():536870912);var i=Or.current;return i!==null&&(i.flags|=32),Dr}function Gn(i,a,l){(i===kt&&Nt===2||i.cancelPendingCommit!==null)&&(Rl(i,0),as(i,st,Dr,!1)),Kt(i,l),((Ut&2)===0||i!==kt)&&(i===kt&&((Ut&2)===0&&(fo|=l),qt===4&&as(i,st,Dr,!1)),Ti(i))}function y1(i,a,l){if((Ut&6)!==0)throw Error(r(327));var u=!l&&(a&60)===0&&(a&i.expiredLanes)===0||Is(i,a),m=u?xO(i,a):Lg(i,a,!0),y=u;do{if(m===0){kl&&!u&&as(i,a,0,!1);break}else if(m===6)as(i,a,0,!is);else{if(l=i.current.alternate,y&&!EO(l)){m=Lg(i,a,!1),y=!1;continue}if(m===2){if(y=a,i.errorRecoveryDisabledLanes&y)var R=0;else R=i.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){a=R;e:{var H=i;m=pu;var J=H.current.memoizedState.isDehydrated;if(J&&(Rl(H,R).flags|=256),R=Lg(H,R,!1),R!==2){if(Cg&&!J){H.errorRecoveryDisabledLanes|=y,fo|=y,m=4;break e}y=Ei,Ei=m,y!==null&&jg(y)}m=R}if(y=!1,m!==2)continue}}if(m===1){Rl(i,0),as(i,a,0,!0);break}e:{switch(u=i,m){case 0:case 1:throw Error(r(345));case 4:if((a&4194176)===a){as(u,a,Dr,!is);break e}break;case 2:Ei=null;break;case 3:case 5:break;default:throw Error(r(329))}if(u.finishedWork=l,u.finishedLanes=a,(a&62914560)===a&&(y=Rg+300-Jt(),10<y)){if(as(u,a,Dr,!is),wr(u,0)!==0)break e;u.timeoutHandle=F1(_1.bind(null,u,l,Ei,Mh,Ng,a,Dr,fo,Nl,is,2,-0,0),y);break e}_1(u,l,Ei,Mh,Ng,a,Dr,fo,Nl,is,0,-0,0)}}break}while(!0);Ti(i)}function jg(i){Ei===null?Ei=i:Ei.push.apply(Ei,i)}function _1(i,a,l,u,m,y,R,H,J,se,me,Ee,de){var pe=a.subtreeFlags;if((pe&8192||(pe&16785408)===16785408)&&(Su={stylesheets:null,count:0,unsuspend:i4},c1(a),a=a4(),a!==null)){i.cancelPendingCommit=a(A1.bind(null,i,l,u,m,R,H,J,1,Ee,de)),as(i,y,R,!se);return}A1(i,l,u,m,R,H,J,me,Ee,de)}function EO(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var m=l[u],y=m.getSnapshot;m=m.value;try{if(!lr(y(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function as(i,a,l,u){a&=~kg,a&=~fo,i.suspendedLanes|=a,i.pingedLanes&=~a,u&&(i.warmLanes|=a),u=i.expirationTimes;for(var m=a;0<m;){var y=31-Fn(m),R=1<<y;u[y]=-1,m&=~R}l!==0&&js(i,l,a)}function Dh(){return(Ut&6)===0?(vu(0),!1):!0}function Dg(){if(Je!==null){if(Nt===0)var i=Je.return;else i=Je,Ji=lo=null,Bm(i),yl=null,Xc=0,i=Je;for(;i!==null;)g1(i.alternate,i),i=i.return;Je=null}}function Rl(i,a){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,FO(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Dg(),kt=i,Je=l=ra(i.current,null),st=a,Nt=0,dr=null,is=!1,kl=Is(i,a),Cg=!1,Nl=Dr=kg=fo=ia=qt=0,Ei=pu=null,Ng=!1,(a&8)!==0&&(a|=a&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=a;0<u;){var m=31-Fn(u),y=1<<m;a|=i[m],u&=~y}return ss=a,sh(),l}function b1(i,a){Qe=null,A.H=Si,a===Qc?(a=Db(),Nt=3):a===Ib?(a=Db(),Nt=4):Nt=a===Mw?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,dr=a,Je===null&&(qt=1,xh(i,kr(a,i.current)))}function w1(){var i=A.H;return A.H=Si,i===null?Si:i}function S1(){var i=A.A;return A.A=wO,i}function Pg(){qt=4,is||(st&4194176)!==st&&Or.current!==null||(kl=!0),(ia&134217727)===0&&(fo&134217727)===0||kt===null||as(kt,st,Dr,!1)}function Lg(i,a,l){var u=Ut;Ut|=2;var m=w1(),y=S1();(kt!==i||st!==a)&&(Mh=null,Rl(i,a)),a=!1;var R=qt;e:do try{if(Nt!==0&&Je!==null){var H=Je,J=dr;switch(Nt){case 8:Dg(),R=6;break e;case 3:case 2:case 6:Or.current===null&&(a=!0);var se=Nt;if(Nt=0,dr=null,Ol(i,H,J,se),l&&kl){R=0;break e}break;default:se=Nt,Nt=0,dr=null,Ol(i,H,J,se)}}TO(),R=qt;break}catch(me){b1(i,me)}while(!0);return a&&i.shellSuspendCounter++,Ji=lo=null,Ut=u,A.H=m,A.A=y,Je===null&&(kt=null,st=0,sh()),R}function TO(){for(;Je!==null;)E1(Je)}function xO(i,a){var l=Ut;Ut|=2;var u=w1(),m=S1();kt!==i||st!==a?(Mh=null,Ih=Jt()+500,Rl(i,a)):kl=Is(i,a);e:do try{if(Nt!==0&&Je!==null){a=Je;var y=dr;t:switch(Nt){case 1:Nt=0,dr=null,Ol(i,a,y,1);break;case 2:if(Mb(y)){Nt=0,dr=null,T1(a);break}a=function(){Nt===2&&kt===i&&(Nt=7),Ti(i)},y.then(a,a);break e;case 3:Nt=7;break e;case 4:Nt=5;break e;case 7:Mb(y)?(Nt=0,dr=null,T1(a)):(Nt=0,dr=null,Ol(i,a,y,7));break;case 5:var R=null;switch(Je.tag){case 26:R=Je.memoizedState;case 5:case 27:var H=Je;if(!R||Z1(R)){Nt=0,dr=null;var J=H.sibling;if(J!==null)Je=J;else{var se=H.return;se!==null?(Je=se,Ph(se)):Je=null}break t}}Nt=0,dr=null,Ol(i,a,y,5);break;case 6:Nt=0,dr=null,Ol(i,a,y,6);break;case 8:Dg(),qt=6;break e;default:throw Error(r(462))}}AO();break}catch(me){b1(i,me)}while(!0);return Ji=lo=null,A.H=u,A.A=m,Ut=l,Je!==null?0:(kt=null,st=0,sh(),qt)}function AO(){for(;Je!==null&&!bn();)E1(Je)}function E1(i){var a=$w(i.alternate,i,ss);i.memoizedProps=i.pendingProps,a===null?Ph(i):Je=a}function T1(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=Uw(l,a,a.pendingProps,a.type,void 0,st);break;case 11:a=Uw(l,a,a.pendingProps,a.type.render,a.ref,st);break;case 5:Bm(a);default:g1(l,a),a=Je=f1(a,ss),a=$w(l,a,ss)}i.memoizedProps=i.pendingProps,a===null?Ph(i):Je=a}function Ol(i,a,l,u){Ji=lo=null,Bm(a),yl=null,Xc=0;var m=a.return;try{if(pO(i,m,a,l,st)){qt=1,xh(i,kr(l,i.current)),Je=null;return}}catch(y){if(m!==null)throw Je=m,y;qt=1,xh(i,kr(l,i.current)),Je=null;return}a.flags&32768?(ht||u===1?i=!0:kl||(st&536870912)!==0?i=!1:(is=i=!0,(u===2||u===3||u===6)&&(u=Or.current,u!==null&&u.tag===13&&(u.flags|=16384))),x1(a,i)):Ph(a)}function Ph(i){var a=i;do{if((a.flags&32768)!==0){x1(a,is);return}i=a.return;var l=_O(a.alternate,a,ss);if(l!==null){Je=l;return}if(a=a.sibling,a!==null){Je=a;return}Je=a=i}while(a!==null);qt===0&&(qt=5)}function x1(i,a){do{var l=bO(i.alternate,i);if(l!==null){l.flags&=32767,Je=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){Je=i;return}Je=i=l}while(i!==null);qt=6,Je=null}function A1(i,a,l,u,m,y,R,H,J,se){var me=A.T,Ee=E.p;try{E.p=2,A.T=null,CO(i,a,l,u,Ee,m,y,R,H,J,se)}finally{A.T=me,E.p=Ee}}function CO(i,a,l,u,m,y,R,H){do Il();while(po!==null);if((Ut&6)!==0)throw Error(r(327));var J=i.finishedWork;if(u=i.finishedLanes,J===null)return null;if(i.finishedWork=null,i.finishedLanes=0,J===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var se=J.lanes|J.childLanes;if(se|=Am,Vd(i,u,se,y,R,H),i===kt&&(Je=kt=null,st=0),(J.subtreeFlags&10256)===0&&(J.flags&10256)===0||jh||(jh=!0,Og=se,Ig=l,OO(Bn,function(){return Il(),null})),l=(J.flags&15990)!==0,(J.subtreeFlags&15990)!==0||l?(l=A.T,A.T=null,y=E.p,E.p=2,R=Ut,Ut|=4,gO(i,J),a1(J,i),XR(Qg,i.containerInfo),Kh=!!Kg,Qg=Kg=null,i.current=J,n1(i,J.alternate,J),Rn(),Ut=R,E.p=y,A.T=l):i.current=J,jh?(jh=!1,po=i,mu=u):C1(i,se),se=i.pendingLanes,se===0&&(sa=null),Ac(J.stateNode),Ti(i),a!==null)for(m=i.onRecoverableError,J=0;J<a.length;J++)se=a[J],m(se.value,{componentStack:se.stack});return(mu&3)!==0&&Il(),se=i.pendingLanes,(u&4194218)!==0&&(se&42)!==0?i===Mg?gu++:(gu=0,Mg=i):gu=0,vu(0),null}function C1(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Zc(a)))}function Il(){if(po!==null){var i=po,a=Og;Og=0;var l=Ud(mu),u=A.T,m=E.p;try{if(E.p=32>l?32:l,A.T=null,po===null)var y=!1;else{l=Ig,Ig=null;var R=po,H=mu;if(po=null,mu=0,(Ut&6)!==0)throw Error(r(331));var J=Ut;if(Ut|=4,d1(R.current),l1(R,R.current,H,l),Ut=J,vu(0,!1),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(Rs,R)}catch{}y=!0}return y}finally{E.p=m,A.T=u,C1(i,a)}}return!1}function k1(i,a,l){a=kr(l,a),a=tg(i.stateNode,a,2),i=Zs(i,a,2),i!==null&&(Kt(i,2),Ti(i))}function Et(i,a,l){if(i.tag===3)k1(i,i,l);else for(;a!==null;){if(a.tag===3){k1(a,i,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(sa===null||!sa.has(u))){i=kr(l,i),l=Ow(2),u=Zs(a,l,2),u!==null&&(Iw(l,u,a,i),Kt(u,2),Ti(u));break}}a=a.return}}function Vg(i,a,l){var u=i.pingCache;if(u===null){u=i.pingCache=new SO;var m=new Set;u.set(a,m)}else m=u.get(a),m===void 0&&(m=new Set,u.set(a,m));m.has(l)||(Cg=!0,m.add(l),i=kO.bind(null,i,a,l),a.then(i,i))}function kO(i,a,l){var u=i.pingCache;u!==null&&u.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,kt===i&&(st&l)===l&&(qt===4||qt===3&&(st&62914560)===st&&300>Jt()-Rg?(Ut&2)===0&&Rl(i,0):kg|=l,Nl===st&&(Nl=0)),Ti(i)}function N1(i,a){a===0&&(a=Ms()),i=$s(i,a),i!==null&&(Kt(i,a),Ti(i))}function NO(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),N1(i,l)}function RO(i,a){var l=0;switch(i.tag){case 13:var u=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(a),N1(i,l)}function OO(i,a){return pt(i,a)}var Lh=null,Ml=null,Ug=!1,Vh=!1,zg=!1,mo=0;function Ti(i){i!==Ml&&i.next===null&&(Ml===null?Lh=Ml=i:Ml=Ml.next=i),Vh=!0,Ug||(Ug=!0,MO(IO))}function vu(i,a){if(!zg&&Vh){zg=!0;do for(var l=!1,u=Lh;u!==null;){if(i!==0){var m=u.pendingLanes;if(m===0)var y=0;else{var R=u.suspendedLanes,H=u.pingedLanes;y=(1<<31-Fn(42|i)+1)-1,y&=m&~(R&~H),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(l=!0,I1(u,y))}else y=st,y=wr(u,u===kt?y:0),(y&3)===0||Is(u,y)||(l=!0,I1(u,y));u=u.next}while(l);zg=!1}}function IO(){Vh=Ug=!1;var i=0;mo!==0&&(BO()&&(i=mo),mo=0);for(var a=Jt(),l=null,u=Lh;u!==null;){var m=u.next,y=R1(u,a);y===0?(u.next=null,l===null?Lh=m:l.next=m,m===null&&(Ml=l)):(l=u,(i!==0||(y&3)!==0)&&(Vh=!0)),u=m}vu(i)}function R1(i,a){for(var l=i.suspendedLanes,u=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var R=31-Fn(y),H=1<<R,J=m[R];J===-1?((H&l)===0||(H&u)!==0)&&(m[R]=Xo(H,a)):J<=a&&(i.expiredLanes|=H),y&=~H}if(a=kt,l=st,l=wr(i,i===a?l:0),u=i.callbackNode,l===0||i===a&&Nt===2||i.cancelPendingCommit!==null)return u!==null&&u!==null&&It(u),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Is(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(u!==null&&It(u),Ud(l)){case 2:case 8:l=St;break;case 32:l=Bn;break;case 268435456:l=xc;break;default:l=Bn}return u=O1.bind(null,i),l=pt(l,u),i.callbackPriority=a,i.callbackNode=l,a}return u!==null&&u!==null&&It(u),i.callbackPriority=2,i.callbackNode=null,2}function O1(i,a){var l=i.callbackNode;if(Il()&&i.callbackNode!==l)return null;var u=st;return u=wr(i,i===kt?u:0),u===0?null:(y1(i,u,a),R1(i,Jt()),i.callbackNode!=null&&i.callbackNode===l?O1.bind(null,i):null)}function I1(i,a){if(Il())return null;y1(i,a,!0)}function MO(i){qO(function(){(Ut&6)!==0?pt(Pt,i):i()})}function Bg(){return mo===0&&(mo=kc()),mo}function M1(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:fi(""+i)}function j1(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function jO(i,a,l,u,m){if(a==="submit"&&l&&l.stateNode===m){var y=M1((m[sn]||null).action),R=u.submitter;R&&(a=(a=R[sn]||null)?M1(a.formAction):R.getAttribute("formAction"),a!==null&&(y=a,R=null));var H=new il("action","action",null,u,m);i.push({event:H,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(mo!==0){var J=R?j1(m,R):new FormData(m);Ym(l,{pending:!0,data:J,method:m.method,action:y},null,J)}}else typeof y=="function"&&(H.preventDefault(),J=R?j1(m,R):new FormData(m),Ym(l,{pending:!0,data:J,method:m.method,action:y},y,J))},currentTarget:m}]})}}for(var Fg=0;Fg<Ab.length;Fg++){var qg=Ab[Fg],DO=qg.toLowerCase(),PO=qg[0].toUpperCase()+qg.slice(1);Gr(DO,"on"+PO)}Gr(wb,"onAnimationEnd"),Gr(Sb,"onAnimationIteration"),Gr(Eb,"onAnimationStart"),Gr("dblclick","onDoubleClick"),Gr("focusin","onFocus"),Gr("focusout","onBlur"),Gr(ZR,"onTransitionRun"),Gr(eO,"onTransitionStart"),Gr(tO,"onTransitionCancel"),Gr(Tb,"onTransitionEnd"),Jn("onMouseEnter",["mouseout","mouseover"]),Jn("onMouseLeave",["mouseout","mouseover"]),Jn("onPointerEnter",["pointerout","pointerover"]),Jn("onPointerLeave",["pointerout","pointerover"]),ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ar("onBeforeInput",["compositionend","keypress","textInput","paste"]),ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yu));function D1(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var u=i[l],m=u.event;u=u.listeners;e:{var y=void 0;if(a)for(var R=u.length-1;0<=R;R--){var H=u[R],J=H.instance,se=H.currentTarget;if(H=H.listener,J!==y&&m.isPropagationStopped())break e;y=H,m.currentTarget=se;try{y(m)}catch(me){Th(me)}m.currentTarget=null,y=J}else for(R=0;R<u.length;R++){if(H=u[R],J=H.instance,se=H.currentTarget,H=H.listener,J!==y&&m.isPropagationStopped())break e;y=H,m.currentTarget=se;try{y(m)}catch(me){Th(me)}m.currentTarget=null,y=J}}}}function tt(i,a){var l=a[Ua];l===void 0&&(l=a[Ua]=new Set);var u=i+"__bubble";l.has(u)||(P1(a,i,2,!1),l.add(u))}function Hg(i,a,l){var u=0;a&&(u|=4),P1(l,i,u,a)}var Uh="_reactListening"+Math.random().toString(36).slice(2);function $g(i){if(!i[Uh]){i[Uh]=!0,Rc.forEach(function(l){l!=="selectionchange"&&(LO.has(l)||Hg(l,!1,i),Hg(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Uh]||(a[Uh]=!0,Hg("selectionchange",!1,a))}}function P1(i,a,l,u){switch(sS(a)){case 2:var m=c4;break;case 8:m=u4;break;default:m=iv}l=m.bind(null,a,l,i),m=void 0,!xr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),u?m!==void 0?i.addEventListener(a,l,{capture:!0,passive:m}):i.addEventListener(a,l,!0):m!==void 0?i.addEventListener(a,l,{passive:m}):i.addEventListener(a,l,!1)}function Gg(i,a,l,u,m){var y=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var R=u.tag;if(R===3||R===4){var H=u.stateNode.containerInfo;if(H===m||H.nodeType===8&&H.parentNode===m)break;if(R===4)for(R=u.return;R!==null;){var J=R.tag;if((J===3||J===4)&&(J=R.stateNode.containerInfo,J===m||J.nodeType===8&&J.parentNode===m))return;R=R.return}for(;H!==null;){if(R=$r(H),R===null)return;if(J=R.tag,J===5||J===6||J===26||J===27){u=y=R;continue e}H=H.parentNode}}u=u.return}Hd(function(){var se=y,me=rl(l),Ee=[];e:{var de=xb.get(i);if(de!==void 0){var pe=il,Me=i;switch(i){case"keypress":if(mi(l)===0)break e;case"keydown":case"keyup":pe=ul;break;case"focusin":Me="focus",pe=ol;break;case"focusout":Me="blur",pe=ol;break;case"beforeblur":case"afterblur":pe=ol;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=Ar;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=ym;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=Jd;break;case wb:case Sb:case Eb:pe=ll;break;case Tb:pe=eh;break;case"scroll":case"scrollend":pe=$d;break;case"wheel":pe=dl;break;case"copy":case"cut":case"paste":pe=cl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=Fc;break;case"toggle":case"beforetoggle":pe=nh}var He=(a&4)!==0,Ht=!He&&(i==="scroll"||i==="scrollend"),ae=He?de!==null?de+"Capture":null:de;He=[];for(var ie=se,le;ie!==null;){var _e=ie;if(le=_e.stateNode,_e=_e.tag,_e!==5&&_e!==26&&_e!==27||le===null||ae===null||(_e=Ha(ie,ae),_e!=null&&He.push(_u(ie,_e,le))),Ht)break;ie=ie.return}0<He.length&&(de=new pe(de,Me,null,l,me),Ee.push({event:de,listeners:He}))}}if((a&7)===0){e:{if(de=i==="mouseover"||i==="pointerover",pe=i==="mouseout"||i==="pointerout",de&&l!==Tr&&(Me=l.relatedTarget||l.fromElement)&&($r(Me)||Me[Vi]))break e;if((pe||de)&&(de=me.window===me?me:(de=me.ownerDocument)?de.defaultView||de.parentWindow:window,pe?(Me=l.relatedTarget||l.toElement,pe=se,Me=Me?$r(Me):null,Me!==null&&(Ht=ge(Me),He=Me.tag,Me!==Ht||He!==5&&He!==27&&He!==6)&&(Me=null)):(pe=null,Me=se),pe!==Me)){if(He=Ar,_e="onMouseLeave",ae="onMouseEnter",ie="mouse",(i==="pointerout"||i==="pointerover")&&(He=Fc,_e="onPointerLeave",ae="onPointerEnter",ie="pointer"),Ht=pe==null?de:Vs(pe),le=Me==null?de:Vs(Me),de=new He(_e,ie+"leave",pe,l,me),de.target=Ht,de.relatedTarget=le,_e=null,$r(me)===se&&(He=new He(ae,ie+"enter",Me,l,me),He.target=le,He.relatedTarget=Ht,_e=He),Ht=_e,pe&&Me)t:{for(He=pe,ae=Me,ie=0,le=He;le;le=jl(le))ie++;for(le=0,_e=ae;_e;_e=jl(_e))le++;for(;0<ie-le;)He=jl(He),ie--;for(;0<le-ie;)ae=jl(ae),le--;for(;ie--;){if(He===ae||ae!==null&&He===ae.alternate)break t;He=jl(He),ae=jl(ae)}He=null}else He=null;pe!==null&&L1(Ee,de,pe,He,!1),Me!==null&&Ht!==null&&L1(Ee,Ht,Me,He,!0)}}e:{if(de=se?Vs(se):window,pe=de.nodeName&&de.nodeName.toLowerCase(),pe==="select"||pe==="input"&&de.type==="file")var Oe=ub;else if(on(de))if(db)Oe=QR;else{Oe=WR;var Xe=GR}else pe=de.nodeName,!pe||pe.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?se&&Dc(se.elementType)&&(Oe=ub):Oe=KR;if(Oe&&(Oe=Oe(i,se))){Gi(Ee,Oe,l,me);break e}Xe&&Xe(i,de,se),i==="focusout"&&se&&de.type==="number"&&se.memoizedProps.value!=null&&nl(de,"number",de.value)}switch(Xe=se?Vs(se):window,i){case"focusin":(on(Xe)||Xe.contentEditable==="true")&&(hl=Xe,Em=se,$c=null);break;case"focusout":$c=Em=hl=null;break;case"mousedown":Tm=!0;break;case"contextmenu":case"mouseup":case"dragend":Tm=!1,_b(Ee,l,me);break;case"selectionchange":if(JR)break;case"keydown":case"keyup":_b(Ee,l,me)}var De;if(yi)e:{switch(i){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else rt?fe(i,l)&&(Ve="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ve="onCompositionStart");Ve&&(k&&l.locale!=="ko"&&(rt||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&rt&&(De=Lc()):(pi=me,Hs="value"in pi?pi.value:pi.textContent,rt=!0)),Xe=zh(se,Ve),0<Xe.length&&(Ve=new zc(Ve,i,null,l,me),Ee.push({event:Ve,listeners:Xe}),De?Ve.data=De:(De=Ae(l),De!==null&&(Ve.data=De)))),(De=b?an(i,l):it(i,l))&&(Ve=zh(se,"onBeforeInput"),0<Ve.length&&(Xe=new zc("onBeforeInput","beforeinput",null,l,me),Ee.push({event:Xe,listeners:Ve}),Xe.data=De)),jO(Ee,i,se,l,me)}D1(Ee,a)})}function _u(i,a,l){return{instance:i,listener:a,currentTarget:l}}function zh(i,a){for(var l=a+"Capture",u=[];i!==null;){var m=i,y=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Ha(i,l),m!=null&&u.unshift(_u(i,m,y)),m=Ha(i,a),m!=null&&u.push(_u(i,m,y))),i=i.return}return u}function jl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function L1(i,a,l,u,m){for(var y=a._reactName,R=[];l!==null&&l!==u;){var H=l,J=H.alternate,se=H.stateNode;if(H=H.tag,J!==null&&J===u)break;H!==5&&H!==26&&H!==27||se===null||(J=se,m?(se=Ha(l,y),se!=null&&R.unshift(_u(l,se,J))):m||(se=Ha(l,y),se!=null&&R.push(_u(l,se,J)))),l=l.return}R.length!==0&&i.push({event:a,listeners:R})}var VO=/\r\n?/g,UO=/\u0000|\uFFFD/g;function V1(i){return(typeof i=="string"?i:""+i).replace(VO,`
`).replace(UO,"")}function U1(i,a){return a=V1(a),V1(i)===a}function Bh(){}function _t(i,a,l,u,m,y){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Er(i,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Er(i,""+u);break;case"className":Bs(i,"class",u);break;case"tabIndex":Bs(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Bs(i,l,u);break;case"style":qd(i,u,y);break;case"data":if(a!=="object"){Bs(i,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=fi(""+u),i.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&_t(i,a,"name",m.name,m,null),_t(i,a,"formEncType",m.formEncType,m,null),_t(i,a,"formMethod",m.formMethod,m,null),_t(i,a,"formTarget",m.formTarget,m,null)):(_t(i,a,"encType",m.encType,m,null),_t(i,a,"method",m.method,m,null),_t(i,a,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=fi(""+u),i.setAttribute(l,u);break;case"onClick":u!=null&&(i.onclick=Bh);break;case"onScroll":u!=null&&tt("scroll",i);break;case"onScrollEnd":u!=null&&tt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}l=fi(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""+u):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":u===!0?i.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,u):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(l,u):i.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(l):i.setAttribute(l,u);break;case"popover":tt("beforetoggle",i),tt("toggle",i),zs(i,"popover",u);break;case"xlinkActuate":Sr(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Sr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Sr(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Sr(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Sr(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Sr(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Sr(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Sr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Sr(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":zs(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=gm.get(l)||l,zs(i,l,u))}}function Wg(i,a,l,u,m,y){switch(l){case"style":qd(i,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof u=="string"?Er(i,u):(typeof u=="number"||typeof u=="bigint")&&Er(i,""+u);break;case"onScroll":u!=null&&tt("scroll",i);break;case"onScrollEnd":u!=null&&tt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Bh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!el.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),y=i[sn]||null,y=y!=null?y[l]:null,typeof y=="function"&&i.removeEventListener(a,y,m),typeof u=="function")){typeof y!="function"&&y!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,u,m);break e}l in i?i[l]=u:u===!0?i.setAttribute(l,""):zs(i,l,u)}}}function Tn(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",i),tt("load",i);var u=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var R=l[y];if(R!=null)switch(y){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:_t(i,a,y,R,l,null)}}m&&_t(i,a,"srcSet",l.srcSet,l,null),u&&_t(i,a,"src",l.src,l,null);return;case"input":tt("invalid",i);var H=y=R=m=null,J=null,se=null;for(u in l)if(l.hasOwnProperty(u)){var me=l[u];if(me!=null)switch(u){case"name":m=me;break;case"type":R=me;break;case"checked":J=me;break;case"defaultChecked":se=me;break;case"value":y=me;break;case"defaultValue":H=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,a));break;default:_t(i,a,u,me,l,null)}}Fa(i,y,H,J,se,R,m,!1),Ba(i);return;case"select":tt("invalid",i),u=R=y=null;for(m in l)if(l.hasOwnProperty(m)&&(H=l[m],H!=null))switch(m){case"value":y=H;break;case"defaultValue":R=H;break;case"multiple":u=H;default:_t(i,a,m,H,l,null)}a=y,l=R,i.multiple=!!u,a!=null?dt(i,!!u,a,!1):l!=null&&dt(i,!!u,l,!0);return;case"textarea":tt("invalid",i),y=m=u=null;for(R in l)if(l.hasOwnProperty(R)&&(H=l[R],H!=null))switch(R){case"value":u=H;break;case"defaultValue":m=H;break;case"children":y=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(91));break;default:_t(i,a,R,H,l,null)}qs(i,u,m,y),Ba(i);return;case"option":for(J in l)if(l.hasOwnProperty(J)&&(u=l[J],u!=null))switch(J){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:_t(i,a,J,u,l,null)}return;case"dialog":tt("cancel",i),tt("close",i);break;case"iframe":case"object":tt("load",i);break;case"video":case"audio":for(u=0;u<yu.length;u++)tt(yu[u],i);break;case"image":tt("error",i),tt("load",i);break;case"details":tt("toggle",i);break;case"embed":case"source":case"link":tt("error",i),tt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in l)if(l.hasOwnProperty(se)&&(u=l[se],u!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:_t(i,a,se,u,l,null)}return;default:if(Dc(a)){for(me in l)l.hasOwnProperty(me)&&(u=l[me],u!==void 0&&Wg(i,a,me,u,l,void 0));return}}for(H in l)l.hasOwnProperty(H)&&(u=l[H],u!=null&&_t(i,a,H,u,l,null))}function zO(i,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,R=null,H=null,J=null,se=null,me=null;for(pe in l){var Ee=l[pe];if(l.hasOwnProperty(pe)&&Ee!=null)switch(pe){case"checked":break;case"value":break;case"defaultValue":J=Ee;default:u.hasOwnProperty(pe)||_t(i,a,pe,null,u,Ee)}}for(var de in u){var pe=u[de];if(Ee=l[de],u.hasOwnProperty(de)&&(pe!=null||Ee!=null))switch(de){case"type":y=pe;break;case"name":m=pe;break;case"checked":se=pe;break;case"defaultChecked":me=pe;break;case"value":R=pe;break;case"defaultValue":H=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,a));break;default:pe!==Ee&&_t(i,a,de,pe,u,Ee)}}Fs(i,R,H,J,se,me,y,m);return;case"select":pe=R=H=de=null;for(y in l)if(J=l[y],l.hasOwnProperty(y)&&J!=null)switch(y){case"value":break;case"multiple":pe=J;default:u.hasOwnProperty(y)||_t(i,a,y,null,u,J)}for(m in u)if(y=u[m],J=l[m],u.hasOwnProperty(m)&&(y!=null||J!=null))switch(m){case"value":de=y;break;case"defaultValue":H=y;break;case"multiple":R=y;default:y!==J&&_t(i,a,m,y,u,J)}a=H,l=R,u=pe,de!=null?dt(i,!!l,de,!1):!!u!=!!l&&(a!=null?dt(i,!!l,a,!0):dt(i,!!l,l?[]:"",!1));return;case"textarea":pe=de=null;for(H in l)if(m=l[H],l.hasOwnProperty(H)&&m!=null&&!u.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:_t(i,a,H,null,u,m)}for(R in u)if(m=u[R],y=l[R],u.hasOwnProperty(R)&&(m!=null||y!=null))switch(R){case"value":de=m;break;case"defaultValue":pe=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&_t(i,a,R,m,u,y)}qa(i,de,pe);return;case"option":for(var Me in l)if(de=l[Me],l.hasOwnProperty(Me)&&de!=null&&!u.hasOwnProperty(Me))switch(Me){case"selected":i.selected=!1;break;default:_t(i,a,Me,null,u,de)}for(J in u)if(de=u[J],pe=l[J],u.hasOwnProperty(J)&&de!==pe&&(de!=null||pe!=null))switch(J){case"selected":i.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:_t(i,a,J,de,u,pe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var He in l)de=l[He],l.hasOwnProperty(He)&&de!=null&&!u.hasOwnProperty(He)&&_t(i,a,He,null,u,de);for(se in u)if(de=u[se],pe=l[se],u.hasOwnProperty(se)&&de!==pe&&(de!=null||pe!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,a));break;default:_t(i,a,se,de,u,pe)}return;default:if(Dc(a)){for(var Ht in l)de=l[Ht],l.hasOwnProperty(Ht)&&de!==void 0&&!u.hasOwnProperty(Ht)&&Wg(i,a,Ht,void 0,u,de);for(me in u)de=u[me],pe=l[me],!u.hasOwnProperty(me)||de===pe||de===void 0&&pe===void 0||Wg(i,a,me,de,u,pe);return}}for(var ae in l)de=l[ae],l.hasOwnProperty(ae)&&de!=null&&!u.hasOwnProperty(ae)&&_t(i,a,ae,null,u,de);for(Ee in u)de=u[Ee],pe=l[Ee],!u.hasOwnProperty(Ee)||de===pe||de==null&&pe==null||_t(i,a,Ee,de,u,pe)}var Kg=null,Qg=null;function Fh(i){return i.nodeType===9?i:i.ownerDocument}function z1(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function B1(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function Yg(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Xg=null;function BO(){var i=window.event;return i&&i.type==="popstate"?i===Xg?!1:(Xg=i,!0):(Xg=null,!1)}var F1=typeof setTimeout=="function"?setTimeout:void 0,FO=typeof clearTimeout=="function"?clearTimeout:void 0,q1=typeof Promise=="function"?Promise:void 0,qO=typeof queueMicrotask=="function"?queueMicrotask:typeof q1<"u"?function(i){return q1.resolve(null).then(i).catch(HO)}:F1;function HO(i){setTimeout(function(){throw i})}function Jg(i,a){var l=a,u=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(u===0){i.removeChild(m),Cu(a);return}u--}else l!=="$"&&l!=="$?"&&l!=="$!"||u++;l=m}while(l);Cu(a)}function Zg(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Zg(l),za(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function $O(i,a,l,u){for(;i.nodeType===1;){var m=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ls])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==m.rel||i.getAttribute("href")!==(m.href==null?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=Qr(i.nextSibling),i===null)break}return null}function GO(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Qr(i.nextSibling),i===null))return null;return i}function Qr(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}function H1(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return i;a--}else l==="/$"&&a++}i=i.previousSibling}return null}function $1(i,a,l){switch(a=Fh(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}var Pr=new Map,G1=new Set;function qh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var os=E.d;E.d={f:WO,r:KO,D:QO,C:YO,L:XO,m:JO,X:e4,S:ZO,M:t4};function WO(){var i=os.f(),a=Dh();return i||a}function KO(i){var a=Ui(i);a!==null&&a.tag===5&&a.type==="form"?_w(a):os.r(i)}var Dl=typeof document>"u"?null:document;function W1(i,a,l){var u=Dl;if(u&&typeof a=="string"&&a){var m=Bt(a);m='link[rel="'+i+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),G1.has(m)||(G1.add(m),i={rel:i,crossOrigin:l,href:a},u.querySelector(m)===null&&(a=u.createElement("link"),Tn(a,"link",i),Lt(a),u.head.appendChild(a)))}}function QO(i){os.D(i),W1("dns-prefetch",i,null)}function YO(i,a){os.C(i,a),W1("preconnect",i,a)}function XO(i,a,l){os.L(i,a,l);var u=Dl;if(u&&i&&a){var m='link[rel="preload"][as="'+Bt(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Bt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Bt(l.imageSizes)+'"]')):m+='[href="'+Bt(i)+'"]';var y=m;switch(a){case"style":y=Pl(i);break;case"script":y=Ll(i)}Pr.has(y)||(i=x({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),Pr.set(y,i),u.querySelector(m)!==null||a==="style"&&u.querySelector(bu(y))||a==="script"&&u.querySelector(wu(y))||(a=u.createElement("link"),Tn(a,"link",i),Lt(a),u.head.appendChild(a)))}}function JO(i,a){os.m(i,a);var l=Dl;if(l&&i){var u=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+Bt(u)+'"][href="'+Bt(i)+'"]',y=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ll(i)}if(!Pr.has(y)&&(i=x({rel:"modulepreload",href:i},a),Pr.set(y,i),l.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(wu(y)))return}u=l.createElement("link"),Tn(u,"link",i),Lt(u),l.head.appendChild(u)}}}function ZO(i,a,l){os.S(i,a,l);var u=Dl;if(u&&i){var m=Us(u).hoistableStyles,y=Pl(i);a=a||"default";var R=m.get(y);if(!R){var H={loading:0,preload:null};if(R=u.querySelector(bu(y)))H.loading=5;else{i=x({rel:"stylesheet",href:i,"data-precedence":a},l),(l=Pr.get(y))&&ev(i,l);var J=R=u.createElement("link");Lt(J),Tn(J,"link",i),J._p=new Promise(function(se,me){J.onload=se,J.onerror=me}),J.addEventListener("load",function(){H.loading|=1}),J.addEventListener("error",function(){H.loading|=2}),H.loading|=4,Hh(R,a,u)}R={type:"stylesheet",instance:R,count:1,state:H},m.set(y,R)}}}function e4(i,a){os.X(i,a);var l=Dl;if(l&&i){var u=Us(l).hoistableScripts,m=Ll(i),y=u.get(m);y||(y=l.querySelector(wu(m)),y||(i=x({src:i,async:!0},a),(a=Pr.get(m))&&tv(i,a),y=l.createElement("script"),Lt(y),Tn(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function t4(i,a){os.M(i,a);var l=Dl;if(l&&i){var u=Us(l).hoistableScripts,m=Ll(i),y=u.get(m);y||(y=l.querySelector(wu(m)),y||(i=x({src:i,async:!0,type:"module"},a),(a=Pr.get(m))&&tv(i,a),y=l.createElement("script"),Lt(y),Tn(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function K1(i,a,l,u){var m=(m=Se.current)?qh(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Pl(l.href),l=Us(m).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Pl(l.href);var y=Us(m).hoistableStyles,R=y.get(i);if(R||(m=m.ownerDocument||m,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,R),(y=m.querySelector(bu(i)))&&!y._p&&(R.instance=y,R.state.loading=5),Pr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Pr.set(i,l),y||n4(m,i,l,R.state))),a&&u===null)throw Error(r(528,""));return R}if(a&&u!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Ll(l),l=Us(m).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Pl(i){return'href="'+Bt(i)+'"'}function bu(i){return'link[rel="stylesheet"]['+i+"]"}function Q1(i){return x({},i,{"data-precedence":i.precedence,precedence:null})}function n4(i,a,l,u){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=i.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),Tn(a,"link",l),Lt(a),i.head.appendChild(a))}function Ll(i){return'[src="'+Bt(i)+'"]'}function wu(i){return"script[async]"+i}function Y1(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=i.querySelector('style[data-href~="'+Bt(l.href)+'"]');if(u)return a.instance=u,Lt(u),u;var m=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Lt(u),Tn(u,"style",m),Hh(u,l.precedence,i),a.instance=u;case"stylesheet":m=Pl(l.href);var y=i.querySelector(bu(m));if(y)return a.state.loading|=4,a.instance=y,Lt(y),y;u=Q1(l),(m=Pr.get(m))&&ev(u,m),y=(i.ownerDocument||i).createElement("link"),Lt(y);var R=y;return R._p=new Promise(function(H,J){R.onload=H,R.onerror=J}),Tn(y,"link",u),a.state.loading|=4,Hh(y,l.precedence,i),a.instance=y;case"script":return y=Ll(l.src),(m=i.querySelector(wu(y)))?(a.instance=m,Lt(m),m):(u=l,(m=Pr.get(y))&&(u=x({},l),tv(u,m)),i=i.ownerDocument||i,m=i.createElement("script"),Lt(m),Tn(m,"link",u),i.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Hh(u,l.precedence,i));return a.instance}function Hh(i,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,y=m,R=0;R<u.length;R++){var H=u[R];if(H.dataset.precedence===a)y=H;else if(y!==m)break}y?y.parentNode.insertBefore(i,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function ev(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function tv(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var $h=null;function X1(i,a,l){if($h===null){var u=new Map,m=$h=new Map;m.set(l,u)}else m=$h,u=m.get(l),u||(u=new Map,m.set(l,u));if(u.has(i))return u;for(u.set(i,null),l=l.getElementsByTagName(i),m=0;m<l.length;m++){var y=l[m];if(!(y[Ls]||y[hn]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var R=y.getAttribute(a)||"";R=i+R;var H=u.get(R);H?H.push(y):u.set(R,[y])}}return u}function J1(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function r4(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Z1(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Su=null;function i4(){}function s4(i,a,l){if(Su===null)throw Error(r(475));var u=Su;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=Pl(l.href),y=i.querySelector(bu(m));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Gh.bind(u),i.then(u,u)),a.state.loading|=4,a.instance=y,Lt(y);return}y=i.ownerDocument||i,l=Q1(l),(m=Pr.get(m))&&ev(l,m),y=y.createElement("link"),Lt(y);var R=y;R._p=new Promise(function(H,J){R.onload=H,R.onerror=J}),Tn(y,"link",l),a.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=Gh.bind(u),i.addEventListener("load",a),i.addEventListener("error",a))}}function a4(){if(Su===null)throw Error(r(475));var i=Su;return i.stylesheets&&i.count===0&&nv(i,i.stylesheets),0<i.count?function(a){var l=setTimeout(function(){if(i.stylesheets&&nv(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Gh(){if(this.count--,this.count===0){if(this.stylesheets)nv(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Wh=null;function nv(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Wh=new Map,a.forEach(o4,i),Wh=null,Gh.call(i))}function o4(i,a){if(!(a.state.loading&4)){var l=Wh.get(i);if(l)var u=l.get(null);else{l=new Map,Wh.set(i,l);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var R=m[y];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(l.set(R.dataset.precedence,R),u=R)}u&&l.set(null,u)}m=a.instance,R=m.getAttribute("data-precedence"),y=l.get(R)||u,y===u&&l.set(null,m),l.set(R,m),this.count++,u=Gh.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),y?y.parentNode.insertBefore(m,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),a.state.loading|=4}}var Eu={$$typeof:j,Provider:null,Consumer:null,_currentValue:T,_currentValue2:T,_threadCount:0};function l4(i,a,l,u,m,y,R,H){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jo(0),this.hiddenUpdates=Jo(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function eS(i,a,l,u,m,y,R,H,J,se,me,Ee){return i=new l4(i,a,l,R,H,J,se,Ee),a=1,y===!0&&(a|=24),y=jr(3,null,null,a),i.current=y,y.stateNode=i,a=jm(),a.refCount++,i.pooledCache=a,a.refCount++,y.memoizedState={element:u,isDehydrated:l,cache:a},pg(y),i}function tS(i){return i?(i=ml,i):ml}function nS(i,a,l,u,m,y){m=tS(m),u.context===null?u.context=m:u.pendingContext=m,u=Js(a),u.payload={element:l},y=y===void 0?null:y,y!==null&&(u.callback=y),l=Zs(i,u,a),l!==null&&(Gn(l,i,a),au(l,i,a))}function rS(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function rv(i,a){rS(i,a),(i=i.alternate)&&rS(i,a)}function iS(i){if(i.tag===13){var a=$s(i,67108864);a!==null&&Gn(a,i,67108864),rv(i,67108864)}}var Kh=!0;function c4(i,a,l,u){var m=A.T;A.T=null;var y=E.p;try{E.p=2,iv(i,a,l,u)}finally{E.p=y,A.T=m}}function u4(i,a,l,u){var m=A.T;A.T=null;var y=E.p;try{E.p=8,iv(i,a,l,u)}finally{E.p=y,A.T=m}}function iv(i,a,l,u){if(Kh){var m=sv(u);if(m===null)Gg(i,a,u,Qh,l),aS(i,u);else if(h4(m,i,a,l,u))u.stopPropagation();else if(aS(i,u),a&4&&-1<d4.indexOf(i)){for(;m!==null;){var y=Ui(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var R=Hr(y.pendingLanes);if(R!==0){var H=y;for(H.pendingLanes|=2,H.entangledLanes|=2;R;){var J=1<<31-Fn(R);H.entanglements[1]|=J,R&=~J}Ti(y),(Ut&6)===0&&(Ih=Jt()+500,vu(0))}}break;case 13:H=$s(y,2),H!==null&&Gn(H,y,2),Dh(),rv(y,2)}if(y=sv(u),y===null&&Gg(i,a,u,Qh,l),y===m)break;m=y}m!==null&&u.stopPropagation()}else Gg(i,a,u,null,l)}}function sv(i){return i=rl(i),av(i)}var Qh=null;function av(i){if(Qh=null,i=$r(i),i!==null){var a=ge(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=Z(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Qh=i,null}function sS(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(br()){case Pt:return 2;case St:return 8;case Bn:case Dd:return 32;case xc:return 268435456;default:return 32}default:return 32}}var ov=!1,aa=null,oa=null,la=null,Tu=new Map,xu=new Map,ca=[],d4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function aS(i,a){switch(i){case"focusin":case"focusout":aa=null;break;case"dragenter":case"dragleave":oa=null;break;case"mouseover":case"mouseout":la=null;break;case"pointerover":case"pointerout":Tu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":xu.delete(a.pointerId)}}function Au(i,a,l,u,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:y,targetContainers:[m]},a!==null&&(a=Ui(a),a!==null&&iS(a)),i):(i.eventSystemFlags|=u,a=i.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),i)}function h4(i,a,l,u,m){switch(a){case"focusin":return aa=Au(aa,i,a,l,u,m),!0;case"dragenter":return oa=Au(oa,i,a,l,u,m),!0;case"mouseover":return la=Au(la,i,a,l,u,m),!0;case"pointerover":var y=m.pointerId;return Tu.set(y,Au(Tu.get(y)||null,i,a,l,u,m)),!0;case"gotpointercapture":return y=m.pointerId,xu.set(y,Au(xu.get(y)||null,i,a,l,u,m)),!0}return!1}function oS(i){var a=$r(i.target);if(a!==null){var l=ge(a);if(l!==null){if(a=l.tag,a===13){if(a=Z(l),a!==null){i.blockedOn=a,Ps(i.priority,function(){if(l.tag===13){var u=hr(),m=$s(l,u);m!==null&&Gn(m,l,u),rv(l,u)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Yh(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=sv(i.nativeEvent);if(l===null){l=i.nativeEvent;var u=new l.constructor(l.type,l);Tr=u,l.target.dispatchEvent(u),Tr=null}else return a=Ui(l),a!==null&&iS(a),i.blockedOn=l,!1;a.shift()}return!0}function lS(i,a,l){Yh(i)&&l.delete(a)}function f4(){ov=!1,aa!==null&&Yh(aa)&&(aa=null),oa!==null&&Yh(oa)&&(oa=null),la!==null&&Yh(la)&&(la=null),Tu.forEach(lS),xu.forEach(lS)}function Xh(i,a){i.blockedOn===a&&(i.blockedOn=null,ov||(ov=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,f4)))}var Jh=null;function cS(i){Jh!==i&&(Jh=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Jh===i&&(Jh=null);for(var a=0;a<i.length;a+=3){var l=i[a],u=i[a+1],m=i[a+2];if(typeof u!="function"){if(av(u||l)===null)continue;break}var y=Ui(l);y!==null&&(i.splice(a,3),a-=3,Ym(y,{pending:!0,data:m,method:l.method,action:u},u,m))}}))}function Cu(i){function a(J){return Xh(J,i)}aa!==null&&Xh(aa,i),oa!==null&&Xh(oa,i),la!==null&&Xh(la,i),Tu.forEach(a),xu.forEach(a);for(var l=0;l<ca.length;l++){var u=ca[l];u.blockedOn===i&&(u.blockedOn=null)}for(;0<ca.length&&(l=ca[0],l.blockedOn===null);)oS(l),l.blockedOn===null&&ca.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var m=l[u],y=l[u+1],R=m[sn]||null;if(typeof y=="function")R||cS(l);else if(R){var H=null;if(y&&y.hasAttribute("formAction")){if(m=y,R=y[sn]||null)H=R.formAction;else if(av(m)!==null)continue}else H=R.action;typeof H=="function"?l[u+1]=H:(l.splice(u,3),u-=3),cS(l)}}}function lv(i){this._internalRoot=i}Zh.prototype.render=lv.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,u=hr();nS(l,u,i,a,null,null)},Zh.prototype.unmount=lv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;i.tag===0&&Il(),nS(i.current,2,null,i,null,null),Dh(),a[Vi]=null}};function Zh(i){this._internalRoot=i}Zh.prototype.unstable_scheduleHydration=function(i){if(i){var a=zd();i={blockedOn:null,target:i,priority:a};for(var l=0;l<ca.length&&a!==0&&a<ca[l].priority;l++);ca.splice(l,0,i),l===0&&oS(i)}};var uS=e.version;if(uS!=="19.0.0")throw Error(r(527,uS,"19.0.0"));E.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=G(a),i=i!==null?re(i):null,i=i===null?null:i.stateNode,i};var p4={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:$r,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ef.isDisabled&&ef.supportsFiber)try{Rs=ef.inject(p4),On=ef}catch{}}return Nu.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,u="",m=Cw,y=kw,R=Nw,H=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(R=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(H=a.unstable_transitionCallbacks)),a=eS(i,1,!1,null,null,l,u,m,y,R,H,null),i[Vi]=a.current,$g(i.nodeType===8?i.parentNode:i),new lv(a)},Nu.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var u=!1,m="",y=Cw,R=kw,H=Nw,J=null,se=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(R=l.onCaughtError),l.onRecoverableError!==void 0&&(H=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(J=l.unstable_transitionCallbacks),l.formState!==void 0&&(se=l.formState)),a=eS(i,1,!0,a,l??null,u,m,y,R,H,J,se),a.context=tS(null),l=a.current,u=hr(),m=Js(u),m.callback=null,Zs(l,m,u),a.current.lanes=u,Kt(a,u),Ti(a),i[Vi]=a.current,$g(i),new Zh(a)},Nu.version="19.0.0",Nu}var bS;function x4(){if(bS)return dv.exports;bS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),dv.exports=T4(),dv.exports}var A4=x4(),Ru={},wS;function C4(){if(wS)return Ru;wS=1,Object.defineProperty(Ru,"__esModule",{value:!0}),Ru.parse=c,Ru.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function c(C,j){const P=new o,V=C.length;if(V<2)return P;const U=(j==null?void 0:j.decode)||_;let $=0;do{const q=C.indexOf("=",$);if(q===-1)break;const X=C.indexOf(";",$),te=X===-1?V:X;if(q>te){$=C.lastIndexOf(";",q-1)+1;continue}const z=d(C,$,q),K=h(C,q,z),M=C.slice(z,K);if(P[M]===void 0){let O=d(C,q+1,te),A=h(C,te,O);const x=U(C.slice(O,A));P[M]=x}$=te+1}while($<V);return P}function d(C,j,P){do{const V=C.charCodeAt(j);if(V!==32&&V!==9)return j}while(++j<P);return P}function h(C,j,P){for(;j>P;){const V=C.charCodeAt(--j);if(V!==32&&V!==9)return j+1}return P}function p(C,j,P){const V=(P==null?void 0:P.encode)||encodeURIComponent;if(!t.test(C))throw new TypeError(`argument name is invalid: ${C}`);const U=V(j);if(!e.test(U))throw new TypeError(`argument val is invalid: ${j}`);let $=C+"="+U;if(!P)return $;if(P.maxAge!==void 0){if(!Number.isInteger(P.maxAge))throw new TypeError(`option maxAge is invalid: ${P.maxAge}`);$+="; Max-Age="+P.maxAge}if(P.domain){if(!n.test(P.domain))throw new TypeError(`option domain is invalid: ${P.domain}`);$+="; Domain="+P.domain}if(P.path){if(!r.test(P.path))throw new TypeError(`option path is invalid: ${P.path}`);$+="; Path="+P.path}if(P.expires){if(!S(P.expires)||!Number.isFinite(P.expires.valueOf()))throw new TypeError(`option expires is invalid: ${P.expires}`);$+="; Expires="+P.expires.toUTCString()}if(P.httpOnly&&($+="; HttpOnly"),P.secure&&($+="; Secure"),P.partitioned&&($+="; Partitioned"),P.priority)switch(typeof P.priority=="string"?P.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${P.priority}`)}if(P.sameSite)switch(typeof P.sameSite=="string"?P.sameSite.toLowerCase():P.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${P.sameSite}`)}return $}function _(C){if(C.indexOf("%")===-1)return C;try{return decodeURIComponent(C)}catch{return C}}function S(C){return s.call(C)==="[object Date]"}return Ru}C4();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var SS="popstate";function k4(t={}){function e(r,s){let{pathname:o,search:c,hash:d}=r.location;return _y("",{pathname:o,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:td(s)}return R4(e,n,null,t)}function Dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ti(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function N4(){return Math.random().toString(36).substring(2,10)}function ES(t,e){return{usr:t.state,key:t.key,idx:e}}function _y(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?fc(e):e,state:n,key:e&&e.key||r||N4()}}function td({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function fc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function R4(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,c=s.history,d="POP",h=null,p=_();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function _(){return(c.state||{idx:null}).idx}function S(){d="POP";let U=_(),$=U==null?null:U-p;p=U,h&&h({action:d,location:V.location,delta:$})}function C(U,$){d="PUSH";let q=_y(V.location,U,$);p=_()+1;let X=ES(q,p),te=V.createHref(q);try{c.pushState(X,"",te)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;s.location.assign(te)}o&&h&&h({action:d,location:V.location,delta:1})}function j(U,$){d="REPLACE";let q=_y(V.location,U,$);p=_();let X=ES(q,p),te=V.createHref(q);c.replaceState(X,"",te),o&&h&&h({action:d,location:V.location,delta:0})}function P(U){let $=s.location.origin!=="null"?s.location.origin:s.location.href,q=typeof U=="string"?U:td(U);return q=q.replace(/ $/,"%20"),Dt($,`No window.location.(origin|href) available to create URL for href: ${q}`),new URL(q,$)}let V={get action(){return d},get location(){return t(s,c)},listen(U){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(SS,S),h=U,()=>{s.removeEventListener(SS,S),h=null}},createHref(U){return e(s,U)},createURL:P,encodeLocation(U){let $=P(U);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:C,replace:j,go(U){return c.go(U)}};return V}function Q2(t,e,n="/"){return O4(t,e,n,!1)}function O4(t,e,n,r){let s=typeof e=="string"?fc(e):e,o=ws(s.pathname||"/",n);if(o==null)return null;let c=Y2(t);I4(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let p=q4(o);d=B4(c[h],p,r)}return d}function Y2(t,e=[],n=[],r=""){let s=(o,c,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};h.relativePath.startsWith("/")&&(Dt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let p=gs([r,h.relativePath]),_=n.concat(h);o.children&&o.children.length>0&&(Dt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Y2(o.children,e,_,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:U4(p,o.index),routesMeta:_})};return t.forEach((o,c)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))s(o,c);else for(let h of X2(o.path))s(o,c,h)}),e}function X2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let c=X2(r.join("/")),d=[];return d.push(...c.map(h=>h===""?o:[o,h].join("/"))),s&&d.push(...c),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function I4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:z4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var M4=/^:[\w-]+$/,j4=3,D4=2,P4=1,L4=10,V4=-2,TS=t=>t==="*";function U4(t,e){let n=t.split("/"),r=n.length;return n.some(TS)&&(r+=V4),e&&(r+=D4),n.filter(s=>!TS(s)).reduce((s,o)=>s+(M4.test(o)?j4:o===""?P4:L4),r)}function z4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function B4(t,e,n=!1){let{routesMeta:r}=t,s={},o="/",c=[];for(let d=0;d<r.length;++d){let h=r[d],p=d===r.length-1,_=o==="/"?e:e.slice(o.length)||"/",S=Hf({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},_),C=h.route;if(!S&&p&&n&&!r[r.length-1].route.index&&(S=Hf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},_)),!S)return null;Object.assign(s,S.params),c.push({params:s,pathname:gs([o,S.pathname]),pathnameBase:W4(gs([o,S.pathnameBase])),route:C}),S.pathnameBase!=="/"&&(o=gs([o,S.pathnameBase]))}return c}function Hf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=F4(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((p,{paramName:_,isOptional:S},C)=>{if(_==="*"){let P=d[C]||"";c=o.slice(0,o.length-P.length).replace(/(.)\/+$/,"$1")}const j=d[C];return S&&!j?p[_]=void 0:p[_]=(j||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:t}}function F4(t,e=!1,n=!0){ti(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function q4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ti(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ws(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function H4(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?fc(t):t;return{pathname:n?n.startsWith("/")?n:$4(n,e):e,search:K4(r),hash:Q4(s)}}function $4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function mv(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function G4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function T0(t){let e=G4(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function x0(t,e,n,r=!1){let s;typeof t=="string"?s=fc(t):(s={...t},Dt(!s.pathname||!s.pathname.includes("?"),mv("?","pathname","search",s)),Dt(!s.pathname||!s.pathname.includes("#"),mv("#","pathname","hash",s)),Dt(!s.search||!s.search.includes("#"),mv("#","search","hash",s)));let o=t===""||s.pathname==="",c=o?"/":s.pathname,d;if(c==null)d=n;else{let S=e.length-1;if(!r&&c.startsWith("..")){let C=c.split("/");for(;C[0]==="..";)C.shift(),S-=1;s.pathname=C.join("/")}d=S>=0?e[S]:"/"}let h=H4(s,d),p=c&&c!=="/"&&c.endsWith("/"),_=(o||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||_)&&(h.pathname+="/"),h}var gs=t=>t.join("/").replace(/\/\/+/g,"/"),W4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),K4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Q4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Y4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var J2=["POST","PUT","PATCH","DELETE"];new Set(J2);var X4=["GET",...J2];new Set(X4);var pc=Y.createContext(null);pc.displayName="DataRouter";var Cp=Y.createContext(null);Cp.displayName="DataRouterState";var Z2=Y.createContext({isTransitioning:!1});Z2.displayName="ViewTransition";var J4=Y.createContext(new Map);J4.displayName="Fetchers";var Z4=Y.createContext(null);Z4.displayName="Await";var oi=Y.createContext(null);oi.displayName="Navigation";var md=Y.createContext(null);md.displayName="Location";var Li=Y.createContext({outlet:null,matches:[],isDataRoute:!1});Li.displayName="Route";var A0=Y.createContext(null);A0.displayName="RouteError";function eI(t,{relative:e}={}){Dt(mc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=Y.useContext(oi),{hash:s,pathname:o,search:c}=gd(t,{relative:e}),d=o;return n!=="/"&&(d=o==="/"?n:gs([n,o])),r.createHref({pathname:d,search:c,hash:s})}function mc(){return Y.useContext(md)!=null}function ja(){return Dt(mc(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(md).location}var eA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tA(t){Y.useContext(oi).static||Y.useLayoutEffect(t)}function Cs(){let{isDataRoute:t}=Y.useContext(Li);return t?fI():tI()}function tI(){Dt(mc(),"useNavigate() may be used only in the context of a <Router> component.");let t=Y.useContext(pc),{basename:e,navigator:n}=Y.useContext(oi),{matches:r}=Y.useContext(Li),{pathname:s}=ja(),o=JSON.stringify(T0(r)),c=Y.useRef(!1);return tA(()=>{c.current=!0}),Y.useCallback((h,p={})=>{if(ti(c.current,eA),!c.current)return;if(typeof h=="number"){n.go(h);return}let _=x0(h,JSON.parse(o),s,p.relative==="path");t==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:gs([e,_.pathname])),(p.replace?n.replace:n.push)(_,p.state,p)},[e,n,o,s,t])}Y.createContext(null);function gd(t,{relative:e}={}){let{matches:n}=Y.useContext(Li),{pathname:r}=ja(),s=JSON.stringify(T0(n));return Y.useMemo(()=>x0(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function nI(t,e){return nA(t,e)}function nA(t,e,n,r){var q;Dt(mc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:o}=Y.useContext(oi),{matches:c}=Y.useContext(Li),d=c[c.length-1],h=d?d.params:{},p=d?d.pathname:"/",_=d?d.pathnameBase:"/",S=d&&d.route;{let X=S&&S.path||"";rA(p,!S||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let C=ja(),j;if(e){let X=typeof e=="string"?fc(e):e;Dt(_==="/"||((q=X.pathname)==null?void 0:q.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${X.pathname}" was given in the \`location\` prop.`),j=X}else j=C;let P=j.pathname||"/",V=P;if(_!=="/"){let X=_.replace(/^\//,"").split("/");V="/"+P.replace(/^\//,"").split("/").slice(X.length).join("/")}let U=!o&&n&&n.matches&&n.matches.length>0?n.matches:Q2(t,{pathname:V});ti(S||U!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),ti(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=oI(U&&U.map(X=>Object.assign({},X,{params:Object.assign({},h,X.params),pathname:gs([_,s.encodeLocation?s.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?_:gs([_,s.encodeLocation?s.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),c,n,r);return e&&$?Y.createElement(md.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},$):$}function rI(){let t=hI(),e=Y4(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=Y.createElement(Y.Fragment,null,Y.createElement("p",null," Hey developer "),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:o},"ErrorBoundary")," or"," ",Y.createElement("code",{style:o},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),n?Y.createElement("pre",{style:s},n):null,c)}var iI=Y.createElement(rI,null),sI=class extends Y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?Y.createElement(Li.Provider,{value:this.props.routeContext},Y.createElement(A0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aI({routeContext:t,match:e,children:n}){let r=Y.useContext(pc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),Y.createElement(Li.Provider,{value:t},n)}function oI(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n==null?void 0:n.errors;if(o!=null){let h=s.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);Dt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let c=!1,d=-1;if(n)for(let h=0;h<s.length;h++){let p=s[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:_,errors:S}=n,C=p.route.loader&&!_.hasOwnProperty(p.route.id)&&(!S||S[p.route.id]===void 0);if(p.route.lazy||C){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((h,p,_)=>{let S,C=!1,j=null,P=null;n&&(S=o&&p.route.id?o[p.route.id]:void 0,j=p.route.errorElement||iI,c&&(d<0&&_===0?(rA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,P=null):d===_&&(C=!0,P=p.route.hydrateFallbackElement||null)));let V=e.concat(s.slice(0,_+1)),U=()=>{let $;return S?$=j:C?$=P:p.route.Component?$=Y.createElement(p.route.Component,null):p.route.element?$=p.route.element:$=h,Y.createElement(aI,{match:p,routeContext:{outlet:h,matches:V,isDataRoute:n!=null},children:$})};return n&&(p.route.ErrorBoundary||p.route.errorElement||_===0)?Y.createElement(sI,{location:n.location,revalidation:n.revalidation,component:j,error:S,children:U(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):U()},null)}function C0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lI(t){let e=Y.useContext(pc);return Dt(e,C0(t)),e}function cI(t){let e=Y.useContext(Cp);return Dt(e,C0(t)),e}function uI(t){let e=Y.useContext(Li);return Dt(e,C0(t)),e}function k0(t){let e=uI(t),n=e.matches[e.matches.length-1];return Dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function dI(){return k0("useRouteId")}function hI(){var r;let t=Y.useContext(A0),e=cI("useRouteError"),n=k0("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function fI(){let{router:t}=lI("useNavigate"),e=k0("useNavigate"),n=Y.useRef(!1);return tA(()=>{n.current=!0}),Y.useCallback(async(s,o={})=>{ti(n.current,eA),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var xS={};function rA(t,e,n){!e&&!xS[t]&&(xS[t]=!0,ti(!1,n))}Y.memo(pI);function pI({routes:t,future:e,state:n}){return nA(t,void 0,n,e)}function AS({to:t,replace:e,state:n,relative:r}){Dt(mc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=Y.useContext(oi);ti(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=Y.useContext(Li),{pathname:c}=ja(),d=Cs(),h=x0(t,T0(o),c,r==="path"),p=JSON.stringify(h);return Y.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:r})},[d,p,r,e,n]),null}function An(t){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mI({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:o=!1}){Dt(!mc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=Y.useMemo(()=>({basename:c,navigator:s,static:o,future:{}}),[c,s,o]);typeof n=="string"&&(n=fc(n));let{pathname:h="/",search:p="",hash:_="",state:S=null,key:C="default"}=n,j=Y.useMemo(()=>{let P=ws(h,c);return P==null?null:{location:{pathname:P,search:p,hash:_,state:S,key:C},navigationType:r}},[c,h,p,_,S,C,r]);return ti(j!=null,`<Router basename="${c}"> is not able to match the URL "${h}${p}${_}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:Y.createElement(oi.Provider,{value:d},Y.createElement(md.Provider,{children:e,value:j}))}function gI({children:t,location:e}){return nI(by(t),e)}function by(t,e=[]){let n=[];return Y.Children.forEach(t,(r,s)=>{if(!Y.isValidElement(r))return;let o=[...e,s];if(r.type===Y.Fragment){n.push.apply(n,by(r.props.children,o));return}Dt(r.type===An,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=by(r.props.children,o)),n.push(c)}),n}var Af="get",Cf="application/x-www-form-urlencoded";function kp(t){return t!=null&&typeof t.tagName=="string"}function vI(t){return kp(t)&&t.tagName.toLowerCase()==="button"}function yI(t){return kp(t)&&t.tagName.toLowerCase()==="form"}function _I(t){return kp(t)&&t.tagName.toLowerCase()==="input"}function bI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wI(t,e){return t.button===0&&(!e||e==="_self")&&!bI(t)}var nf=null;function SI(){if(nf===null)try{new FormData(document.createElement("form"),0),nf=!1}catch{nf=!0}return nf}var EI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gv(t){return t!=null&&!EI.has(t)?(ti(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cf}"`),null):t}function TI(t,e){let n,r,s,o,c;if(yI(t)){let d=t.getAttribute("action");r=d?ws(d,e):null,n=t.getAttribute("method")||Af,s=gv(t.getAttribute("enctype"))||Cf,o=new FormData(t)}else if(vI(t)||_I(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(r=h?ws(h,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Af,s=gv(t.getAttribute("formenctype"))||gv(d.getAttribute("enctype"))||Cf,o=new FormData(d,t),!SI()){let{name:p,type:_,value:S}=t;if(_==="image"){let C=p?`${p}.`:"";o.append(`${C}x`,"0"),o.append(`${C}y`,"0")}else p&&o.append(p,S)}}else{if(kp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Af,r=null,s=Cf,c=t}return o&&s==="text/plain"&&(c=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:c}}function N0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function xI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function CI(t,e,n){let r=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let c=await xI(o,n);return c.links?c.links():[]}return[]}));return OI(r.flat(1).filter(AI).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function CS(t,e,n,r,s,o){let c=(h,p)=>n[p]?h.route.id!==n[p].route.id:!0,d=(h,p)=>{var _;return n[p].pathname!==h.pathname||((_=n[p].route.path)==null?void 0:_.endsWith("*"))&&n[p].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,p)=>c(h,p)||d(h,p)):o==="data"?e.filter((h,p)=>{var S;let _=r.routes[h.route.id];if(!_||!_.hasLoader)return!1;if(c(h,p)||d(h,p))return!0;if(h.route.shouldRevalidate){let C=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((S=n[0])==null?void 0:S.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function kI(t,e,{includeHydrateFallback:n}={}){return NI(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function NI(t){return[...new Set(t)]}function RI(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function OI(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let o=JSON.stringify(RI(s));return n.has(o)||(n.add(o),r.push({key:o,link:s})),r},[])}function II(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&ws(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function iA(){let t=Y.useContext(pc);return N0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function MI(){let t=Y.useContext(Cp);return N0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var R0=Y.createContext(void 0);R0.displayName="FrameworkContext";function sA(){let t=Y.useContext(R0);return N0(t,"You must render this element inside a <HydratedRouter> element"),t}function jI(t,e){let n=Y.useContext(R0),[r,s]=Y.useState(!1),[o,c]=Y.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:p,onMouseLeave:_,onTouchStart:S}=e,C=Y.useRef(null);Y.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let V=$=>{$.forEach(q=>{c(q.isIntersecting)})},U=new IntersectionObserver(V,{threshold:.5});return C.current&&U.observe(C.current),()=>{U.disconnect()}}},[t]),Y.useEffect(()=>{if(r){let V=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(V)}}},[r]);let j=()=>{s(!0)},P=()=>{s(!1),c(!1)};return n?t!=="intent"?[o,C,{}]:[o,C,{onFocus:Ou(d,j),onBlur:Ou(h,P),onMouseEnter:Ou(p,j),onMouseLeave:Ou(_,P),onTouchStart:Ou(S,j)}]:[!1,C,{}]}function Ou(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function DI({page:t,...e}){let{router:n}=iA(),r=Y.useMemo(()=>Q2(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?Y.createElement(LI,{page:t,matches:r,...e}):null}function PI(t){let{manifest:e,routeModules:n}=sA(),[r,s]=Y.useState([]);return Y.useEffect(()=>{let o=!1;return CI(t,e,n).then(c=>{o||s(c)}),()=>{o=!0}},[t,e,n]),r}function LI({page:t,matches:e,...n}){let r=ja(),{manifest:s,routeModules:o}=sA(),{basename:c}=iA(),{loaderData:d,matches:h}=MI(),p=Y.useMemo(()=>CS(t,e,h,s,r,"data"),[t,e,h,s,r]),_=Y.useMemo(()=>CS(t,e,h,s,r,"assets"),[t,e,h,s,r]),S=Y.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let P=new Set,V=!1;if(e.forEach($=>{var X;let q=s.routes[$.route.id];!q||!q.hasLoader||(!p.some(te=>te.route.id===$.route.id)&&$.route.id in d&&((X=o[$.route.id])!=null&&X.shouldRevalidate)||q.hasClientLoader?V=!0:P.add($.route.id))}),P.size===0)return[];let U=II(t,c);return V&&P.size>0&&U.searchParams.set("_routes",e.filter($=>P.has($.route.id)).map($=>$.route.id).join(",")),[U.pathname+U.search]},[c,d,r,s,p,e,t,o]),C=Y.useMemo(()=>kI(_,s),[_,s]),j=PI(_);return Y.createElement(Y.Fragment,null,S.map(P=>Y.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),C.map(P=>Y.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),j.map(({key:P,link:V})=>Y.createElement("link",{key:P,...V})))}function VI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var aA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aA&&(window.__reactRouterVersion="7.4.0")}catch{}function UI({basename:t,children:e,window:n}){let r=Y.useRef();r.current==null&&(r.current=k4({window:n,v5Compat:!0}));let s=r.current,[o,c]=Y.useState({action:s.action,location:s.location}),d=Y.useCallback(h=>{Y.startTransition(()=>c(h))},[c]);return Y.useLayoutEffect(()=>s.listen(d),[s,d]),Y.createElement(mI,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s})}var oA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,O0=Y.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:o,replace:c,state:d,target:h,to:p,preventScrollReset:_,viewTransition:S,...C},j){let{basename:P}=Y.useContext(oi),V=typeof p=="string"&&oA.test(p),U,$=!1;if(typeof p=="string"&&V&&(U=p,aA))try{let A=new URL(window.location.href),x=p.startsWith("//")?new URL(A.protocol+p):new URL(p),L=ws(x.pathname,P);x.origin===A.origin&&L!=null?p=L+x.search+x.hash:$=!0}catch{ti(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=eI(p,{relative:s}),[X,te,z]=jI(r,C),K=FI(p,{replace:c,state:d,target:h,preventScrollReset:_,relative:s,viewTransition:S});function M(A){e&&e(A),A.defaultPrevented||K(A)}let O=Y.createElement("a",{...C,...z,href:U||q,onClick:$||o?e:M,ref:VI(j,te),target:h,"data-discover":!V&&n==="render"?"true":void 0});return X&&!V?Y.createElement(Y.Fragment,null,O,Y.createElement(DI,{page:q})):O});O0.displayName="Link";var tr=Y.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:o,to:c,viewTransition:d,children:h,...p},_){let S=gd(c,{relative:p.relative}),C=ja(),j=Y.useContext(Cp),{navigator:P,basename:V}=Y.useContext(oi),U=j!=null&&WI(S)&&d===!0,$=P.encodeLocation?P.encodeLocation(S).pathname:S.pathname,q=C.pathname,X=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(q=q.toLowerCase(),X=X?X.toLowerCase():null,$=$.toLowerCase()),X&&V&&(X=ws(X,V)||X);const te=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let z=q===$||!s&&q.startsWith($)&&q.charAt(te)==="/",K=X!=null&&(X===$||!s&&X.startsWith($)&&X.charAt($.length)==="/"),M={isActive:z,isPending:K,isTransitioning:U},O=z?e:void 0,A;typeof r=="function"?A=r(M):A=[r,z?"active":null,K?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let x=typeof o=="function"?o(M):o;return Y.createElement(O0,{...p,"aria-current":O,className:A,ref:_,style:x,to:c,viewTransition:d},typeof h=="function"?h(M):h)});tr.displayName="NavLink";var zI=Y.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:o,method:c=Af,action:d,onSubmit:h,relative:p,preventScrollReset:_,viewTransition:S,...C},j)=>{let P=$I(),V=GI(d,{relative:p}),U=c.toLowerCase()==="get"?"get":"post",$=typeof d=="string"&&oA.test(d),q=X=>{if(h&&h(X),X.defaultPrevented)return;X.preventDefault();let te=X.nativeEvent.submitter,z=(te==null?void 0:te.getAttribute("formmethod"))||c;P(te||X.currentTarget,{fetcherKey:e,method:z,navigate:n,replace:s,state:o,relative:p,preventScrollReset:_,viewTransition:S})};return Y.createElement("form",{ref:j,method:U,action:V,onSubmit:r?h:q,...C,"data-discover":!$&&t==="render"?"true":void 0})});zI.displayName="Form";function BI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lA(t){let e=Y.useContext(pc);return Dt(e,BI(t)),e}function FI(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:c}={}){let d=Cs(),h=ja(),p=gd(t,{relative:o});return Y.useCallback(_=>{if(wI(_,e)){_.preventDefault();let S=n!==void 0?n:td(h)===td(p);d(t,{replace:S,state:r,preventScrollReset:s,relative:o,viewTransition:c})}},[h,d,p,n,r,e,t,s,o,c])}var qI=0,HI=()=>`__${String(++qI)}__`;function $I(){let{router:t}=lA("useSubmit"),{basename:e}=Y.useContext(oi),n=dI();return Y.useCallback(async(r,s={})=>{let{action:o,method:c,encType:d,formData:h,body:p}=TI(r,e);if(s.navigate===!1){let _=s.fetcherKey||HI();await t.fetch(_,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||c,formEncType:s.encType||d,flushSync:s.flushSync})}else await t.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||c,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function GI(t,{relative:e}={}){let{basename:n}=Y.useContext(oi),r=Y.useContext(Li);Dt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...gd(t||".",{relative:e})},c=ja();if(t==null){o.search=c.search;let d=new URLSearchParams(o.search),h=d.getAll("index");if(h.some(_=>_==="")){d.delete("index"),h.filter(S=>S).forEach(S=>d.append("index",S));let _=d.toString();o.search=_?`?${_}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:gs([n,o.pathname])),td(o)}function WI(t,e={}){let n=Y.useContext(Z2);Dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=lA("useViewTransitionState"),s=gd(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=ws(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=ws(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Hf(s.pathname,c)!=null||Hf(s.pathname,o)!=null}new TextEncoder;/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=()=>{};var kS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},QI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],c=t[n++],d=t[n++],h=((s&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],c=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|c&63)}}return e.join("")},uA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],c=s+1<t.length,d=c?t[s+1]:0,h=s+2<t.length,p=h?t[s+2]:0,_=o>>2,S=(o&3)<<4|d>>4;let C=(d&15)<<2|p>>6,j=p&63;h||(j=64,c||(C=64)),r.push(n[_],n[S],n[C],n[j])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],d=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const S=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||d==null||p==null||S==null)throw new YI;const C=o<<2|d>>4;if(r.push(C),p!==64){const j=d<<4&240|p>>2;if(r.push(j),S!==64){const P=p<<6&192|S;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class YI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XI=function(t){const e=cA(t);return uA.encodeByteArray(e,!0)},$f=function(t){return XI(t).replace(/\./g,"")},dA=function(t){try{return uA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=()=>JI().__FIREBASE_DEFAULTS__,eM=()=>{if(typeof process>"u"||typeof kS>"u")return;const t=kS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dA(t[1]);return e&&JSON.parse(e)},Np=()=>{try{return KI()||ZI()||eM()||tM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hA=t=>{var e,n;return(n=(e=Np())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},nM=t=>{const e=hA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fA=()=>{var t;return(t=Np())===null||t===void 0?void 0:t.config},pA=t=>{var e;return(e=Np())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[$f(JSON.stringify(n)),$f(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zn())}function aM(){var t;const e=(t=Np())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uM(){const t=zn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dM(){return!aM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mA(){try{return typeof indexedDB=="object"}catch{return!1}}function gA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function hM(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM="FirebaseError";class li extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=fM,Object.setPrototypeOf(this,li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qo.prototype.create)}}class qo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],c=o?pM(o,r):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new li(s,d,r)}}function pM(t,e){return t.replace(mM,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const mM=/\{\$([^}]+)}/g;function gM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ro(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],c=e[s];if(NS(o)&&NS(c)){if(!Ro(o,c))return!1}else if(o!==c)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function NS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Vu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Uu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function vM(t,e){const n=new yM(t,e);return n.subscribe.bind(n)}class yM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_M(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=vv),s.error===void 0&&(s.error=vv),s.complete===void 0&&(s.complete=vv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _M(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t){return t&&t._delegate?t._delegate:t}class Br{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SM(e))try{this.getOrInitializeService({instanceIdentifier:wo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wo){return this.instances.has(e)}getOptions(e=wo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&c.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wo){return this.component?this.component.multipleInstances?e:wo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wM(t){return t===wo?void 0:t}function SM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const TM={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},xM=Ze.INFO,AM={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},CM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=AM[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class I0{constructor(e){this.name=e,this._logLevel=xM,this._logHandler=CM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const kM=(t,e)=>e.some(n=>t instanceof n);let RS,OS;function NM(){return RS||(RS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RM(){return OS||(OS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vA=new WeakMap,wy=new WeakMap,yA=new WeakMap,yv=new WeakMap,M0=new WeakMap;function OM(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(vs(t.result)),s()},c=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&vA.set(n,t)}).catch(()=>{}),M0.set(e,t),e}function IM(t){if(wy.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),s()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});wy.set(t,e)}let Sy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function MM(t){Sy=t(Sy)}function jM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(_v(this),e,...n);return yA.set(r,e.sort?e.sort():[e]),vs(r)}:RM().includes(t)?function(...e){return t.apply(_v(this),e),vs(vA.get(this))}:function(...e){return vs(t.apply(_v(this),e))}}function DM(t){return typeof t=="function"?jM(t):(t instanceof IDBTransaction&&IM(t),kM(t,NM())?new Proxy(t,Sy):t)}function vs(t){if(t instanceof IDBRequest)return OM(t);if(yv.has(t))return yv.get(t);const e=DM(t);return e!==t&&(yv.set(t,e),M0.set(e,t)),e}const _v=t=>M0.get(t);function Rp(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const c=indexedDB.open(t,e),d=vs(c);return r&&c.addEventListener("upgradeneeded",h=>{r(vs(c.result),h.oldVersion,h.newVersion,vs(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),d.then(h=>{o&&h.addEventListener("close",()=>o()),s&&h.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}function bv(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),vs(n).then(()=>{})}const PM=["get","getKey","getAll","getAllKeys","count"],LM=["put","add","delete","clear"],wv=new Map;function IS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wv.get(e))return wv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=LM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||PM.includes(n)))return;const o=async function(c,...d){const h=this.transaction(c,s?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),s&&h.done]))[0]};return wv.set(e,o),o}MM(t=>({...t,get:(e,n,r)=>IS(e,n)||t.get(e,n,r),has:(e,n)=>!!IS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function UM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ey="@firebase/app",MS="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new I0("@firebase/app"),zM="@firebase/app-compat",BM="@firebase/analytics-compat",FM="@firebase/analytics",qM="@firebase/app-check-compat",HM="@firebase/app-check",$M="@firebase/auth",GM="@firebase/auth-compat",WM="@firebase/database",KM="@firebase/data-connect",QM="@firebase/database-compat",YM="@firebase/functions",XM="@firebase/functions-compat",JM="@firebase/installations",ZM="@firebase/installations-compat",ej="@firebase/messaging",tj="@firebase/messaging-compat",nj="@firebase/performance",rj="@firebase/performance-compat",ij="@firebase/remote-config",sj="@firebase/remote-config-compat",aj="@firebase/storage",oj="@firebase/storage-compat",lj="@firebase/firestore",cj="@firebase/vertexai",uj="@firebase/firestore-compat",dj="firebase",hj="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="[DEFAULT]",fj={[Ey]:"fire-core",[zM]:"fire-core-compat",[FM]:"fire-analytics",[BM]:"fire-analytics-compat",[HM]:"fire-app-check",[qM]:"fire-app-check-compat",[$M]:"fire-auth",[GM]:"fire-auth-compat",[WM]:"fire-rtdb",[KM]:"fire-data-connect",[QM]:"fire-rtdb-compat",[YM]:"fire-fn",[XM]:"fire-fn-compat",[JM]:"fire-iid",[ZM]:"fire-iid-compat",[ej]:"fire-fcm",[tj]:"fire-fcm-compat",[nj]:"fire-perf",[rj]:"fire-perf-compat",[ij]:"fire-rc",[sj]:"fire-rc-compat",[aj]:"fire-gcs",[oj]:"fire-gcs-compat",[lj]:"fire-fst",[uj]:"fire-fst-compat",[cj]:"fire-vertex","fire-js":"fire-js",[dj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf=new Map,pj=new Map,xy=new Map;function jS(t,e){try{t.container.addComponent(e)}catch(n){Ss.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ni(t){const e=t.name;if(xy.has(e))return Ss.debug(`There were multiple attempts to register component ${e}.`),!1;xy.set(e,t);for(const n of Gf.values())jS(n,t);for(const n of pj.values())jS(n,t);return!0}function gc(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function pr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ea=new qo("app","Firebase",mj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Br("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ea.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=hj;function _A(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ty,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Ea.create("bad-app-name",{appName:String(s)});if(n||(n=fA()),!n)throw Ea.create("no-options");const o=Gf.get(s);if(o){if(Ro(n,o.options)&&Ro(r,o.config))return o;throw Ea.create("duplicate-app",{appName:s})}const c=new EM(s);for(const h of xy.values())c.addComponent(h);const d=new gj(n,r,c);return Gf.set(s,d),d}function j0(t=Ty){const e=Gf.get(t);if(!e&&t===Ty&&fA())return _A();if(!e)throw Ea.create("no-app",{appName:t});return e}function rr(t,e,n){var r;let s=(r=fj[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ss.warn(d.join(" "));return}ni(new Br(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj="firebase-heartbeat-database",yj=1,nd="firebase-heartbeat-store";let Sv=null;function bA(){return Sv||(Sv=Rp(vj,yj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(nd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ea.create("idb-open",{originalErrorMessage:t.message})})),Sv}async function _j(t){try{const n=(await bA()).transaction(nd),r=await n.objectStore(nd).get(wA(t));return await n.done,r}catch(e){if(e instanceof li)Ss.warn(e.message);else{const n=Ea.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ss.warn(n.message)}}}async function DS(t,e){try{const r=(await bA()).transaction(nd,"readwrite");await r.objectStore(nd).put(e,wA(t)),await r.done}catch(n){if(n instanceof li)Ss.warn(n.message);else{const r=Ea.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ss.warn(r.message)}}}function wA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj=1024,wj=30;class Sj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Tj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=PS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>wj){const c=xj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ss.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=PS(),{heartbeatsToSend:r,unsentEntries:s}=Ej(this._heartbeatsCache.heartbeats),o=$f(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ss.warn(n),""}}}function PS(){return new Date().toISOString().substring(0,10)}function Ej(t,e=bj){const n=[];let r=t.slice();for(const s of t){const o=n.find(c=>c.agent===s.agent);if(o){if(o.dates.push(s.date),LS(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),LS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Tj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mA()?gA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _j(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return DS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return DS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function LS(t){return $f(JSON.stringify({version:2,heartbeats:t})).length}function xj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aj(t){ni(new Br("platform-logger",e=>new VM(e),"PRIVATE")),ni(new Br("heartbeat",e=>new Sj(e),"PRIVATE")),rr(Ey,MS,t),rr(Ey,MS,"esm2017"),rr("fire-js","")}Aj("");function D0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function SA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Cj=SA,EA=new qo("auth","Firebase",SA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf=new I0("@firebase/auth");function kj(t,...e){Wf.logLevel<=Ze.WARN&&Wf.warn(`Auth (${Ho}): ${t}`,...e)}function kf(t,...e){Wf.logLevel<=Ze.ERROR&&Wf.error(`Auth (${Ho}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(t,...e){throw P0(t,...e)}function Ri(t,...e){return P0(t,...e)}function TA(t,e,n){const r=Object.assign(Object.assign({},Cj()),{[e]:n});return new qo("auth","Firebase",r).create(e,{appName:t.name})}function ys(t){return TA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function P0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return EA.create(t,...e)}function Ue(t,e,...n){if(!t)throw P0(e,...n)}function ds(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kf(e),new Error(e)}function Es(t,e){t||ds(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Nj(){return VS()==="http:"||VS()==="https:"}function VS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Nj()||lM()||"connection"in navigator)?navigator.onLine:!0}function Oj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Es(n>e,"Short delay should be less than long delay!"),this.isMobile=sM()||cM()}get(){return Rj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(t,e){Es(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj=new yd(3e4,6e4);function Da(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ks(t,e,n,r,s={}){return AA(t,s,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const d=vd(Object.assign({key:t.config.apiKey},c)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:h},o);return oM()||(p.referrerPolicy="no-referrer"),xA.fetch()(CA(t,t.config.apiHost,n,d),p)})}async function AA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ij),e);try{const s=new Dj(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw rf(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const d=o.ok?c.errorMessage:c.error.message,[h,p]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw rf(t,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw rf(t,"email-already-in-use",c);if(h==="USER_DISABLED")throw rf(t,"user-disabled",c);const _=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw TA(t,_,p);ri(t,_)}}catch(s){if(s instanceof li)throw s;ri(t,"network-request-failed",{message:String(s)})}}async function _d(t,e,n,r,s={}){const o=await ks(t,e,n,r,s);return"mfaPendingCredential"in o&&ri(t,"multi-factor-auth-required",{_serverResponse:o}),o}function CA(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?L0(t.config,s):`${t.config.apiScheme}://${s}`}function jj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Dj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ri(this.auth,"network-request-failed")),Mj.get())})}}function rf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ri(t,e,r);return s.customData._tokenResponse=n,s}function US(t){return t!==void 0&&t.enterprise!==void 0}class Pj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return jj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Lj(t,e){return ks(t,"GET","/v2/recaptchaConfig",Da(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vj(t,e){return ks(t,"POST","/v1/accounts:delete",e)}async function kA(t,e){return ks(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Uj(t,e=!1){const n=wt(t),r=await n.getIdToken(e),s=V0(r);Ue(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Gu(Ev(s.auth_time)),issuedAtTime:Gu(Ev(s.iat)),expirationTime:Gu(Ev(s.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Ev(t){return Number(t)*1e3}function V0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return kf("JWT malformed, contained fewer than 3 sections"),null;try{const s=dA(n);return s?JSON.parse(s):(kf("Failed to decode base64 JWT payload"),null)}catch(s){return kf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function zS(t){const e=V0(t);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof li&&zj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function zj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gu(this.lastLoginAt),this.creationTime=Gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kf(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Zl(t,kA(n,{idToken:r}));Ue(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const c=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?NA(o.providerUserInfo):[],d=qj(t.providerData,c),h=t.isAnonymous,p=!(t.email&&o.passwordHash)&&!(d!=null&&d.length),_=h?p:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Cy(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(t,S)}async function Fj(t){const e=wt(t);await Kf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qj(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function NA(t){return t.map(e=>{var{providerId:n}=e,r=D0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hj(t,e){const n=await AA(t,{},async()=>{const r=vd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,c=CA(t,s,"/v1/token",`key=${o}`),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",xA.fetch()(c,{method:"POST",headers:d,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $j(t,e){return ks(t,"POST","/v2/accounts:revokeToken",Da(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const n=zS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await Hj(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,c=new $l;return r&&(Ue(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),s&&(Ue(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),o&&(Ue(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $l,this.toJSON())}_performRefresh(){return ds("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(t,e){Ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class hs{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,o=D0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Cy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Zl(this,this.stsTokenManager.getToken(this.auth,e));return Ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Uj(this,e)}reload(){return Fj(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Kf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pr(this.auth.app))return Promise.reject(ys(this.auth));const e=await this.getIdToken();return await Zl(this,Vj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,o,c,d,h,p,_;const S=(r=n.displayName)!==null&&r!==void 0?r:void 0,C=(s=n.email)!==null&&s!==void 0?s:void 0,j=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,P=(c=n.photoURL)!==null&&c!==void 0?c:void 0,V=(d=n.tenantId)!==null&&d!==void 0?d:void 0,U=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,$=(p=n.createdAt)!==null&&p!==void 0?p:void 0,q=(_=n.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:X,emailVerified:te,isAnonymous:z,providerData:K,stsTokenManager:M}=n;Ue(X&&M,e,"internal-error");const O=$l.fromJSON(this.name,M);Ue(typeof X=="string",e,"internal-error"),da(S,e.name),da(C,e.name),Ue(typeof te=="boolean",e,"internal-error"),Ue(typeof z=="boolean",e,"internal-error"),da(j,e.name),da(P,e.name),da(V,e.name),da(U,e.name),da($,e.name),da(q,e.name);const A=new hs({uid:X,auth:e,email:C,emailVerified:te,displayName:S,isAnonymous:z,photoURL:P,phoneNumber:j,tenantId:V,stsTokenManager:O,createdAt:$,lastLoginAt:q});return K&&Array.isArray(K)&&(A.providerData=K.map(x=>Object.assign({},x))),U&&(A._redirectEventId=U),A}static async _fromIdTokenResponse(e,n,r=!1){const s=new $l;s.updateFromServerResponse(n);const o=new hs({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Kf(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ue(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?NA(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),d=new $l;d.updateFromIdToken(r);const h=new hs({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Cy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=new Map;function fs(t){Es(t instanceof Function,"Expected a class definition");let e=BS.get(t);return e?(Es(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,BS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}RA.type="NONE";const FS=RA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t,e,n){return`firebase:${t}:${e}:${n}`}class Gl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Nf(this.userKey,s.apiKey,o),this.fullPersistenceKey=Nf("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?hs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Gl(fs(FS),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=s[0]||fs(FS);const c=Nf(r,e.config.apiKey,e.name);let d=null;for(const p of n)try{const _=await p._get(c);if(_){const S=hs._fromJSON(e,_);p!==o&&(d=S),o=p;break}}catch{}const h=s.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Gl(o,e,r):(o=h[0],d&&await o._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==o)try{await p._remove(c)}catch{}})),new Gl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PA(e))return"Blackberry";if(LA(e))return"Webos";if(IA(e))return"Safari";if((e.includes("chrome/")||MA(e))&&!e.includes("edge/"))return"Chrome";if(DA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function OA(t=zn()){return/firefox\//i.test(t)}function IA(t=zn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MA(t=zn()){return/crios\//i.test(t)}function jA(t=zn()){return/iemobile/i.test(t)}function DA(t=zn()){return/android/i.test(t)}function PA(t=zn()){return/blackberry/i.test(t)}function LA(t=zn()){return/webos/i.test(t)}function U0(t=zn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Gj(t=zn()){var e;return U0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Wj(){return uM()&&document.documentMode===10}function VA(t=zn()){return U0(t)||DA(t)||LA(t)||PA(t)||/windows phone/i.test(t)||jA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(t,e=[]){let n;switch(t){case"Browser":n=qS(zn());break;case"Worker":n=`${qS(zn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ho}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((c,d)=>{try{const h=e(o);c(h)}catch(h){d(h)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qj(t,e={}){return ks(t,"GET","/v2/passwordPolicy",Da(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj=6;class Xj{constructor(e){var n,r,s,o;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:Yj,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,o,c,d;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(c=h.containsNumericCharacter)!==null&&c!==void 0?c:!0),h.isValid&&(h.isValid=(d=h.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new HS(this),this.idTokenSubscription=new HS(this),this.beforeStateQueue=new Kj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fs(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Gl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kA(this,{idToken:e}),r=await hs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(pr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!c||c===d)&&(h!=null&&h.user)&&(s=h.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Kf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Oj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pr(this.app))return Promise.reject(ys(this));const n=e?wt(e):null;return n&&Ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pr(this.app)?Promise.reject(ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pr(this.app)?Promise.reject(ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Qj(this),n=new Xj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new qo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await $j(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fs(e)||this._popupRedirectResolver;Ue(n,this,"argument-error"),this.redirectPersistenceManager=await Gl.create(this,[fs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(d,this,"internal-error"),d.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,s);return()=>{c=!0,h()}}else{const h=e.addObserver(n);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&kj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function $o(t){return wt(t)}class HS{constructor(e){this.auth=e,this.observer=null,this.addObserver=vM(n=>this.observer=n)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Op={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Zj(t){Op=t}function zA(t){return Op.loadJS(t)}function eD(){return Op.recaptchaEnterpriseScript}function tD(){return Op.gapiScript}function nD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class rD{constructor(){this.enterprise=new iD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class iD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const sD="recaptcha-enterprise",BA="NO_RECAPTCHA";class aD{constructor(e){this.type=sD,this.auth=$o(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,d)=>{Lj(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new Pj(h);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,c(p.siteKey)}}).catch(h=>{d(h)})})}function s(o,c,d){const h=window.grecaptcha;US(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(p=>{c(p)}).catch(()=>{c(BA)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rD().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{r(this.auth).then(d=>{if(!n&&US(window.grecaptcha))s(d,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let h=eD();h.length!==0&&(h+=d),zA(h).then(()=>{s(d,o,c)}).catch(p=>{c(p)})}}).catch(d=>{c(d)})})}}async function $S(t,e,n,r=!1,s=!1){const o=new aD(t);let c;if(s)c=BA;else try{c=await o.verify(n)}catch{c=await o.verify(n,!0)}const d=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const h=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const h=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function ky(t,e,n,r,s){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await $S(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await $S(t,e,n,n==="getOobCode");return r(t,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(t,e){const n=gc(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Ro(o,e??{}))return s;ri(s,"already-initialized")}return n.initialize({options:e})}function lD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(fs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function cD(t,e,n){const r=$o(t);Ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=FA(e),{host:c,port:d}=uD(e),h=d===null?"":`:${d}`,p={url:`${o}//${c}${h}/`},_=Object.freeze({host:c,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ue(Ro(p,r.config.emulator)&&Ro(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,dD()}function FA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function uD(t){const e=FA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:GS(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:GS(c)}}}function GS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function dD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ds("not implemented")}_getIdTokenResponse(e){return ds("not implemented")}_linkToIdToken(e,n){return ds("not implemented")}_getReauthenticationResolver(e){return ds("not implemented")}}async function hD(t,e){return ks(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(t,e){return _d(t,"POST","/v1/accounts:signInWithPassword",Da(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(t,e){return _d(t,"POST","/v1/accounts:signInWithEmailLink",Da(t,e))}async function mD(t,e){return _d(t,"POST","/v1/accounts:signInWithEmailLink",Da(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd extends z0{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new rd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new rd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ky(e,n,"signInWithPassword",fD);case"emailLink":return pD(e,{email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ky(e,r,"signUpPassword",hD);case"emailLink":return mD(e,{idToken:n,email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wl(t,e){return _d(t,"POST","/v1/accounts:signInWithIdp",Da(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD="http://localhost";class Oo extends z0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Oo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ri("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,o=D0(n,["providerId","signInMethod"]);if(!r||!s)return null;const c=new Oo(r,s);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Wl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Wl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Wl(e,n)}buildRequest(){const e={requestUri:gD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yD(t){const e=Vu(Uu(t)).link,n=e?Vu(Uu(e)).deep_link_id:null,r=Vu(Uu(t)).deep_link_id;return(r?Vu(Uu(r)).link:null)||r||n||e||t}class B0{constructor(e){var n,r,s,o,c,d;const h=Vu(Uu(e)),p=(n=h.apiKey)!==null&&n!==void 0?n:null,_=(r=h.oobCode)!==null&&r!==void 0?r:null,S=vD((s=h.mode)!==null&&s!==void 0?s:null);Ue(p&&_&&S,"argument-error"),this.apiKey=p,this.operation=S,this.code=_,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(c=h.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(d=h.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=yD(e);try{return new B0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(){this.providerId=vc.PROVIDER_ID}static credential(e,n){return rd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=B0.parseLink(n);return Ue(r,"argument-error"),rd._fromEmailAndCode(e,r.code,r.tenantId)}}vc.PROVIDER_ID="password";vc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd extends qA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga extends bd{constructor(){super("facebook.com")}static credential(e){return Oo._fromParams({providerId:ga.PROVIDER_ID,signInMethod:ga.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ga.credentialFromTaggedObject(e)}static credentialFromError(e){return ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ga.credential(e.oauthAccessToken)}catch{return null}}}ga.FACEBOOK_SIGN_IN_METHOD="facebook.com";ga.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va extends bd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Oo._fromParams({providerId:va.PROVIDER_ID,signInMethod:va.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return va.credentialFromTaggedObject(e)}static credentialFromError(e){return va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return va.credential(n,r)}catch{return null}}}va.GOOGLE_SIGN_IN_METHOD="google.com";va.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya extends bd{constructor(){super("github.com")}static credential(e){return Oo._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ya.credentialFromTaggedObject(e)}static credentialFromError(e){return ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ya.credential(e.oauthAccessToken)}catch{return null}}}ya.GITHUB_SIGN_IN_METHOD="github.com";ya.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a extends bd{constructor(){super("twitter.com")}static credential(e,n){return Oo._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _a.credentialFromTaggedObject(e)}static credentialFromError(e){return _a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return _a.credential(n,r)}catch{return null}}}_a.TWITTER_SIGN_IN_METHOD="twitter.com";_a.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _D(t,e){return _d(t,"POST","/v1/accounts:signUp",Da(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await hs._fromIdTokenResponse(e,r,s),c=WS(r);return new Io({user:o,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=WS(r);return new Io({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function WS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf extends li{constructor(e,n,r,s){var o;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Qf.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Qf(e,n,r,s)}}function HA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Qf._fromErrorAndOperation(t,o,e,r):o})}async function bD(t,e,n=!1){const r=await Zl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Io._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(t,e,n=!1){const{auth:r}=t;if(pr(r.app))return Promise.reject(ys(r));const s="reauthenticate";try{const o=await Zl(t,HA(r,s,e,t),n);Ue(o.idToken,r,"internal-error");const c=V0(o.idToken);Ue(c,r,"internal-error");const{sub:d}=c;return Ue(t.uid===d,r,"user-mismatch"),Io._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ri(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $A(t,e,n=!1){if(pr(t.app))return Promise.reject(ys(t));const r="signIn",s=await HA(t,r,e),o=await Io._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function SD(t,e){return $A($o(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GA(t){const e=$o(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ED(t,e,n){if(pr(t.app))return Promise.reject(ys(t));const r=$o(t),c=await ky(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_D).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&GA(t),h}),d=await Io._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(d.user),d}function TD(t,e,n){return pr(t.app)?Promise.reject(ys(t)):SD(wt(t),vc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&GA(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(t,e){return ks(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F0(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=wt(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await Zl(r,xD(r.auth,o));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const d=r.providerData.find(({providerId:h})=>h==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function AD(t,e,n,r){return wt(t).onIdTokenChanged(e,n,r)}function CD(t,e,n){return wt(t).beforeAuthStateChanged(e,n)}function WA(t,e,n,r){return wt(t).onAuthStateChanged(e,n,r)}function KA(t){return wt(t).signOut()}const Yf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yf,"1"),this.storage.removeItem(Yf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=1e3,ND=10;class YA extends QA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,h)=>{this.notifyListeners(c,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);Wj()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,ND):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},kD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}YA.type="LOCAL";const RD=YA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA extends QA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}XA.type="SESSION";const JA=XA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Ip(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,c=this.handlersMap[s];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(c).map(async p=>p(n.origin,o)),h=await OD(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ip.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,c;return new Promise((d,h)=>{const p=q0("",20);s.port1.start();const _=setTimeout(()=>{h(new Error("unsupported_event"))},r);c={messageChannel:s,onMessage(S){const C=S;if(C.data.eventId===p)switch(C.data.status){case"ack":clearTimeout(_),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(C.data.response);break;default:clearTimeout(_),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(){return window}function MD(t){Oi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function jD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function PD(){return ZA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="firebaseLocalStorageDb",LD=1,Xf="firebaseLocalStorage",tC="fbase_key";class wd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mp(t,e){return t.transaction([Xf],e?"readwrite":"readonly").objectStore(Xf)}function VD(){const t=indexedDB.deleteDatabase(eC);return new wd(t).toPromise()}function Ny(){const t=indexedDB.open(eC,LD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Xf,{keyPath:tC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Xf)?e(r):(r.close(),await VD(),e(await Ny()))})})}async function KS(t,e,n){const r=Mp(t,!0).put({[tC]:e,value:n});return new wd(r).toPromise()}async function UD(t,e){const n=Mp(t,!1).get(e),r=await new wd(n).toPromise();return r===void 0?null:r.value}function QS(t,e){const n=Mp(t,!0).delete(e);return new wd(n).toPromise()}const zD=800,BD=3;class nC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ny(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>BD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ip._getInstance(PD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await jD(),!this.activeServiceWorker)return;this.sender=new ID(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ny();return await KS(e,Yf,"1"),await QS(e,Yf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>KS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>UD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>QS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Mp(s,!1).getAll();return new wd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nC.type="LOCAL";const FD=nC;new yd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(t,e){return e?fs(e):(Ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0 extends z0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Wl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Wl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function HD(t){return $A(t.auth,new H0(t),t.bypassAuthState)}function $D(t){const{auth:e,user:n}=t;return Ue(n,e,"internal-error"),wD(n,new H0(t),t.bypassAuthState)}async function GD(t){const{auth:e,user:n}=t;return Ue(n,e,"internal-error"),bD(n,new H0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:c,type:d}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HD;case"linkViaPopup":case"linkViaRedirect":return GD;case"reauthViaPopup":case"reauthViaRedirect":return $D;default:ri(this.auth,"internal-error")}}resolve(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=new yd(2e3,1e4);class ql extends rC{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,ql.currentPopupAction&&ql.currentPopupAction.cancel(),ql.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){Es(this.filter.length===1,"Popup operations only handle one event");const e=q0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ql.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WD.get())};e()}}ql.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD="pendingRedirect",Rf=new Map;class QD extends rC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Rf.get(this.auth._key());if(!e){try{const r=await YD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Rf.set(this.auth._key(),e)}return this.bypassAuthState||Rf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YD(t,e){const n=ZD(e),r=JD(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function XD(t,e){Rf.set(t._key(),e)}function JD(t){return fs(t._redirectPersistence)}function ZD(t){return Nf(KD,t.config.apiKey,t.name)}async function eP(t,e,n=!1){if(pr(t.app))return Promise.reject(ys(t));const r=$o(t),s=qD(r,e),c=await new QD(r,s,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=10*60*1e3;class nP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!iC(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ri(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tP&&this.cachedEventUids.clear(),this.cachedEventUids.has(YS(e))}saveEventToCache(e){this.cachedEventUids.add(YS(e)),this.lastProcessedEventTime=Date.now()}}function YS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function iC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iP(t,e={}){return ks(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aP=/^https?/;async function oP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await iP(t);for(const n of e)try{if(lP(n))return}catch{}ri(t,"unauthorized-domain")}function lP(t){const e=Ay(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!aP.test(n))return!1;if(sP.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP=new yd(3e4,6e4);function XS(){const t=Oi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function uP(t){return new Promise((e,n)=>{var r,s,o;function c(){XS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{XS(),n(Ri(t,"network-request-failed"))},timeout:cP.get()})}if(!((s=(r=Oi().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=Oi().gapi)===null||o===void 0)&&o.load)c();else{const d=nD("iframefcb");return Oi()[d]=()=>{gapi.load?c():n(Ri(t,"network-request-failed"))},zA(`${tD()}?onload=${d}`).catch(h=>n(h))}}).catch(e=>{throw Of=null,e})}let Of=null;function dP(t){return Of=Of||uP(t),Of}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP=new yd(5e3,15e3),fP="__/auth/iframe",pP="emulator/auth/iframe",mP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vP(t){const e=t.config;Ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?L0(e,pP):`https://${t.config.authDomain}/${fP}`,r={apiKey:e.apiKey,appName:t.name,v:Ho},s=gP.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${vd(r).slice(1)}`}async function yP(t){const e=await dP(t),n=Oi().gapi;return Ue(n,t,"internal-error"),e.open({where:document.body,url:vP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mP,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const c=Ri(t,"network-request-failed"),d=Oi().setTimeout(()=>{o(c)},hP.get());function h(){Oi().clearTimeout(d),s(r)}r.ping(h).then(h,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bP=500,wP=600,SP="_blank",EP="http://localhost";class JS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TP(t,e,n,r=bP,s=wP){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const h=Object.assign(Object.assign({},_P),{width:r.toString(),height:s.toString(),top:o,left:c}),p=zn().toLowerCase();n&&(d=MA(p)?SP:n),OA(p)&&(e=e||EP,h.scrollbars="yes");const _=Object.entries(h).reduce((C,[j,P])=>`${C}${j}=${P},`,"");if(Gj(p)&&d!=="_self")return xP(e||"",d),new JS(null);const S=window.open(e||"",d,_);Ue(S,t,"popup-blocked");try{S.focus()}catch{}return new JS(S)}function xP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP="__/auth/handler",CP="emulator/auth/handler",kP=encodeURIComponent("fac");async function ZS(t,e,n,r,s,o){Ue(t.config.authDomain,t,"auth-domain-config-required"),Ue(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ho,eventId:s};if(e instanceof qA){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",gM(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,S]of Object.entries({}))c[_]=S}if(e instanceof bd){const _=e.getScopes().filter(S=>S!=="");_.length>0&&(c.scopes=_.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const h=await t._getAppCheckToken(),p=h?`#${kP}=${encodeURIComponent(h)}`:"";return`${NP(t)}?${vd(d).slice(1)}${p}`}function NP({config:t}){return t.emulator?L0(t,CP):`https://${t.authDomain}/${AP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="webStorageSupport";class RP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JA,this._completeRedirectFn=eP,this._overrideRedirectResult=XD}async _openPopup(e,n,r,s){var o;Es((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await ZS(e,n,r,Ay(),s);return TP(e,c,q0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await ZS(e,n,r,Ay(),s);return MD(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Es(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await yP(e),r=new nP(e);return n.register("authEvent",s=>(Ue(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tv,{type:Tv},s=>{var o;const c=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[Tv];c!==void 0&&n(!!c),ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return VA()||IA()||U0()}}const OP=RP;var eE="@firebase/auth",tE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jP(t){ni(new Br("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Ue(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UA(t)},p=new Jj(r,s,o,h);return lD(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ni(new Br("auth-internal",e=>{const n=$o(e.getProvider("auth").getImmediate());return(r=>new IP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rr(eE,tE,MP(t)),rr(eE,tE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=5*60,PP=pA("authIdTokenMaxAge")||DP;let nE=null;const LP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>PP)return;const s=n==null?void 0:n.token;nE!==s&&(nE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function VP(t=j0()){const e=gc(t,"auth");if(e.isInitialized())return e.getImmediate();const n=oD(t,{popupRedirectResolver:OP,persistence:[FD,RD,JA]}),r=pA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=LP(o.toString());CD(n,c,()=>c(n.currentUser)),AD(n,d=>c(d))}}const s=hA("auth");return s&&cD(n,`http://${s}`),n}function UP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Zj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=Ri("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",UP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jP("Browser");var zP="firebase",BP="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rr(zP,BP,"app");var rE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ta,sC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,O){function A(){}A.prototype=O.prototype,M.D=O.prototype,M.prototype=new A,M.prototype.constructor=M,M.C=function(x,L,B){for(var I=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)I[Q-2]=arguments[Q];return O.prototype[L].apply(x,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(M,O,A){A||(A=0);var x=Array(16);if(typeof O=="string")for(var L=0;16>L;++L)x[L]=O.charCodeAt(A++)|O.charCodeAt(A++)<<8|O.charCodeAt(A++)<<16|O.charCodeAt(A++)<<24;else for(L=0;16>L;++L)x[L]=O[A++]|O[A++]<<8|O[A++]<<16|O[A++]<<24;O=M.g[0],A=M.g[1],L=M.g[2];var B=M.g[3],I=O+(B^A&(L^B))+x[0]+3614090360&4294967295;O=A+(I<<7&4294967295|I>>>25),I=B+(L^O&(A^L))+x[1]+3905402710&4294967295,B=O+(I<<12&4294967295|I>>>20),I=L+(A^B&(O^A))+x[2]+606105819&4294967295,L=B+(I<<17&4294967295|I>>>15),I=A+(O^L&(B^O))+x[3]+3250441966&4294967295,A=L+(I<<22&4294967295|I>>>10),I=O+(B^A&(L^B))+x[4]+4118548399&4294967295,O=A+(I<<7&4294967295|I>>>25),I=B+(L^O&(A^L))+x[5]+1200080426&4294967295,B=O+(I<<12&4294967295|I>>>20),I=L+(A^B&(O^A))+x[6]+2821735955&4294967295,L=B+(I<<17&4294967295|I>>>15),I=A+(O^L&(B^O))+x[7]+4249261313&4294967295,A=L+(I<<22&4294967295|I>>>10),I=O+(B^A&(L^B))+x[8]+1770035416&4294967295,O=A+(I<<7&4294967295|I>>>25),I=B+(L^O&(A^L))+x[9]+2336552879&4294967295,B=O+(I<<12&4294967295|I>>>20),I=L+(A^B&(O^A))+x[10]+4294925233&4294967295,L=B+(I<<17&4294967295|I>>>15),I=A+(O^L&(B^O))+x[11]+2304563134&4294967295,A=L+(I<<22&4294967295|I>>>10),I=O+(B^A&(L^B))+x[12]+1804603682&4294967295,O=A+(I<<7&4294967295|I>>>25),I=B+(L^O&(A^L))+x[13]+4254626195&4294967295,B=O+(I<<12&4294967295|I>>>20),I=L+(A^B&(O^A))+x[14]+2792965006&4294967295,L=B+(I<<17&4294967295|I>>>15),I=A+(O^L&(B^O))+x[15]+1236535329&4294967295,A=L+(I<<22&4294967295|I>>>10),I=O+(L^B&(A^L))+x[1]+4129170786&4294967295,O=A+(I<<5&4294967295|I>>>27),I=B+(A^L&(O^A))+x[6]+3225465664&4294967295,B=O+(I<<9&4294967295|I>>>23),I=L+(O^A&(B^O))+x[11]+643717713&4294967295,L=B+(I<<14&4294967295|I>>>18),I=A+(B^O&(L^B))+x[0]+3921069994&4294967295,A=L+(I<<20&4294967295|I>>>12),I=O+(L^B&(A^L))+x[5]+3593408605&4294967295,O=A+(I<<5&4294967295|I>>>27),I=B+(A^L&(O^A))+x[10]+38016083&4294967295,B=O+(I<<9&4294967295|I>>>23),I=L+(O^A&(B^O))+x[15]+3634488961&4294967295,L=B+(I<<14&4294967295|I>>>18),I=A+(B^O&(L^B))+x[4]+3889429448&4294967295,A=L+(I<<20&4294967295|I>>>12),I=O+(L^B&(A^L))+x[9]+568446438&4294967295,O=A+(I<<5&4294967295|I>>>27),I=B+(A^L&(O^A))+x[14]+3275163606&4294967295,B=O+(I<<9&4294967295|I>>>23),I=L+(O^A&(B^O))+x[3]+4107603335&4294967295,L=B+(I<<14&4294967295|I>>>18),I=A+(B^O&(L^B))+x[8]+1163531501&4294967295,A=L+(I<<20&4294967295|I>>>12),I=O+(L^B&(A^L))+x[13]+2850285829&4294967295,O=A+(I<<5&4294967295|I>>>27),I=B+(A^L&(O^A))+x[2]+4243563512&4294967295,B=O+(I<<9&4294967295|I>>>23),I=L+(O^A&(B^O))+x[7]+1735328473&4294967295,L=B+(I<<14&4294967295|I>>>18),I=A+(B^O&(L^B))+x[12]+2368359562&4294967295,A=L+(I<<20&4294967295|I>>>12),I=O+(A^L^B)+x[5]+4294588738&4294967295,O=A+(I<<4&4294967295|I>>>28),I=B+(O^A^L)+x[8]+2272392833&4294967295,B=O+(I<<11&4294967295|I>>>21),I=L+(B^O^A)+x[11]+1839030562&4294967295,L=B+(I<<16&4294967295|I>>>16),I=A+(L^B^O)+x[14]+4259657740&4294967295,A=L+(I<<23&4294967295|I>>>9),I=O+(A^L^B)+x[1]+2763975236&4294967295,O=A+(I<<4&4294967295|I>>>28),I=B+(O^A^L)+x[4]+1272893353&4294967295,B=O+(I<<11&4294967295|I>>>21),I=L+(B^O^A)+x[7]+4139469664&4294967295,L=B+(I<<16&4294967295|I>>>16),I=A+(L^B^O)+x[10]+3200236656&4294967295,A=L+(I<<23&4294967295|I>>>9),I=O+(A^L^B)+x[13]+681279174&4294967295,O=A+(I<<4&4294967295|I>>>28),I=B+(O^A^L)+x[0]+3936430074&4294967295,B=O+(I<<11&4294967295|I>>>21),I=L+(B^O^A)+x[3]+3572445317&4294967295,L=B+(I<<16&4294967295|I>>>16),I=A+(L^B^O)+x[6]+76029189&4294967295,A=L+(I<<23&4294967295|I>>>9),I=O+(A^L^B)+x[9]+3654602809&4294967295,O=A+(I<<4&4294967295|I>>>28),I=B+(O^A^L)+x[12]+3873151461&4294967295,B=O+(I<<11&4294967295|I>>>21),I=L+(B^O^A)+x[15]+530742520&4294967295,L=B+(I<<16&4294967295|I>>>16),I=A+(L^B^O)+x[2]+3299628645&4294967295,A=L+(I<<23&4294967295|I>>>9),I=O+(L^(A|~B))+x[0]+4096336452&4294967295,O=A+(I<<6&4294967295|I>>>26),I=B+(A^(O|~L))+x[7]+1126891415&4294967295,B=O+(I<<10&4294967295|I>>>22),I=L+(O^(B|~A))+x[14]+2878612391&4294967295,L=B+(I<<15&4294967295|I>>>17),I=A+(B^(L|~O))+x[5]+4237533241&4294967295,A=L+(I<<21&4294967295|I>>>11),I=O+(L^(A|~B))+x[12]+1700485571&4294967295,O=A+(I<<6&4294967295|I>>>26),I=B+(A^(O|~L))+x[3]+2399980690&4294967295,B=O+(I<<10&4294967295|I>>>22),I=L+(O^(B|~A))+x[10]+4293915773&4294967295,L=B+(I<<15&4294967295|I>>>17),I=A+(B^(L|~O))+x[1]+2240044497&4294967295,A=L+(I<<21&4294967295|I>>>11),I=O+(L^(A|~B))+x[8]+1873313359&4294967295,O=A+(I<<6&4294967295|I>>>26),I=B+(A^(O|~L))+x[15]+4264355552&4294967295,B=O+(I<<10&4294967295|I>>>22),I=L+(O^(B|~A))+x[6]+2734768916&4294967295,L=B+(I<<15&4294967295|I>>>17),I=A+(B^(L|~O))+x[13]+1309151649&4294967295,A=L+(I<<21&4294967295|I>>>11),I=O+(L^(A|~B))+x[4]+4149444226&4294967295,O=A+(I<<6&4294967295|I>>>26),I=B+(A^(O|~L))+x[11]+3174756917&4294967295,B=O+(I<<10&4294967295|I>>>22),I=L+(O^(B|~A))+x[2]+718787259&4294967295,L=B+(I<<15&4294967295|I>>>17),I=A+(B^(L|~O))+x[9]+3951481745&4294967295,M.g[0]=M.g[0]+O&4294967295,M.g[1]=M.g[1]+(L+(I<<21&4294967295|I>>>11))&4294967295,M.g[2]=M.g[2]+L&4294967295,M.g[3]=M.g[3]+B&4294967295}r.prototype.u=function(M,O){O===void 0&&(O=M.length);for(var A=O-this.blockSize,x=this.B,L=this.h,B=0;B<O;){if(L==0)for(;B<=A;)s(this,M,B),B+=this.blockSize;if(typeof M=="string"){for(;B<O;)if(x[L++]=M.charCodeAt(B++),L==this.blockSize){s(this,x),L=0;break}}else for(;B<O;)if(x[L++]=M[B++],L==this.blockSize){s(this,x),L=0;break}}this.h=L,this.o+=O},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var O=1;O<M.length-8;++O)M[O]=0;var A=8*this.o;for(O=M.length-8;O<M.length;++O)M[O]=A&255,A/=256;for(this.u(M),M=Array(16),O=A=0;4>O;++O)for(var x=0;32>x;x+=8)M[A++]=this.g[O]>>>x&255;return M};function o(M,O){var A=d;return Object.prototype.hasOwnProperty.call(A,M)?A[M]:A[M]=O(M)}function c(M,O){this.h=O;for(var A=[],x=!0,L=M.length-1;0<=L;L--){var B=M[L]|0;x&&B==O||(A[L]=B,x=!1)}this.g=A}var d={};function h(M){return-128<=M&&128>M?o(M,function(O){return new c([O|0],0>O?-1:0)}):new c([M|0],0>M?-1:0)}function p(M){if(isNaN(M)||!isFinite(M))return S;if(0>M)return U(p(-M));for(var O=[],A=1,x=0;M>=A;x++)O[x]=M/A|0,A*=4294967296;return new c(O,0)}function _(M,O){if(M.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(M.charAt(0)=="-")return U(_(M.substring(1),O));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=p(Math.pow(O,8)),x=S,L=0;L<M.length;L+=8){var B=Math.min(8,M.length-L),I=parseInt(M.substring(L,L+B),O);8>B?(B=p(Math.pow(O,B)),x=x.j(B).add(p(I))):(x=x.j(A),x=x.add(p(I)))}return x}var S=h(0),C=h(1),j=h(16777216);t=c.prototype,t.m=function(){if(V(this))return-U(this).m();for(var M=0,O=1,A=0;A<this.g.length;A++){var x=this.i(A);M+=(0<=x?x:4294967296+x)*O,O*=4294967296}return M},t.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(P(this))return"0";if(V(this))return"-"+U(this).toString(M);for(var O=p(Math.pow(M,6)),A=this,x="";;){var L=te(A,O).g;A=$(A,L.j(O));var B=((0<A.g.length?A.g[0]:A.h)>>>0).toString(M);if(A=L,P(A))return B+x;for(;6>B.length;)B="0"+B;x=B+x}},t.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function P(M){if(M.h!=0)return!1;for(var O=0;O<M.g.length;O++)if(M.g[O]!=0)return!1;return!0}function V(M){return M.h==-1}t.l=function(M){return M=$(this,M),V(M)?-1:P(M)?0:1};function U(M){for(var O=M.g.length,A=[],x=0;x<O;x++)A[x]=~M.g[x];return new c(A,~M.h).add(C)}t.abs=function(){return V(this)?U(this):this},t.add=function(M){for(var O=Math.max(this.g.length,M.g.length),A=[],x=0,L=0;L<=O;L++){var B=x+(this.i(L)&65535)+(M.i(L)&65535),I=(B>>>16)+(this.i(L)>>>16)+(M.i(L)>>>16);x=I>>>16,B&=65535,I&=65535,A[L]=I<<16|B}return new c(A,A[A.length-1]&-2147483648?-1:0)};function $(M,O){return M.add(U(O))}t.j=function(M){if(P(this)||P(M))return S;if(V(this))return V(M)?U(this).j(U(M)):U(U(this).j(M));if(V(M))return U(this.j(U(M)));if(0>this.l(j)&&0>M.l(j))return p(this.m()*M.m());for(var O=this.g.length+M.g.length,A=[],x=0;x<2*O;x++)A[x]=0;for(x=0;x<this.g.length;x++)for(var L=0;L<M.g.length;L++){var B=this.i(x)>>>16,I=this.i(x)&65535,Q=M.i(L)>>>16,he=M.i(L)&65535;A[2*x+2*L]+=I*he,q(A,2*x+2*L),A[2*x+2*L+1]+=B*he,q(A,2*x+2*L+1),A[2*x+2*L+1]+=I*Q,q(A,2*x+2*L+1),A[2*x+2*L+2]+=B*Q,q(A,2*x+2*L+2)}for(x=0;x<O;x++)A[x]=A[2*x+1]<<16|A[2*x];for(x=O;x<2*O;x++)A[x]=0;return new c(A,0)};function q(M,O){for(;(M[O]&65535)!=M[O];)M[O+1]+=M[O]>>>16,M[O]&=65535,O++}function X(M,O){this.g=M,this.h=O}function te(M,O){if(P(O))throw Error("division by zero");if(P(M))return new X(S,S);if(V(M))return O=te(U(M),O),new X(U(O.g),U(O.h));if(V(O))return O=te(M,U(O)),new X(U(O.g),O.h);if(30<M.g.length){if(V(M)||V(O))throw Error("slowDivide_ only works with positive integers.");for(var A=C,x=O;0>=x.l(M);)A=z(A),x=z(x);var L=K(A,1),B=K(x,1);for(x=K(x,2),A=K(A,2);!P(x);){var I=B.add(x);0>=I.l(M)&&(L=L.add(A),B=I),x=K(x,1),A=K(A,1)}return O=$(M,L.j(O)),new X(L,O)}for(L=S;0<=M.l(O);){for(A=Math.max(1,Math.floor(M.m()/O.m())),x=Math.ceil(Math.log(A)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),B=p(A),I=B.j(O);V(I)||0<I.l(M);)A-=x,B=p(A),I=B.j(O);P(B)&&(B=C),L=L.add(B),M=$(M,I)}return new X(L,M)}t.A=function(M){return te(this,M).h},t.and=function(M){for(var O=Math.max(this.g.length,M.g.length),A=[],x=0;x<O;x++)A[x]=this.i(x)&M.i(x);return new c(A,this.h&M.h)},t.or=function(M){for(var O=Math.max(this.g.length,M.g.length),A=[],x=0;x<O;x++)A[x]=this.i(x)|M.i(x);return new c(A,this.h|M.h)},t.xor=function(M){for(var O=Math.max(this.g.length,M.g.length),A=[],x=0;x<O;x++)A[x]=this.i(x)^M.i(x);return new c(A,this.h^M.h)};function z(M){for(var O=M.g.length+1,A=[],x=0;x<O;x++)A[x]=M.i(x)<<1|M.i(x-1)>>>31;return new c(A,M.h)}function K(M,O){var A=O>>5;O%=32;for(var x=M.g.length-A,L=[],B=0;B<x;B++)L[B]=0<O?M.i(B+A)>>>O|M.i(B+A+1)<<32-O:M.i(B+A);return new c(L,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,sC=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=_,Ta=c}).apply(typeof rE<"u"?rE:typeof self<"u"?self:typeof window<"u"?window:{});var sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aC,zu,oC,If,Ry,lC,cC,uC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,b,k){return f==Array.prototype||f==Object.prototype||(f[b]=k.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof sf=="object"&&sf];for(var b=0;b<f.length;++b){var k=f[b];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function s(f,b){if(b)e:{var k=r;f=f.split(".");for(var W=0;W<f.length-1;W++){var oe=f[W];if(!(oe in k))break e;k=k[oe]}f=f[f.length-1],W=k[f],b=b(W),b!=W&&b!=null&&e(k,f,{configurable:!0,writable:!0,value:b})}}function o(f,b){f instanceof String&&(f+="");var k=0,W=!1,oe={next:function(){if(!W&&k<f.length){var fe=k++;return{value:b(fe,f[fe]),done:!1}}return W=!0,{done:!0,value:void 0}}};return oe[Symbol.iterator]=function(){return oe},oe}s("Array.prototype.values",function(f){return f||function(){return o(this,function(b,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function h(f){var b=typeof f;return b=b!="object"?b:f?Array.isArray(f)?"array":b:"null",b=="array"||b=="object"&&typeof f.length=="number"}function p(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function _(f,b,k){return f.call.apply(f.bind,arguments)}function S(f,b,k){if(!f)throw Error();if(2<arguments.length){var W=Array.prototype.slice.call(arguments,2);return function(){var oe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(oe,W),f.apply(b,oe)}}return function(){return f.apply(b,arguments)}}function C(f,b,k){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:S,C.apply(null,arguments)}function j(f,b){var k=Array.prototype.slice.call(arguments,1);return function(){var W=k.slice();return W.push.apply(W,arguments),f.apply(this,W)}}function P(f,b){function k(){}k.prototype=b.prototype,f.aa=b.prototype,f.prototype=new k,f.prototype.constructor=f,f.Qb=function(W,oe,fe){for(var Ae=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)Ae[rt-2]=arguments[rt];return b.prototype[oe].apply(W,Ae)}}function V(f){const b=f.length;if(0<b){const k=Array(b);for(let W=0;W<b;W++)k[W]=f[W];return k}return[]}function U(f,b){for(let k=1;k<arguments.length;k++){const W=arguments[k];if(h(W)){const oe=f.length||0,fe=W.length||0;f.length=oe+fe;for(let Ae=0;Ae<fe;Ae++)f[oe+Ae]=W[Ae]}else f.push(W)}}class ${constructor(b,k){this.i=b,this.j=k,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function q(f){return/^[\s\xa0]*$/.test(f)}function X(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function te(f){return te[" "](f),f}te[" "]=function(){};var z=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function K(f,b,k){for(const W in f)b.call(k,f[W],W,f)}function M(f,b){for(const k in f)b.call(void 0,f[k],k,f)}function O(f){const b={};for(const k in f)b[k]=f[k];return b}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(f,b){let k,W;for(let oe=1;oe<arguments.length;oe++){W=arguments[oe];for(k in W)f[k]=W[k];for(let fe=0;fe<A.length;fe++)k=A[fe],Object.prototype.hasOwnProperty.call(W,k)&&(f[k]=W[k])}}function L(f){var b=1;f=f.split(":");const k=[];for(;0<b&&f.length;)k.push(f.shift()),b--;return f.length&&k.push(f.join(":")),k}function B(f){d.setTimeout(()=>{throw f},0)}function I(){var f=Z;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class Q{constructor(){this.h=this.g=null}add(b,k){const W=he.get();W.set(b,k),this.h?this.h.next=W:this.g=W,this.h=W}}var he=new $(()=>new ne,f=>f.reset());class ne{constructor(){this.next=this.g=this.h=null}set(b,k){this.h=b,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let N,ge=!1,Z=new Q,w=()=>{const f=d.Promise.resolve(void 0);N=()=>{f.then(G)}};var G=()=>{for(var f;f=I();){try{f.h.call(f.g)}catch(k){B(k)}var b=he;b.j(f),100>b.h&&(b.h++,f.next=b.g,b.g=f)}ge=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function v(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}v.prototype.h=function(){this.defaultPrevented=!0};var E=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const k=()=>{};d.addEventListener("test",k,b),d.removeEventListener("test",k,b)}catch{}return f}();function T(f,b){if(v.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var k=this.type=f.type,W=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget){if(z){e:{try{te(b.nodeName);var oe=!0;break e}catch{}oe=!1}oe||(b=null)}}else k=="mouseover"?b=f.fromElement:k=="mouseout"&&(b=f.toElement);this.relatedTarget=b,W?(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:D[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&T.aa.h.call(this)}}P(T,v);var D={2:"touch",3:"pen",4:"mouse"};T.prototype.h=function(){T.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),ee=0;function ue(f,b,k,W,oe){this.listener=f,this.proxy=null,this.src=b,this.type=k,this.capture=!!W,this.ha=oe,this.key=++ee,this.da=this.fa=!1}function ce(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ve(f){this.src=f,this.g={},this.h=0}ve.prototype.add=function(f,b,k,W,oe){var fe=f.toString();f=this.g[fe],f||(f=this.g[fe]=[],this.h++);var Ae=Se(f,b,W,oe);return-1<Ae?(b=f[Ae],k||(b.fa=!1)):(b=new ue(b,this.src,fe,!!W,oe),b.fa=k,f.push(b)),b};function Te(f,b){var k=b.type;if(k in f.g){var W=f.g[k],oe=Array.prototype.indexOf.call(W,b,void 0),fe;(fe=0<=oe)&&Array.prototype.splice.call(W,oe,1),fe&&(ce(b),f.g[k].length==0&&(delete f.g[k],f.h--))}}function Se(f,b,k,W){for(var oe=0;oe<f.length;++oe){var fe=f[oe];if(!fe.da&&fe.listener==b&&fe.capture==!!k&&fe.ha==W)return oe}return-1}var xe="closure_lm_"+(1e6*Math.random()|0),Ie={};function qe(f,b,k,W,oe){if(Array.isArray(b)){for(var fe=0;fe<b.length;fe++)qe(f,b[fe],k,W,oe);return null}return k=br(k),f&&f[F]?f.K(b,k,p(W)?!!W.capture:!1,oe):Re(f,b,k,!1,W,oe)}function Re(f,b,k,W,oe,fe){if(!b)throw Error("Invalid event type");var Ae=p(oe)?!!oe.capture:!!oe,rt=Rn(f);if(rt||(f[xe]=rt=new ve(f)),k=rt.add(b,k,W,Ae,fe),k.proxy)return k;if(W=Ke(),k.proxy=W,W.src=f,W.listener=k,f.addEventListener)E||(oe=Ae),oe===void 0&&(oe=!1),f.addEventListener(b.toString(),W,oe);else if(f.attachEvent)f.attachEvent(It(b.toString()),W);else if(f.addListener&&f.removeListener)f.addListener(W);else throw Error("addEventListener and attachEvent are unavailable.");return k}function Ke(){function f(k){return b.call(f.src,f.listener,k)}const b=bn;return f}function ct(f,b,k,W,oe){if(Array.isArray(b))for(var fe=0;fe<b.length;fe++)ct(f,b[fe],k,W,oe);else W=p(W)?!!W.capture:!!W,k=br(k),f&&f[F]?(f=f.i,b=String(b).toString(),b in f.g&&(fe=f.g[b],k=Se(fe,k,W,oe),-1<k&&(ce(fe[k]),Array.prototype.splice.call(fe,k,1),fe.length==0&&(delete f.g[b],f.h--)))):f&&(f=Rn(f))&&(b=f.g[b.toString()],f=-1,b&&(f=Se(b,k,W,oe)),(k=-1<f?b[f]:null)&&pt(k))}function pt(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[F])Te(b.i,f);else{var k=f.type,W=f.proxy;b.removeEventListener?b.removeEventListener(k,W,f.capture):b.detachEvent?b.detachEvent(It(k),W):b.addListener&&b.removeListener&&b.removeListener(W),(k=Rn(b))?(Te(k,f),k.h==0&&(k.src=null,b[xe]=null)):ce(f)}}}function It(f){return f in Ie?Ie[f]:Ie[f]="on"+f}function bn(f,b){if(f.da)f=!0;else{b=new T(b,this);var k=f.listener,W=f.ha||f.src;f.fa&&pt(f),f=k.call(W,b)}return f}function Rn(f){return f=f[xe],f instanceof ve?f:null}var Jt="__closure_events_fn_"+(1e9*Math.random()>>>0);function br(f){return typeof f=="function"?f:(f[Jt]||(f[Jt]=function(b){return f.handleEvent(b)}),f[Jt])}function Pt(){re.call(this),this.i=new ve(this),this.M=this,this.F=null}P(Pt,re),Pt.prototype[F]=!0,Pt.prototype.removeEventListener=function(f,b,k,W){ct(this,f,b,k,W)};function St(f,b){var k,W=f.F;if(W)for(k=[];W;W=W.F)k.push(W);if(f=f.M,W=b.type||b,typeof b=="string")b=new v(b,f);else if(b instanceof v)b.target=b.target||f;else{var oe=b;b=new v(W,f),x(b,oe)}if(oe=!0,k)for(var fe=k.length-1;0<=fe;fe--){var Ae=b.g=k[fe];oe=Bn(Ae,W,!0,b)&&oe}if(Ae=b.g=f,oe=Bn(Ae,W,!0,b)&&oe,oe=Bn(Ae,W,!1,b)&&oe,k)for(fe=0;fe<k.length;fe++)Ae=b.g=k[fe],oe=Bn(Ae,W,!1,b)&&oe}Pt.prototype.N=function(){if(Pt.aa.N.call(this),this.i){var f=this.i,b;for(b in f.g){for(var k=f.g[b],W=0;W<k.length;W++)ce(k[W]);delete f.g[b],f.h--}}this.F=null},Pt.prototype.K=function(f,b,k,W){return this.i.add(String(f),b,!1,k,W)},Pt.prototype.L=function(f,b,k,W){return this.i.add(String(f),b,!0,k,W)};function Bn(f,b,k,W){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();for(var oe=!0,fe=0;fe<b.length;++fe){var Ae=b[fe];if(Ae&&!Ae.da&&Ae.capture==k){var rt=Ae.listener,an=Ae.ha||Ae.src;Ae.fa&&Te(f.i,Ae),oe=rt.call(an,W)!==!1&&oe}}return oe&&!W.defaultPrevented}function Dd(f,b,k){if(typeof f=="function")k&&(f=C(f,k));else if(f&&typeof f.handleEvent=="function")f=C(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:d.setTimeout(f,b||0)}function xc(f){f.g=Dd(()=>{f.g=null,f.i&&(f.i=!1,xc(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class hm extends re{constructor(b,k){super(),this.m=b,this.l=k,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:xc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Va(f){re.call(this),this.h=f,this.g={}}P(Va,re);var Rs=[];function On(f){K(f.g,function(b,k){this.g.hasOwnProperty(k)&&pt(b)},f),f.g={}}Va.prototype.N=function(){Va.aa.N.call(this),On(this)},Va.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ac=d.JSON.stringify,ci=d.JSON.parse,Fn=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function Cc(){}Cc.prototype.h=null;function Pd(f){return f.h||(f.h=f.i())}function Ld(){}var ui={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Os(){v.call(this,"d")}P(Os,v);function Hr(){v.call(this,"c")}P(Hr,v);var wr={},Is=null;function Xo(){return Is=Is||new Pt}wr.La="serverreachability";function kc(f){v.call(this,wr.La,f)}P(kc,v);function Ms(f){const b=Xo();St(b,new kc(b))}wr.STAT_EVENT="statevent";function Jo(f,b){v.call(this,wr.STAT_EVENT,f),this.stat=b}P(Jo,v);function Kt(f){const b=Xo();St(b,new Jo(b,f))}wr.Ma="timingevent";function Vd(f,b){v.call(this,wr.Ma,f),this.size=b}P(Vd,v);function js(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},b)}function Ds(){this.g=!0}Ds.prototype.xa=function(){this.g=!1};function Ud(f,b,k,W,oe,fe){f.info(function(){if(f.g)if(fe)for(var Ae="",rt=fe.split("&"),an=0;an<rt.length;an++){var it=rt[an].split("=");if(1<it.length){var pn=it[0];it=it[1];var on=pn.split("_");Ae=2<=on.length&&on[1]=="type"?Ae+(pn+"="+it+"&"):Ae+(pn+"=redacted&")}}else Ae=null;else Ae=fe;return"XMLHTTP REQ ("+W+") [attempt "+oe+"]: "+b+`
`+k+`
`+Ae})}function zd(f,b,k,W,oe,fe,Ae){f.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+oe+"]: "+b+`
`+k+`
`+fe+" "+Ae})}function Ps(f,b,k,W){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+hn(f,k)+(W?" "+W:"")})}function di(f,b){f.info(function(){return"TIMEOUT: "+b})}Ds.prototype.info=function(){};function hn(f,b){if(!f.g)return b;if(!b)return null;try{var k=JSON.parse(b);if(k){for(f=0;f<k.length;f++)if(Array.isArray(k[f])){var W=k[f];if(!(2>W.length)){var oe=W[1];if(Array.isArray(oe)&&!(1>oe.length)){var fe=oe[0];if(fe!="noop"&&fe!="stop"&&fe!="close")for(var Ae=1;Ae<oe.length;Ae++)oe[Ae]=""}}}}return Ac(k)}catch{return b}}var sn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ua;function Zo(){}P(Zo,Cc),Zo.prototype.g=function(){return new XMLHttpRequest},Zo.prototype.i=function(){return{}},Ua=new Zo;function hi(f,b,k,W){this.j=f,this.i=b,this.l=k,this.R=W||1,this.U=new Va(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Nc}function Nc(){this.i=null,this.g="",this.h=!1}var Ls={},za={};function $r(f,b,k){f.L=1,f.v=qa(Bt(b)),f.m=k,f.P=!0,Ui(f,null)}function Ui(f,b){f.F=Date.now(),Lt(f),f.A=Bt(f.v);var k=f.A,W=f.R;Array.isArray(W)||(W=[String(W)]),Fi(k.i,"t",W),f.C=0,k=f.j.J,f.h=new Nc,f.g=eh(f.j,k?b:null,!f.m),0<f.O&&(f.M=new hm(C(f.Y,f,f.g),f.O)),b=f.U,k=f.g,W=f.ca;var oe="readystatechange";Array.isArray(oe)||(oe&&(Rs[0]=oe.toString()),oe=Rs);for(var fe=0;fe<oe.length;fe++){var Ae=qe(k,oe[fe],W||b.handleEvent,!1,b.h||b);if(!Ae)break;b.g[Ae.key]=Ae}b=f.H?O(f.H):{},f.m?(f.u||(f.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,b)):(f.u="GET",f.g.ea(f.A,f.u,null,b)),Ms(),Ud(f.i,f.u,f.A,f.l,f.R,f.m)}hi.prototype.ca=function(f){f=f.target;const b=this.M;b&&Ar(f)==3?b.j():this.Y(f)},hi.prototype.Y=function(f){try{if(f==this.g)e:{const on=Ar(this.g);var b=this.g.Ba();const Gi=this.g.Z();if(!(3>on)&&(on!=3||this.g&&(this.h.h||this.g.oa()||Gd(this.g)))){this.J||on!=4||b==7||(b==8||0>=Gi?Ms(3):Ms(2)),el(this);var k=this.g.Z();this.X=k;t:if(Vs(this)){var W=Gd(this.g);f="";var oe=W.length,fe=Ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jn(this),ar(this);var Ae="";break t}this.h.i=new d.TextDecoder}for(b=0;b<oe;b++)this.h.h=!0,f+=this.h.i.decode(W[b],{stream:!(fe&&b==oe-1)});W.length=0,this.h.g+=f,this.C=0,Ae=this.h.g}else Ae=this.g.oa();if(this.o=k==200,zd(this.i,this.u,this.A,this.l,this.R,on,k),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,an=this.g;if((rt=an.g?an.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(rt)){var it=rt;break t}}it=null}if(k=it)Ps(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,or(this,k);else{this.o=!1,this.s=3,Kt(12),Jn(this),ar(this);break e}}if(this.P){k=!0;let wn;for(;!this.J&&this.C<Ae.length;)if(wn=Us(this,Ae),wn==za){on==4&&(this.s=4,Kt(14),k=!1),Ps(this.i,this.l,null,"[Incomplete Response]");break}else if(wn==Ls){this.s=4,Kt(15),Ps(this.i,this.l,Ae,"[Invalid Chunk]"),k=!1;break}else Ps(this.i,this.l,wn,null),or(this,wn);if(Vs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),on!=4||Ae.length!=0||this.h.h||(this.s=1,Kt(16),k=!1),this.o=this.o&&k,!k)Ps(this.i,this.l,Ae,"[Invalid Chunked Response]"),Jn(this),ar(this);else if(0<Ae.length&&!this.W){this.W=!0;var pn=this.j;pn.g==this&&pn.ba&&!pn.M&&(pn.j.info("Great, no buffering proxy detected. Bytes received: "+Ae.length),Ya(pn),pn.M=!0,Kt(11))}}else Ps(this.i,this.l,Ae,null),or(this,Ae);on==4&&Jn(this),this.o&&!this.J&&(on==4?Xd(this.j,this):(this.o=!1,Lt(this)))}else ym(this.g),k==400&&0<Ae.indexOf("Unknown SID")?(this.s=3,Kt(12)):(this.s=0,Kt(13)),Jn(this),ar(this)}}}catch{}finally{}};function Vs(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Us(f,b){var k=f.C,W=b.indexOf(`
`,k);return W==-1?za:(k=Number(b.substring(k,W)),isNaN(k)?Ls:(W+=1,W+k>b.length?za:(b=b.slice(W,W+k),f.C=W+k,b)))}hi.prototype.cancel=function(){this.J=!0,Jn(this)};function Lt(f){f.S=Date.now()+f.I,Rc(f,f.I)}function Rc(f,b){if(f.B!=null)throw Error("WatchDog timer not null");f.B=js(C(f.ba,f),b)}function el(f){f.B&&(d.clearTimeout(f.B),f.B=null)}hi.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(di(this.i,this.A),this.L!=2&&(Ms(),Kt(17)),Jn(this),this.s=2,ar(this)):Rc(this,this.S-f)};function ar(f){f.j.G==0||f.J||Xd(f.j,f)}function Jn(f){el(f);var b=f.M;b&&typeof b.ma=="function"&&b.ma(),f.M=null,On(f.U),f.g&&(b=f.g,f.g=null,b.abort(),b.ma())}function or(f,b){try{var k=f.j;if(k.G!=0&&(k.g==f||zs(k.h,f))){if(!f.K&&zs(k.h,f)&&k.G==3){try{var W=k.Da.g.parse(b)}catch{W=null}if(Array.isArray(W)&&W.length==3){var oe=W;if(oe[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<f.F)ul(k),ll(k);else break e;Bc(k),Kt(18)}}else k.za=oe[1],0<k.za-k.T&&37500>oe[2]&&k.F&&k.v==0&&!k.C&&(k.C=js(C(k.Za,k),6e3));if(1>=Bd(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else $i(k,11)}else if((f.K||k.g==f)&&ul(k),!q(b))for(oe=k.Da.g.parse(b),b=0;b<oe.length;b++){let it=oe[b];if(k.T=it[0],it=it[1],k.G==2)if(it[0]=="c"){k.K=it[1],k.ia=it[2];const pn=it[3];pn!=null&&(k.la=pn,k.j.info("VER="+k.la));const on=it[4];on!=null&&(k.Aa=on,k.j.info("SVER="+k.Aa));const Gi=it[5];Gi!=null&&typeof Gi=="number"&&0<Gi&&(W=1.5*Gi,k.L=W,k.j.info("backChannelRequestTimeoutMs_="+W)),W=k;const wn=f.g;if(wn){const _i=wn.g?wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var fe=W.h;fe.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&(Bs(fe,fe.h),fe.h=null))}if(W.D){const qc=wn.g?wn.g.getResponseHeader("X-HTTP-Session-Id"):null;qc&&(W.ya=qc,dt(W.I,W.D,qc))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-f.F,k.j.info("Handshake RTT: "+k.R+"ms")),W=k;var Ae=f;if(W.qa=Zd(W,W.J?W.ia:null,W.W),Ae.K){Sr(W.h,Ae);var rt=Ae,an=W.L;an&&(rt.I=an),rt.B&&(el(rt),Lt(rt)),W.g=Ae}else Qd(W);0<k.i.length&&cl(k)}else it[0]!="stop"&&it[0]!="close"||$i(k,7);else k.G==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?$i(k,7):Uc(k):it[0]!="noop"&&k.l&&k.l.ta(it),k.v=0)}}Ms(4)}catch{}}var fm=class{constructor(f,b){this.g=f,this.map=b}};function Oc(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ic(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Bd(f){return f.h?1:f.g?f.g.size:0}function zs(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function Bs(f,b){f.g?f.g.add(b):f.h=b}function Sr(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}Oc.prototype.cancel=function(){if(this.i=qn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function qn(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const k of f.g.values())b=b.concat(k.D);return b}return V(f.i)}function Fd(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(h(f)){for(var b=[],k=f.length,W=0;W<k;W++)b.push(f[W]);return b}b=[],k=0;for(W in f)b[k++]=f[W];return b}function pm(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(h(f)||typeof f=="string"){var b=[];f=f.length;for(var k=0;k<f;k++)b.push(k);return b}b=[],k=0;for(const W in f)b[k++]=W;return b}}}function Ba(f,b){if(f.forEach&&typeof f.forEach=="function")f.forEach(b,void 0);else if(h(f)||typeof f=="string")Array.prototype.forEach.call(f,b,void 0);else for(var k=pm(f),W=Fd(f),oe=W.length,fe=0;fe<oe;fe++)b.call(void 0,W[fe],k&&k[fe],f)}var Mc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tl(f,b){if(f){f=f.split("&");for(var k=0;k<f.length;k++){var W=f[k].indexOf("="),oe=null;if(0<=W){var fe=f[k].substring(0,W);oe=f[k].substring(W+1)}else fe=f[k];b(fe,oe?decodeURIComponent(oe.replace(/\+/g," ")):"")}}}function zi(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof zi){this.h=f.h,Fs(this,f.j),this.o=f.o,this.g=f.g,Fa(this,f.s),this.l=f.l;var b=f.i,k=new fi;k.i=b.i,b.g&&(k.g=new Map(b.g),k.h=b.h),nl(this,k),this.m=f.m}else f&&(b=String(f).match(Mc))?(this.h=!1,Fs(this,b[1]||"",!0),this.o=qs(b[2]||""),this.g=qs(b[3]||"",!0),Fa(this,b[4]),this.l=qs(b[5]||"",!0),nl(this,b[6]||"",!0),this.m=qs(b[7]||"")):(this.h=!1,this.i=new fi(null,this.h))}zi.prototype.toString=function(){var f=[],b=this.j;b&&f.push(Er(b,jc,!0),":");var k=this.g;return(k||b=="file")&&(f.push("//"),(b=this.o)&&f.push(Er(b,jc,!0),"@"),f.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&f.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&f.push("/"),f.push(Er(k,k.charAt(0)=="/"?Dc:qd,!0))),(k=this.i.toString())&&f.push("?",k),(k=this.m)&&f.push("#",Er(k,vm)),f.join("")};function Bt(f){return new zi(f)}function Fs(f,b,k){f.j=k?qs(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function Fa(f,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);f.s=b}else f.s=null}function nl(f,b,k){b instanceof fi?(f.i=b,Pc(f.i,f.h)):(k||(b=Er(b,gm)),f.i=new fi(b,f.h))}function dt(f,b,k){f.i.set(b,k)}function qa(f){return dt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function qs(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Er(f,b,k){return typeof f=="string"?(f=encodeURI(f).replace(b,mm),k&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function mm(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var jc=/[#\/\?@]/g,qd=/[#\?:]/g,Dc=/[#\?]/g,gm=/[#\?@]/g,vm=/#/g;function fi(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function Tr(f){f.g||(f.g=new Map,f.h=0,f.i&&tl(f.i,function(b,k){f.add(decodeURIComponent(b.replace(/\+/g," ")),k)}))}t=fi.prototype,t.add=function(f,b){Tr(this),this.i=null,f=qi(this,f);var k=this.g.get(f);return k||this.g.set(f,k=[]),k.push(b),this.h+=1,this};function rl(f,b){Tr(f),b=qi(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function Bi(f,b){return Tr(f),b=qi(f,b),f.g.has(b)}t.forEach=function(f,b){Tr(this),this.g.forEach(function(k,W){k.forEach(function(oe){f.call(b,oe,W,this)},this)},this)},t.na=function(){Tr(this);const f=Array.from(this.g.values()),b=Array.from(this.g.keys()),k=[];for(let W=0;W<b.length;W++){const oe=f[W];for(let fe=0;fe<oe.length;fe++)k.push(b[W])}return k},t.V=function(f){Tr(this);let b=[];if(typeof f=="string")Bi(this,f)&&(b=b.concat(this.g.get(qi(this,f))));else{f=Array.from(this.g.values());for(let k=0;k<f.length;k++)b=b.concat(f[k])}return b},t.set=function(f,b){return Tr(this),this.i=null,f=qi(this,f),Bi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=this.V(f),0<f.length?String(f[0]):b):b};function Fi(f,b,k){rl(f,b),0<k.length&&(f.i=null,f.g.set(qi(f,b),V(k)),f.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(var k=0;k<b.length;k++){var W=b[k];const fe=encodeURIComponent(String(W)),Ae=this.V(W);for(W=0;W<Ae.length;W++){var oe=fe;Ae[W]!==""&&(oe+="="+encodeURIComponent(String(Ae[W]))),f.push(oe)}}return this.i=f.join("&")};function qi(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function Pc(f,b){b&&!f.j&&(Tr(f),f.i=null,f.g.forEach(function(k,W){var oe=W.toLowerCase();W!=oe&&(rl(this,W),Fi(this,oe,k))},f)),f.j=b}function Hd(f,b){const k=new Ds;if(d.Image){const W=new Image;W.onload=j(xr,k,"TestLoadImage: loaded",!0,b,W),W.onerror=j(xr,k,"TestLoadImage: error",!1,b,W),W.onabort=j(xr,k,"TestLoadImage: abort",!1,b,W),W.ontimeout=j(xr,k,"TestLoadImage: timeout",!1,b,W),d.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=f}else b(!1)}function Ha(f,b){const k=new Ds,W=new AbortController,oe=setTimeout(()=>{W.abort(),xr(k,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:W.signal}).then(fe=>{clearTimeout(oe),fe.ok?xr(k,"TestPingServer: ok",!0,b):xr(k,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(oe),xr(k,"TestPingServer: error",!1,b)})}function xr(f,b,k,W,oe){try{oe&&(oe.onload=null,oe.onerror=null,oe.onabort=null,oe.ontimeout=null),W(k)}catch{}}function $a(){this.g=new Fn}function pi(f,b,k){const W=k||"";try{Ba(f,function(oe,fe){let Ae=oe;p(oe)&&(Ae=Ac(oe)),b.push(W+fe+"="+encodeURIComponent(Ae))})}catch(oe){throw b.push(W+"type="+encodeURIComponent("_badmap")),oe}}function Hs(f){this.l=f.Ub||null,this.j=f.eb||!1}P(Hs,Cc),Hs.prototype.g=function(){return new Hi(this.l,this.j)},Hs.prototype.i=function(f){return function(){return f}}({});function Hi(f,b){Pt.call(this),this.D=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Hi,Pt),t=Hi.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=b,this.readyState=1,gi(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(b.body=f),(this.D||d).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mi(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,gi(this)),this.g&&(this.readyState=3,gi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lc(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Lc(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?mi(this):gi(this),this.readyState==3&&Lc(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,mi(this))},t.Qa=function(f){this.g&&(this.response=f,mi(this))},t.ga=function(){this.g&&mi(this)};function mi(f){f.readyState=4,f.l=null,f.j=null,f.v=null,gi(f)}t.setRequestHeader=function(f,b){this.u.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var k=b.next();!k.done;)k=k.value,f.push(k[0]+": "+k[1]),k=b.next();return f.join(`\r
`)};function gi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Vc(f){let b="";return K(f,function(k,W){b+=W,b+=":",b+=k,b+=`\r
`}),b}function fn(f,b,k){e:{for(W in k){var W=!1;break e}W=!0}W||(k=Vc(k),typeof f=="string"?k!=null&&encodeURIComponent(String(k)):dt(f,b,k))}function gt(f){Pt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(gt,Pt);var il=/^https?$/i,Ga=["POST","PUT"];t=gt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,b,k,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ua.g(),this.v=this.o?Pd(this.o):Pd(Ua),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(fe){$d(this,fe);return}if(f=k||"",k=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var oe in W)k.set(oe,W[oe]);else if(typeof W.keys=="function"&&typeof W.get=="function")for(const fe of W.keys())k.set(fe,W.get(fe));else throw Error("Unknown input type for opt_headers: "+String(W));W=Array.from(k.keys()).find(fe=>fe.toLowerCase()=="content-type"),oe=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ga,b,void 0))||W||oe||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,Ae]of k)this.g.setRequestHeader(fe,Ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wa(this),this.u=!0,this.g.send(f),this.u=!1}catch(fe){$d(this,fe)}};function $d(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.m=5,sl(f),vi(f)}function sl(f){f.A||(f.A=!0,St(f,"complete"),St(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,St(this,"complete"),St(this,"abort"),vi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vi(this,!0)),gt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?al(this):this.bb())},t.bb=function(){al(this)};function al(f){if(f.h&&typeof c<"u"&&(!f.v[1]||Ar(f)!=4||f.Z()!=2)){if(f.u&&Ar(f)==4)Dd(f.Ea,0,f);else if(St(f,"readystatechange"),Ar(f)==4){f.h=!1;try{const Ae=f.Z();e:switch(Ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var k;if(!(k=b)){var W;if(W=Ae===0){var oe=String(f.D).match(Mc)[1]||null;!oe&&d.self&&d.self.location&&(oe=d.self.location.protocol.slice(0,-1)),W=!il.test(oe?oe.toLowerCase():"")}k=W}if(k)St(f,"complete"),St(f,"success");else{f.m=6;try{var fe=2<Ar(f)?f.g.statusText:""}catch{fe=""}f.l=fe+" ["+f.Z()+"]",sl(f)}}finally{vi(f)}}}}function vi(f,b){if(f.g){Wa(f);const k=f.g,W=f.v[0]?()=>{}:null;f.g=null,f.v=null,b||St(f,"ready");try{k.onreadystatechange=W}catch{}}}function Wa(f){f.I&&(d.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Ar(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Ar(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),ci(b)}};function Gd(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ym(f){const b={};f=(f.g&&2<=Ar(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let W=0;W<f.length;W++){if(q(f[W]))continue;var k=L(f[W]);const oe=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const fe=b[oe]||[];b[oe]=fe,fe.push(k)}M(b,function(W){return W.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ka(f,b,k){return k&&k.internalChannelParams&&k.internalChannelParams[f]||b}function ol(f){this.Aa=0,this.i=[],this.j=new Ds,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ka("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ka("baseRetryDelayMs",5e3,f),this.cb=Ka("retryDelaySeedMs",1e4,f),this.Wa=Ka("forwardChannelMaxRetries",2,f),this.wa=Ka("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Oc(f&&f.concurrentRequestLimit),this.Da=new $a,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ol.prototype,t.la=8,t.G=1,t.connect=function(f,b,k,W){Kt(0),this.W=f,this.H=b||{},k&&W!==void 0&&(this.H.OSID=k,this.H.OAID=W),this.F=this.X,this.I=Zd(this,null,this.W),cl(this)};function Uc(f){if(Wd(f),f.G==3){var b=f.U++,k=Bt(f.I);if(dt(k,"SID",f.K),dt(k,"RID",b),dt(k,"TYPE","terminate"),Qa(f,k),b=new hi(f,f.j,b),b.L=2,b.v=qa(Bt(k)),k=!1,d.navigator&&d.navigator.sendBeacon)try{k=d.navigator.sendBeacon(b.v.toString(),"")}catch{}!k&&d.Image&&(new Image().src=b.v,k=!0),k||(b.g=eh(b.j,null),b.g.ea(b.v)),b.F=Date.now(),Lt(b)}Jd(f)}function ll(f){f.g&&(Ya(f),f.g.cancel(),f.g=null)}function Wd(f){ll(f),f.u&&(d.clearTimeout(f.u),f.u=null),ul(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function cl(f){if(!Ic(f.h)&&!f.s){f.s=!0;var b=f.Ga;N||w(),ge||(N(),ge=!0),Z.add(b,f),f.B=0}}function _m(f,b){return Bd(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=b.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=js(C(f.Ga,f,b),Fc(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const oe=new hi(this,this.j,f);let fe=this.o;if(this.S&&(fe?(fe=O(fe),x(fe,this.S)):fe=this.S),this.m!==null||this.O||(oe.H=fe,fe=null),this.P)e:{for(var b=0,k=0;k<this.i.length;k++){t:{var W=this.i[k];if("__data__"in W.map&&(W=W.map.__data__,typeof W=="string")){W=W.length;break t}W=void 0}if(W===void 0)break;if(b+=W,4096<b){b=k;break e}if(b===4096||k===this.i.length-1){b=k+1;break e}}b=1e3}else b=1e3;b=Kd(this,oe,b),k=Bt(this.I),dt(k,"RID",f),dt(k,"CVER",22),this.D&&dt(k,"X-HTTP-Session-Id",this.D),Qa(this,k),fe&&(this.O?b="headers="+encodeURIComponent(String(Vc(fe)))+"&"+b:this.m&&fn(k,this.m,fe)),Bs(this.h,oe),this.Ua&&dt(k,"TYPE","init"),this.P?(dt(k,"$req",b),dt(k,"SID","null"),oe.T=!0,$r(oe,k,null)):$r(oe,k,b),this.G=2}}else this.G==3&&(f?zc(this,f):this.i.length==0||Ic(this.h)||zc(this))};function zc(f,b){var k;b?k=b.l:k=f.U++;const W=Bt(f.I);dt(W,"SID",f.K),dt(W,"RID",k),dt(W,"AID",f.T),Qa(f,W),f.m&&f.o&&fn(W,f.m,f.o),k=new hi(f,f.j,k,f.B+1),f.m===null&&(k.H=f.o),b&&(f.i=b.D.concat(f.i)),b=Kd(f,k,1e3),k.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Bs(f.h,k),$r(k,W,b)}function Qa(f,b){f.H&&K(f.H,function(k,W){dt(b,W,k)}),f.l&&Ba({},function(k,W){dt(b,W,k)})}function Kd(f,b,k){k=Math.min(f.i.length,k);var W=f.l?C(f.l.Na,f.l,f):null;e:{var oe=f.i;let fe=-1;for(;;){const Ae=["count="+k];fe==-1?0<k?(fe=oe[0].g,Ae.push("ofs="+fe)):fe=0:Ae.push("ofs="+fe);let rt=!0;for(let an=0;an<k;an++){let it=oe[an].g;const pn=oe[an].map;if(it-=fe,0>it)fe=Math.max(0,oe[an].g-100),rt=!1;else try{pi(pn,Ae,"req"+it+"_")}catch{W&&W(pn)}}if(rt){W=Ae.join("&");break e}}}return f=f.i.splice(0,k),b.D=f,W}function Qd(f){if(!f.g&&!f.u){f.Y=1;var b=f.Fa;N||w(),ge||(N(),ge=!0),Z.add(b,f),f.v=0}}function Bc(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=js(C(f.Fa,f),Fc(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Yd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=js(C(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Kt(10),ll(this),Yd(this))};function Ya(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function Yd(f){f.g=new hi(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var b=Bt(f.qa);dt(b,"RID","rpc"),dt(b,"SID",f.K),dt(b,"AID",f.T),dt(b,"CI",f.F?"0":"1"),!f.F&&f.ja&&dt(b,"TO",f.ja),dt(b,"TYPE","xmlhttp"),Qa(f,b),f.m&&f.o&&fn(b,f.m,f.o),f.L&&(f.g.I=f.L);var k=f.g;f=f.ia,k.L=1,k.v=qa(Bt(b)),k.m=null,k.P=!0,Ui(k,f)}t.Za=function(){this.C!=null&&(this.C=null,ll(this),Bc(this),Kt(19))};function ul(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function Xd(f,b){var k=null;if(f.g==b){ul(f),Ya(f),f.g=null;var W=2}else if(zs(f.h,b))k=b.D,Sr(f.h,b),W=1;else return;if(f.G!=0){if(b.o)if(W==1){k=b.m?b.m.length:0,b=Date.now()-b.F;var oe=f.B;W=Xo(),St(W,new Vd(W,k)),cl(f)}else Qd(f);else if(oe=b.s,oe==3||oe==0&&0<b.X||!(W==1&&_m(f,b)||W==2&&Bc(f)))switch(k&&0<k.length&&(b=f.h,b.i=b.i.concat(k)),oe){case 1:$i(f,5);break;case 4:$i(f,10);break;case 3:$i(f,6);break;default:$i(f,2)}}}function Fc(f,b){let k=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(k*=2),k*b}function $i(f,b){if(f.j.info("Error code "+b),b==2){var k=C(f.fb,f),W=f.Xa;const oe=!W;W=new zi(W||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Fs(W,"https"),qa(W),oe?Hd(W.toString(),k):Ha(W.toString(),k)}else Kt(2);f.G=0,f.l&&f.l.sa(b),Jd(f),Wd(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function Jd(f){if(f.G=0,f.ka=[],f.l){const b=qn(f.h);(b.length!=0||f.i.length!=0)&&(U(f.ka,b),U(f.ka,f.i),f.h.i.length=0,V(f.i),f.i.length=0),f.l.ra()}}function Zd(f,b,k){var W=k instanceof zi?Bt(k):new zi(k);if(W.g!="")b&&(W.g=b+"."+W.g),Fa(W,W.s);else{var oe=d.location;W=oe.protocol,b=b?b+"."+oe.hostname:oe.hostname,oe=+oe.port;var fe=new zi(null);W&&Fs(fe,W),b&&(fe.g=b),oe&&Fa(fe,oe),k&&(fe.l=k),W=fe}return k=f.D,b=f.ya,k&&b&&dt(W,k,b),dt(W,"VER",f.la),Qa(f,W),W}function eh(f,b,k){if(b&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Ca&&!f.pa?new gt(new Hs({eb:k})):new gt(f.pa),b.Ha(f.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function th(){}t=th.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function dl(){}dl.prototype.g=function(f,b){return new Hn(f,b)};function Hn(f,b){Pt.call(this),this.g=new ol(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(f?f["X-WebChannel-Client-Profile"]=b.va:f={"X-WebChannel-Client-Profile":b.va}),this.g.S=f,(f=b&&b.Sb)&&!q(f)&&(this.g.m=f),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!q(b)&&(this.g.D=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new yi(this)}P(Hn,Pt),Hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Hn.prototype.close=function(){Uc(this.g)},Hn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var k={};k.__data__=f,f=k}else this.u&&(k={},k.__data__=Ac(f),f=k);b.i.push(new fm(b.Ya++,f)),b.G==3&&cl(b)},Hn.prototype.N=function(){this.g.l=null,delete this.j,Uc(this.g),delete this.g,Hn.aa.N.call(this)};function nh(f){Os.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const k in b){f=k;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}P(nh,Os);function rh(){Hr.call(this),this.status=1}P(rh,Hr);function yi(f){this.g=f}P(yi,th),yi.prototype.ua=function(){St(this.g,"a")},yi.prototype.ta=function(f){St(this.g,new nh(f))},yi.prototype.sa=function(f){St(this.g,new rh)},yi.prototype.ra=function(){St(this.g,"b")},dl.prototype.createWebChannel=dl.prototype.g,Hn.prototype.send=Hn.prototype.o,Hn.prototype.open=Hn.prototype.m,Hn.prototype.close=Hn.prototype.close,uC=function(){return new dl},cC=function(){return Xo()},lC=wr,Ry={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},sn.NO_ERROR=0,sn.TIMEOUT=8,sn.HTTP_ERROR=6,If=sn,Vi.COMPLETE="complete",oC=Vi,Ld.EventType=ui,ui.OPEN="a",ui.CLOSE="b",ui.ERROR="c",ui.MESSAGE="d",Pt.prototype.listen=Pt.prototype.K,zu=Ld,gt.prototype.listenOnce=gt.prototype.L,gt.prototype.getLastError=gt.prototype.Ka,gt.prototype.getLastErrorCode=gt.prototype.Ba,gt.prototype.getStatus=gt.prototype.Z,gt.prototype.getResponseJson=gt.prototype.Oa,gt.prototype.getResponseText=gt.prototype.oa,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Ha,aC=gt}).apply(typeof sf<"u"?sf:typeof self<"u"?self:typeof window<"u"?window:{});const iE="@firebase/firestore",sE="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yc="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=new I0("@firebase/firestore");function Ul(){return Mo.logLevel}function Ne(t,...e){if(Mo.logLevel<=Ze.DEBUG){const n=e.map($0);Mo.debug(`Firestore (${yc}): ${t}`,...n)}}function Ts(t,...e){if(Mo.logLevel<=Ze.ERROR){const n=e.map($0);Mo.error(`Firestore (${yc}): ${t}`,...n)}}function ec(t,...e){if(Mo.logLevel<=Ze.WARN){const n=e.map($0);Mo.warn(`Firestore (${yc}): ${t}`,...n)}}function $0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t="Unexpected state"){const e=`FIRESTORE (${yc}) INTERNAL ASSERTION FAILED: `+t;throw Ts(e),new Error(e)}function vt(t,e){t||ze()}function Ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends li{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dn.UNAUTHENTICATED))}shutdown(){}}class qP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class HP{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){vt(this.o===void 0);let r=this.i;const s=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let o=new _s;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new _s,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},d=h=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(h=>d(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new _s)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(vt(typeof r.accessToken=="string"),new dC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vt(e===null||typeof e=="string"),new Dn(e)}}class $P{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class GP{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new $P(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WP{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,pr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){vt(this.o===void 0);const r=o=>{o.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.R;return this.R=o.token,Ne("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new aE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(vt(typeof n.token=="string"),this.R=n.token,new aE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=KP(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function Ye(t,e){return t<e?-1:t>e?1:0}function Oy(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return Ye(r,s);{const o=hC(),c=QP(o.encode(oE(t,n)),o.encode(oE(e,n)));return c!==0?c:Ye(r,s)}}n+=r>65535?2:1}return Ye(t.length,e.length)}function oE(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function QP(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ye(t[n],e[n]);return Ye(t.length,e.length)}function tc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=-62135596800,cE=1e6;class un{static now(){return un.fromMillis(Date.now())}static fromDate(e){return un.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*cE);return new un(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ke(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ke(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<lE)throw new ke(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cE}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-lE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new un(0,0))}static max(){return new Fe(new un(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="__name__";class xi{constructor(e,n,r){n===void 0?n=0:n>e.length&&ze(),r===void 0?r=e.length-n:r>e.length-n&&ze(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return xi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=xi.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return Ye(e.length,n.length)}static compareSegments(e,n){const r=xi.isNumericId(e),s=xi.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?xi.extractNumericId(e).compare(xi.extractNumericId(n)):Oy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ta.fromString(e.substring(4,e.length-2))}}class Mt extends xi{construct(e,n,r){return new Mt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ke(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Mt(n)}static emptyPath(){return new Mt([])}}const YP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kn extends xi{construct(e,n,r){return new kn(e,n,r)}static isValidIdentifier(e){return YP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uE}static keyField(){return new kn([uE])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new ke(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new ke(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ke(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(r+=d,s++):(o(),s++)}if(o(),c)throw new ke(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kn(n)}static emptyPath(){return new kn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(Mt.fromString(e))}static fromName(e){return new Pe(Mt.fromString(e).popFirst(5))}static empty(){return new Pe(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new Mt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id=-1;function XP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Fe.fromTimestamp(r===1e9?new un(n+1,0):new un(n,r));return new Aa(s,Pe.empty(),e)}function JP(t){return new Aa(t.readTime,t.key,id)}class Aa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Aa(Fe.min(),Pe.empty(),id)}static max(){return new Aa(Fe.max(),Pe.empty(),id)}}function ZP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Pe.comparator(t.documentKey,e.documentKey),n!==0?n:Ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class t3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _c(t){if(t.code!==ye.FAILED_PRECONDITION||t.message!==e3)throw t;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ze(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new be((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof be?n:be.resolve(n)}catch(n){return be.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):be.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):be.reject(n)}static resolve(e){return new be((n,r)=>{n(e)})}static reject(e){return new be((n,r)=>{r(e)})}static waitFor(e){return new be((n,r)=>{let s=0,o=0,c=!1;e.forEach(d=>{++s,d.next(()=>{++o,c&&o===s&&n()},h=>r(h))}),c=!0,o===s&&n()})}static or(e){let n=be.resolve(!1);for(const r of e)n=n.next(s=>s?be.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new be((r,s)=>{const o=e.length,c=new Array(o);let d=0;for(let h=0;h<o;h++){const p=h;n(e[p]).next(_=>{c[p]=_,++d,d===o&&r(c)},_=>s(_))}})}static doWhile(e,n){return new be((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function n3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}jp.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=-1;function Dp(t){return t==null}function Jf(t){return t===0&&1/t==-1/0}function r3(t){return typeof t=="number"&&Number.isInteger(t)&&!Jf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="";function i3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=dE(e)),e=s3(t.get(n),e);return dE(e)}function s3(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case pC:n+="";break;default:n+=o}}return n}function dE(t){return t+pC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Pa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n){this.comparator=e,this.root=n||Cn.EMPTY}insert(e,n){return new zt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Cn.BLACK,null,null))}remove(e){return new zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new af(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new af(this.root,e,this.comparator,!1)}getReverseIterator(){return new af(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new af(this.root,e,this.comparator,!0)}}class af{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cn{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??Cn.RED,this.left=s??Cn.EMPTY,this.right=o??Cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new Cn(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Cn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ze();const e=this.left.check();if(e!==this.right.check())throw ze();return e+(this.isRed()?0:1)}}Cn.EMPTY=null,Cn.RED=!0,Cn.BLACK=!1;Cn.EMPTY=new class{constructor(){this.size=0}get key(){throw ze()}get value(){throw ze()}get color(){throw ze()}get left(){throw ze()}get right(){throw ze()}copy(e,n,r,s,o){return this}insert(e,n,r){return new Cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.comparator=e,this.data=new zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fE(this.data.getIterator())}getIteratorFrom(e){return new fE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof dn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new dn(this.comparator);return n.data=e,n}}class fE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.fields=e,e.sort(kn.comparator)}static empty(){return new mr([])}unionWith(e){let n=new dn(kn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return tc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new gC("Invalid base64 string: "+o):o}}(e);return new Nn(n)}static fromUint8Array(e){const n=function(s){let o="";for(let c=0;c<s.length;++c)o+=String.fromCharCode(s[c]);return o}(e);return new Nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nn.EMPTY_BYTE_STRING=new Nn("");const a3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ca(t){if(vt(!!t),typeof t=="string"){let e=0;const n=a3.exec(t);if(vt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xt(t.seconds),nanos:Xt(t.nanos)}}function Xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ka(t){return typeof t=="string"?Nn.fromBase64String(t):Nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="server_timestamp",yC="__type__",_C="__previous_value__",bC="__local_write_time__";function W0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[yC])===null||n===void 0?void 0:n.stringValue)===vC}function Pp(t){const e=t.mapValue.fields[_C];return W0(e)?Pp(e):e}function sd(t){const e=Ca(t.mapValue.fields[bC].timestampValue);return new un(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,n,r,s,o,c,d,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=p}}const Zf="(default)";class ad{constructor(e,n){this.projectId=e,this.database=n||Zf}static empty(){return new ad("","")}get isDefaultDatabase(){return this.database===Zf}isEqual(e){return e instanceof ad&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="__type__",l3="__max__",of={mapValue:{}},SC="__vector__",ep="value";function Na(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?W0(t)?4:u3(t)?9007199254740991:c3(t)?10:11:ze()}function Di(t,e){if(t===e)return!0;const n=Na(t);if(n!==Na(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sd(t).isEqual(sd(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const c=Ca(s.timestampValue),d=Ca(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return ka(s.bytesValue).isEqual(ka(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return Xt(s.geoPointValue.latitude)===Xt(o.geoPointValue.latitude)&&Xt(s.geoPointValue.longitude)===Xt(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Xt(s.integerValue)===Xt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const c=Xt(s.doubleValue),d=Xt(o.doubleValue);return c===d?Jf(c)===Jf(d):isNaN(c)&&isNaN(d)}return!1}(t,e);case 9:return tc(t.arrayValue.values||[],e.arrayValue.values||[],Di);case 10:case 11:return function(s,o){const c=s.mapValue.fields||{},d=o.mapValue.fields||{};if(hE(c)!==hE(d))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(d[h]===void 0||!Di(c[h],d[h])))return!1;return!0}(t,e);default:return ze()}}function od(t,e){return(t.values||[]).find(n=>Di(n,e))!==void 0}function nc(t,e){if(t===e)return 0;const n=Na(t),r=Na(e);if(n!==r)return Ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(t.booleanValue,e.booleanValue);case 2:return function(o,c){const d=Xt(o.integerValue||o.doubleValue),h=Xt(c.integerValue||c.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1}(t,e);case 3:return pE(t.timestampValue,e.timestampValue);case 4:return pE(sd(t),sd(e));case 5:return Oy(t.stringValue,e.stringValue);case 6:return function(o,c){const d=ka(o),h=ka(c);return d.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(o,c){const d=o.split("/"),h=c.split("/");for(let p=0;p<d.length&&p<h.length;p++){const _=Ye(d[p],h[p]);if(_!==0)return _}return Ye(d.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,c){const d=Ye(Xt(o.latitude),Xt(c.latitude));return d!==0?d:Ye(Xt(o.longitude),Xt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return mE(t.arrayValue,e.arrayValue);case 10:return function(o,c){var d,h,p,_;const S=o.fields||{},C=c.fields||{},j=(d=S[ep])===null||d===void 0?void 0:d.arrayValue,P=(h=C[ep])===null||h===void 0?void 0:h.arrayValue,V=Ye(((p=j==null?void 0:j.values)===null||p===void 0?void 0:p.length)||0,((_=P==null?void 0:P.values)===null||_===void 0?void 0:_.length)||0);return V!==0?V:mE(j,P)}(t.mapValue,e.mapValue);case 11:return function(o,c){if(o===of.mapValue&&c===of.mapValue)return 0;if(o===of.mapValue)return 1;if(c===of.mapValue)return-1;const d=o.fields||{},h=Object.keys(d),p=c.fields||{},_=Object.keys(p);h.sort(),_.sort();for(let S=0;S<h.length&&S<_.length;++S){const C=Oy(h[S],_[S]);if(C!==0)return C;const j=nc(d[h[S]],p[_[S]]);if(j!==0)return j}return Ye(h.length,_.length)}(t.mapValue,e.mapValue);default:throw ze()}}function pE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ye(t,e);const n=Ca(t),r=Ca(e),s=Ye(n.seconds,r.seconds);return s!==0?s:Ye(n.nanos,r.nanos)}function mE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=nc(n[s],r[s]);if(o)return o}return Ye(n.length,r.length)}function rc(t){return Iy(t)}function Iy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ca(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ka(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=Iy(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const c of r)o?o=!1:s+=",",s+=`${c}:${Iy(n.fields[c])}`;return s+"}"}(t.mapValue):ze()}function Mf(t){switch(Na(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pp(t);return e?16+Mf(e):16;case 5:return 2*t.stringValue.length;case 6:return ka(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+Mf(o),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Pa(r.fields,(o,c)=>{s+=o.length+Mf(c)}),s}(t.mapValue);default:throw ze()}}function gE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function My(t){return!!t&&"integerValue"in t}function K0(t){return!!t&&"arrayValue"in t}function vE(t){return!!t&&"nullValue"in t}function yE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jf(t){return!!t&&"mapValue"in t}function c3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[wC])===null||n===void 0?void 0:n.stringValue)===SC}function Wu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Pa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Wu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function u3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===l3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.value=e}static empty(){return new nr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!jf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wu(n)}setAll(e){let n=kn.emptyPath(),r={},s=[];e.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const h=this.getFieldsMap(n);this.applyChanges(h,r,s),r={},s=[],n=d.popLast()}c?r[d.lastSegment()]=Wu(c):s.push(d.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());jf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];jf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Pa(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new nr(Wu(this.value))}}function EC(t){const e=[];return Pa(t.fields,(n,r)=>{const s=new kn([n]);if(jf(r)){const o=EC(r.mapValue).fields;if(o.length===0)e.push(s);else for(const c of o)e.push(s.child(c))}else e.push(s)}),new mr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,n,r,s,o,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Pn(e,0,Fe.min(),Fe.min(),Fe.min(),nr.empty(),0)}static newFoundDocument(e,n,r,s){return new Pn(e,1,n,Fe.min(),r,s,0)}static newNoDocument(e,n){return new Pn(e,2,n,Fe.min(),Fe.min(),nr.empty(),0)}static newUnknownDocument(e,n){return new Pn(e,3,n,Fe.min(),Fe.min(),nr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n){this.position=e,this.inclusive=n}}function _E(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],c=t.position[s];if(o.field.isKeyField()?r=Pe.comparator(Pe.fromName(c.referenceValue),n.key):r=nc(c,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function bE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Di(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n="asc"){this.field=e,this.dir=n}}function d3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{}class rn extends TC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new f3(e,n,r):n==="array-contains"?new g3(e,r):n==="in"?new v3(e,r):n==="not-in"?new y3(e,r):n==="array-contains-any"?new _3(e,r):new rn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new p3(e,r):new m3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(nc(n,this.value)):n!==null&&Na(this.value)===Na(n)&&this.matchesComparison(nc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends TC{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new ii(e,n)}matches(e){return xC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function xC(t){return t.op==="and"}function AC(t){return h3(t)&&xC(t)}function h3(t){for(const e of t.filters)if(e instanceof ii)return!1;return!0}function jy(t){if(t instanceof rn)return t.field.canonicalString()+t.op.toString()+rc(t.value);if(AC(t))return t.filters.map(e=>jy(e)).join(",");{const e=t.filters.map(n=>jy(n)).join(",");return`${t.op}(${e})`}}function CC(t,e){return t instanceof rn?function(r,s){return s instanceof rn&&r.op===s.op&&r.field.isEqual(s.field)&&Di(r.value,s.value)}(t,e):t instanceof ii?function(r,s){return s instanceof ii&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,c,d)=>o&&CC(c,s.filters[d]),!0):!1}(t,e):void ze()}function kC(t){return t instanceof rn?function(n){return`${n.field.canonicalString()} ${n.op} ${rc(n.value)}`}(t):t instanceof ii?function(n){return n.op.toString()+" {"+n.getFilters().map(kC).join(" ,")+"}"}(t):"Filter"}class f3 extends rn{constructor(e,n,r){super(e,n,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const n=Pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class p3 extends rn{constructor(e,n){super(e,"in",n),this.keys=NC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class m3 extends rn{constructor(e,n){super(e,"not-in",n),this.keys=NC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function NC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Pe.fromName(r.referenceValue))}class g3 extends rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return K0(n)&&od(n.arrayValue,this.value)}}class v3 extends rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&od(this.value.arrayValue,n)}}class y3 extends rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(od(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!od(this.value.arrayValue,n)}}class _3 extends rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!K0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>od(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,n=null,r=[],s=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=c,this.endAt=d,this.le=null}}function wE(t,e=null,n=[],r=[],s=null,o=null,c=null){return new b3(t,e,n,r,s,o,c)}function Q0(t){const e=Ge(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>jy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Dp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>rc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>rc(r)).join(",")),e.le=n}return e.le}function Y0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!d3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!CC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bE(t.startAt,e.startAt)&&bE(t.endAt,e.endAt)}function Dy(t){return Pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n=null,r=[],s=[],o=null,c="F",d=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function w3(t,e,n,r,s,o,c,d){return new wc(t,e,n,r,s,o,c,d)}function Lp(t){return new wc(t)}function SE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function RC(t){return t.collectionGroup!==null}function Ku(t){const e=Ge(t);if(e.he===null){e.he=[];const n=new Set;for(const o of e.explicitOrderBy)e.he.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new dn(kn.comparator);return c.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.he.push(new ld(o,r))}),n.has(kn.keyField().canonicalString())||e.he.push(new ld(kn.keyField(),r))}return e.he}function Ii(t){const e=Ge(t);return e.Pe||(e.Pe=S3(e,Ku(t))),e.Pe}function S3(t,e){if(t.limitType==="F")return wE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new ld(s.field,o)});const n=t.endAt?new tp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new tp(t.startAt.position,t.startAt.inclusive):null;return wE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Py(t,e){const n=t.filters.concat([e]);return new wc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function np(t,e,n){return new wc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vp(t,e){return Y0(Ii(t),Ii(e))&&t.limitType===e.limitType}function OC(t){return`${Q0(Ii(t))}|lt:${t.limitType}`}function zl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>kC(s)).join(", ")}]`),Dp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>rc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>rc(s)).join(",")),`Target(${r})`}(Ii(t))}; limitType=${t.limitType})`}function Up(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Pe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of Ku(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(c,d,h){const p=_E(c,d,h);return c.inclusive?p<=0:p<0}(r.startAt,Ku(r),s)||r.endAt&&!function(c,d,h){const p=_E(c,d,h);return c.inclusive?p>=0:p>0}(r.endAt,Ku(r),s))}(t,e)}function E3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function IC(t){return(e,n)=>{let r=!1;for(const s of Ku(t)){const o=T3(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function T3(t,e,n){const r=t.field.isKeyField()?Pe.comparator(e.key,n.key):function(o,c,d){const h=c.data.field(o),p=d.data.field(o);return h!==null&&p!==null?nc(h,p):ze()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ze()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Pa(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return mC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=new zt(Pe.comparator);function xs(){return x3}const MC=new zt(Pe.comparator);function Bu(...t){let e=MC;for(const n of t)e=e.insert(n.key,n);return e}function jC(t){let e=MC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Eo(){return Qu()}function DC(){return Qu()}function Qu(){return new Go(t=>t.toString(),(t,e)=>t.isEqual(e))}const A3=new zt(Pe.comparator),C3=new dn(Pe.comparator);function et(...t){let e=C3;for(const n of t)e=e.add(n);return e}const k3=new dn(Ye);function N3(){return k3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jf(e)?"-0":e}}function PC(t){return{integerValue:""+t}}function R3(t,e){return r3(e)?PC(e):X0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(){this._=void 0}}function O3(t,e,n){return t instanceof rp?function(s,o){const c={fields:{[yC]:{stringValue:vC},[bC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&W0(o)&&(o=Pp(o)),o&&(c.fields[_C]=o),{mapValue:c}}(n,e):t instanceof cd?VC(t,e):t instanceof ud?UC(t,e):function(s,o){const c=LC(s,o),d=EE(c)+EE(s.Ie);return My(c)&&My(s.Ie)?PC(d):X0(s.serializer,d)}(t,e)}function I3(t,e,n){return t instanceof cd?VC(t,e):t instanceof ud?UC(t,e):n}function LC(t,e){return t instanceof ip?function(r){return My(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class rp extends zp{}class cd extends zp{constructor(e){super(),this.elements=e}}function VC(t,e){const n=zC(e);for(const r of t.elements)n.some(s=>Di(s,r))||n.push(r);return{arrayValue:{values:n}}}class ud extends zp{constructor(e){super(),this.elements=e}}function UC(t,e){let n=zC(e);for(const r of t.elements)n=n.filter(s=>!Di(s,r));return{arrayValue:{values:n}}}class ip extends zp{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function EE(t){return Xt(t.integerValue||t.doubleValue)}function zC(t){return K0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function M3(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof cd&&s instanceof cd||r instanceof ud&&s instanceof ud?tc(r.elements,s.elements,Di):r instanceof ip&&s instanceof ip?Di(r.Ie,s.Ie):r instanceof rp&&s instanceof rp}(t.transform,e.transform)}class j3{constructor(e,n){this.version=e,this.transformResults=n}}class ir{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ir}static exists(e){return new ir(void 0,e)}static updateTime(e){return new ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Df(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bp{}function BC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new J0(t.key,ir.none()):new Sd(t.key,t.data,ir.none());{const n=t.data,r=nr.empty();let s=new dn(kn.comparator);for(let o of e.fields)if(!s.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?r.delete(o):r.set(o,c),s=s.add(o)}return new La(t.key,r,new mr(s.toArray()),ir.none())}}function D3(t,e,n){t instanceof Sd?function(s,o,c){const d=s.value.clone(),h=xE(s.fieldTransforms,o,c.transformResults);d.setAll(h),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):t instanceof La?function(s,o,c){if(!Df(s.precondition,o))return void o.convertToUnknownDocument(c.version);const d=xE(s.fieldTransforms,o,c.transformResults),h=o.data;h.setAll(FC(s)),h.setAll(d),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(t,e,n):function(s,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function Yu(t,e,n,r){return t instanceof Sd?function(o,c,d,h){if(!Df(o.precondition,c))return d;const p=o.value.clone(),_=AE(o.fieldTransforms,h,c);return p.setAll(_),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof La?function(o,c,d,h){if(!Df(o.precondition,c))return d;const p=AE(o.fieldTransforms,h,c),_=c.data;return _.setAll(FC(o)),_.setAll(p),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(S=>S.field))}(t,e,n,r):function(o,c,d){return Df(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(t,e,n)}function P3(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=LC(r.transform,s||null);o!=null&&(n===null&&(n=nr.empty()),n.set(r.field,o))}return n||null}function TE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&tc(r,s,(o,c)=>M3(o,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sd extends Bp{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class La extends Bp{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function FC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function xE(t,e,n){const r=new Map;vt(t.length===n.length);for(let s=0;s<n.length;s++){const o=t[s],c=o.transform,d=e.data.field(o.field);r.set(o.field,I3(c,d,n[s]))}return r}function AE(t,e,n){const r=new Map;for(const s of t){const o=s.transform,c=n.data.field(s.field);r.set(s.field,O3(o,c,e))}return r}class J0 extends Bp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class L3 extends Bp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&D3(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Yu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Yu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=DC();return this.mutations.forEach(s=>{const o=e.get(s.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=n.has(s.key)?null:d;const h=BC(c,d);h!==null&&r.set(s.key,h),c.isValidDocument()||c.convertToNoDocument(Fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),et())}isEqual(e){return this.batchId===e.batchId&&tc(this.mutations,e.mutations,(n,r)=>TE(n,r))&&tc(this.baseMutations,e.baseMutations,(n,r)=>TE(n,r))}}class Z0{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){vt(e.mutations.length===r.length);let s=function(){return A3}();const o=e.mutations;for(let c=0;c<o.length;c++)s=s.insert(o[c].key,r[c].version);return new Z0(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,at;function B3(t){switch(t){case ye.OK:return ze();case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0;default:return ze()}}function qC(t){if(t===void 0)return Ts("GRPC error has no .code"),ye.UNKNOWN;switch(t){case nn.OK:return ye.OK;case nn.CANCELLED:return ye.CANCELLED;case nn.UNKNOWN:return ye.UNKNOWN;case nn.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case nn.INTERNAL:return ye.INTERNAL;case nn.UNAVAILABLE:return ye.UNAVAILABLE;case nn.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case nn.NOT_FOUND:return ye.NOT_FOUND;case nn.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case nn.ABORTED:return ye.ABORTED;case nn.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case nn.DATA_LOSS:return ye.DATA_LOSS;default:return ze()}}(at=nn||(nn={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3=new Ta([4294967295,4294967295],0);function CE(t){const e=hC().encode(t),n=new sC;return n.update(e),new Uint8Array(n.digest())}function kE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ta([n,r],0),new Ta([s,o],0)]}class e_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fu(`Invalid padding: ${n}`);if(r<0)throw new Fu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Fu(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Ta.fromNumber(this.Ee)}Ae(e,n,r){let s=e.add(n.multiply(Ta.fromNumber(r)));return s.compare(F3)===1&&(s=new Ta([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=CE(e),[r,s]=kE(n);for(let o=0;o<this.hashCount;o++){const c=this.Ae(r,s,o);if(!this.Re(c))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new e_(o,s,n);return r.forEach(d=>c.insert(d)),c}insert(e){if(this.Ee===0)return;const n=CE(e),[r,s]=kE(n);for(let o=0;o<this.hashCount;o++){const c=this.Ae(r,s,o);this.Ve(c)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ed.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Fp(Fe.min(),s,new zt(Ye),xs(),et())}}class Ed{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ed(r,n,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n,r,s){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=s}}class HC{constructor(e,n){this.targetId=e,this.ge=n}}class $C{constructor(e,n,r=Nn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class NE{constructor(){this.pe=0,this.ye=RE(),this.we=Nn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=et(),n=et(),r=et();return this.ye.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ze()}}),new Ed(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=RE()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,vt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class q3{constructor(e){this.ke=e,this.qe=new Map,this.Qe=xs(),this.$e=lf(),this.Ue=lf(),this.Ke=new zt(Ye)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:ze()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,s)=>{this.Je(s)&&n(s)})}Ze(e){const n=e.targetId,r=e.ge.count,s=this.Xe(n);if(s){const o=s.target;if(Dy(o))if(r===0){const c=new Pe(o.path);this.ze(n,c,Pn.newNoDocument(c,Fe.min()))}else vt(r===1);else{const c=this.et(n);if(c!==r){const d=this.tt(e),h=d?this.nt(d,e,c):1;if(h!==0){this.Ye(n);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,p)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let c,d;try{c=ka(r).toUint8Array()}catch(h){if(h instanceof gC)return ec("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new e_(c,s,o)}catch(h){return ec(h instanceof Fu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.Ee===0?null:d}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const c=this.ke.it(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.ze(n,o,null),s++)}),s}ot(e){const n=new Map;this.qe.forEach((o,c)=>{const d=this.Xe(c);if(d){if(o.current&&Dy(d.target)){const h=new Pe(d.target.path);this._t(h).has(c)||this.ut(c,h)||this.ze(c,h,Pn.newNoDocument(h,e))}o.ve&&(n.set(c,o.Fe()),o.Me())}});let r=et();this.Ue.forEach((o,c)=>{let d=!0;c.forEachWhile(h=>{const p=this.Xe(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(o))}),this.Qe.forEach((o,c)=>c.setReadTime(e));const s=new Fp(e,n,this.Ke,this.Qe,r);return this.Qe=xs(),this.$e=lf(),this.Ue=lf(),this.Ke=new zt(Ye),s}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,n)?s.xe(n,1):s.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new NE,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new dn(Ye),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new dn(Ye),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||Ne("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new NE),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function lf(){return new zt(Pe.comparator)}function RE(){return new zt(Pe.comparator)}const H3={asc:"ASCENDING",desc:"DESCENDING"},$3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},G3={and:"AND",or:"OR"};class W3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ly(t,e){return t.useProto3Json||Dp(e)?e:{value:e}}function sp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function K3(t,e){return sp(t,e.toTimestamp())}function Mi(t){return vt(!!t),Fe.fromTimestamp(function(n){const r=Ca(n);return new un(r.seconds,r.nanos)}(t))}function t_(t,e){return Vy(t,e).canonicalString()}function Vy(t,e){const n=function(s){return new Mt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function WC(t){const e=Mt.fromString(t);return vt(JC(e)),e}function Uy(t,e){return t_(t.databaseId,e.path)}function xv(t,e){const n=WC(e);if(n.get(1)!==t.databaseId.projectId)throw new ke(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ke(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Pe(QC(n))}function KC(t,e){return t_(t.databaseId,e)}function Q3(t){const e=WC(t);return e.length===4?Mt.emptyPath():QC(e)}function zy(t){return new Mt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function QC(t){return vt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function OE(t,e,n){return{name:Uy(t,e),fields:n.value.mapValue.fields}}function Y3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ze()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(p,_){return p.useProto3Json?(vt(_===void 0||typeof _=="string"),Nn.fromBase64String(_||"")):(vt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Nn.fromUint8Array(_||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(p){const _=p.code===void 0?ye.UNKNOWN:qC(p.code);return new ke(_,p.message||"")}(c);n=new $C(r,s,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=xv(t,r.document.name),o=Mi(r.document.updateTime),c=r.document.createTime?Mi(r.document.createTime):Fe.min(),d=new nr({mapValue:{fields:r.document.fields}}),h=Pn.newFoundDocument(s,o,c,d),p=r.targetIds||[],_=r.removedTargetIds||[];n=new Pf(p,_,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=xv(t,r.document),o=r.readTime?Mi(r.readTime):Fe.min(),c=Pn.newNoDocument(s,o),d=r.removedTargetIds||[];n=new Pf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=xv(t,r.document),o=r.removedTargetIds||[];n=new Pf([],o,s,null)}else{if(!("filter"in e))return ze();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,c=new z3(s,o),d=r.targetId;n=new HC(d,c)}}return n}function X3(t,e){let n;if(e instanceof Sd)n={update:OE(t,e.key,e.value)};else if(e instanceof J0)n={delete:Uy(t,e.key)};else if(e instanceof La)n={update:OE(t,e.key,e.data),updateMask:a6(e.fieldMask)};else{if(!(e instanceof L3))return ze();n={verify:Uy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,c){const d=c.transform;if(d instanceof rp)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof cd)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ud)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ip)return{fieldPath:c.field.canonicalString(),increment:d.Ie};throw ze()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:K3(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ze()}(t,e.precondition)),n}function J3(t,e){return t&&t.length>0?(vt(e!==void 0),t.map(n=>function(s,o){let c=s.updateTime?Mi(s.updateTime):Mi(o);return c.isEqual(Fe.min())&&(c=Mi(o)),new j3(c,s.transformResults||[])}(n,e))):[]}function Z3(t,e){return{documents:[KC(t,e.path)]}}function e6(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=KC(t,s);const o=function(p){if(p.length!==0)return XC(ii.create(p,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const c=function(p){if(p.length!==0)return p.map(_=>function(C){return{field:Bl(C.field),direction:r6(C.dir)}}(_))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Ly(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:n,parent:s}}function t6(t){let e=Q3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){vt(r===1);const _=n.from[0];_.allDescendants?s=_.collectionId:e=e.child(_.collectionId)}let o=[];n.where&&(o=function(S){const C=YC(S);return C instanceof ii&&AC(C)?C.getFilters():[C]}(n.where));let c=[];n.orderBy&&(c=function(S){return S.map(C=>function(P){return new ld(Fl(P.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(C))}(n.orderBy));let d=null;n.limit&&(d=function(S){let C;return C=typeof S=="object"?S.value:S,Dp(C)?null:C}(n.limit));let h=null;n.startAt&&(h=function(S){const C=!!S.before,j=S.values||[];return new tp(j,C)}(n.startAt));let p=null;return n.endAt&&(p=function(S){const C=!S.before,j=S.values||[];return new tp(j,C)}(n.endAt)),w3(e,s,c,o,d,"F",h,p)}function n6(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function YC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Fl(n.unaryFilter.field);return rn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Fl(n.unaryFilter.field);return rn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Fl(n.unaryFilter.field);return rn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Fl(n.unaryFilter.field);return rn.create(c,"!=",{nullValue:"NULL_VALUE"});default:return ze()}}(t):t.fieldFilter!==void 0?function(n){return rn.create(Fl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ze()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ii.create(n.compositeFilter.filters.map(r=>YC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ze()}}(n.compositeFilter.op))}(t):ze()}function r6(t){return H3[t]}function i6(t){return $3[t]}function s6(t){return G3[t]}function Bl(t){return{fieldPath:t.canonicalString()}}function Fl(t){return kn.fromServerFormat(t.fieldPath)}function XC(t){return t instanceof rn?function(n){if(n.op==="=="){if(yE(n.value))return{unaryFilter:{field:Bl(n.field),op:"IS_NAN"}};if(vE(n.value))return{unaryFilter:{field:Bl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yE(n.value))return{unaryFilter:{field:Bl(n.field),op:"IS_NOT_NAN"}};if(vE(n.value))return{unaryFilter:{field:Bl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bl(n.field),op:i6(n.op),value:n.value}}}(t):t instanceof ii?function(n){const r=n.getFilters().map(s=>XC(s));return r.length===1?r[0]:{compositeFilter:{op:s6(n.op),filters:r}}}(t):ze()}function a6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function JC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,n,r,s,o=Fe.min(),c=Fe.min(),d=Nn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new wa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e){this.Tt=e}}function l6(t){const e=t6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?np(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(){this.Tn=new u6}addToCollectionParentIndex(e,n){return this.Tn.add(n),be.resolve()}getCollectionParents(e,n){return be.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return be.resolve()}deleteFieldIndex(e,n){return be.resolve()}deleteAllFieldIndexes(e){return be.resolve()}createTargetIndexes(e,n){return be.resolve()}getDocumentsMatchingTarget(e,n){return be.resolve(null)}getIndexType(e,n){return be.resolve(0)}getFieldIndexes(e,n){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}getMinOffset(e,n){return be.resolve(Aa.min())}getMinOffsetFromCollectionGroup(e,n){return be.resolve(Aa.min())}updateCollectionGroup(e,n,r){return be.resolve()}updateIndexEntries(e,n){return be.resolve()}}class u6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new dn(Mt.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new dn(Mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZC=41943040;class er{static withCacheSize(e){return new er(e,er.DEFAULT_COLLECTION_PERCENTILE,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er.DEFAULT_COLLECTION_PERCENTILE=10,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,er.DEFAULT=new er(ZC,er.DEFAULT_COLLECTION_PERCENTILE,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),er.DISABLED=new er(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new ic(0)}static Kn(){return new ic(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="LruGarbageCollector",d6=1048576;function jE([t,e],[n,r]){const s=Ye(t,n);return s===0?Ye(e,r):s}class h6{constructor(e){this.Hn=e,this.buffer=new dn(jE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();jE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class f6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Ne(ME,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bc(n)?Ne(ME,"Ignoring IndexedDB error during garbage collection: ",n):await _c(n)}await this.er(3e5)})}}class p6{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return be.resolve(jp.ae);const r=new h6(n);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(IE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IE):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,s,o,c,d,h,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),s=this.params.maximumSequenceNumbersToCollect):s=S,c=Date.now(),this.nthSequenceNumber(e,s))).next(S=>(r=S,d=Date.now(),this.removeTargets(e,r,n))).next(S=>(o=S,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(S=>(p=Date.now(),Ul()<=Ze.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${s} in `+(d-c)+`ms
	Removed ${o} targets in `+(h-d)+`ms
	Removed ${S} documents in `+(p-h)+`ms
Total Duration: ${p-_}ms`),be.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:S})))}}function m6(t,e){return new p6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(){this.changes=new Go(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?be.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Yu(r.mutation,s,mr.empty(),un.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,et()).next(()=>r))}getLocalViewOfDocuments(e,n,r=et()){const s=Eo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let c=Bu();return o.forEach((d,h)=>{c=c.insert(d,h.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const r=Eo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,et()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((c,d)=>{n.set(c,d)})})}computeViews(e,n,r,s){let o=xs();const c=Qu(),d=function(){return Qu()}();return n.forEach((h,p)=>{const _=r.get(p.key);s.has(p.key)&&(_===void 0||_.mutation instanceof La)?o=o.insert(p.key,p):_!==void 0?(c.set(p.key,_.mutation.getFieldMask()),Yu(_.mutation,p,_.mutation.getFieldMask(),un.now())):c.set(p.key,mr.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((p,_)=>c.set(p,_)),n.forEach((p,_)=>{var S;return d.set(p,new v6(_,(S=c.get(p))!==null&&S!==void 0?S:null))}),d))}recalculateAndSaveOverlays(e,n){const r=Qu();let s=new zt((c,d)=>c-d),o=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const d of c)d.keys().forEach(h=>{const p=n.get(h);if(p===null)return;let _=r.get(h)||mr.empty();_=d.applyToLocalView(p,_),r.set(h,_);const S=(s.get(d.batchId)||et()).add(h);s=s.insert(d.batchId,S)})}).next(()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),p=h.key,_=h.value,S=DC();_.forEach(C=>{if(!o.has(C)){const j=BC(n.get(C),r.get(C));j!==null&&S.set(C,j),o=o.add(C)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,S))}return be.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(c){return Pe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):RC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const c=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):be.resolve(Eo());let d=id,h=o;return c.next(p=>be.forEach(p,(_,S)=>(d<S.largestBatchId&&(d=S.largestBatchId),o.get(_)?be.resolve():this.remoteDocumentCache.getEntry(e,_).next(C=>{h=h.insert(_,C)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,h,p,et())).next(_=>({batchId:d,changes:jC(_)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Pe(n)).next(r=>{let s=Bu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let c=Bu();return this.indexManager.getCollectionParents(e,o).next(d=>be.forEach(d,h=>{const p=function(S,C){return new wc(C,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(_=>{_.forEach((S,C)=>{c=c.insert(S,C)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(c=>{o.forEach((h,p)=>{const _=p.getKey();c.get(_)===null&&(c=c.insert(_,Pn.newInvalidDocument(_)))});let d=Bu();return c.forEach((h,p)=>{const _=o.get(h);_!==void 0&&Yu(_.mutation,p,mr.empty(),un.now()),Up(n,p)&&(d=d.insert(h,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return be.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Mi(s.createTime)}}(n)),be.resolve()}getNamedQuery(e,n){return be.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(s){return{name:s.name,query:l6(s.bundledQuery),readTime:Mi(s.readTime)}}(n)),be.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(){this.overlays=new zt(Pe.comparator),this.Rr=new Map}getOverlay(e,n){return be.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Eo();return be.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.Et(e,n,o)}),be.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),be.resolve()}getOverlaysForCollection(e,n,r){const s=Eo(),o=n.length+1,c=new Pe(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const h=d.getNext().value,p=h.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===o&&h.largestBatchId>r&&s.set(h.getKey(),h)}return be.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new zt((p,_)=>p-_);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let _=o.get(p.largestBatchId);_===null&&(_=Eo(),o=o.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const d=Eo(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,_)=>d.set(p,_)),!(d.size()>=s)););return be.resolve(d)}Et(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const c=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new U3(n,r));let o=this.Rr.get(n);o===void 0&&(o=et(),this.Rr.set(n,o)),this.Rr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(){this.sessionToken=Nn.EMPTY_BYTE_STRING}getSessionToken(e){return be.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,be.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(){this.Vr=new dn(yn.mr),this.gr=new dn(yn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new yn(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new yn(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new Pe(new Mt([])),r=new yn(n,e),s=new yn(n,e+1),o=[];return this.gr.forEachInRange([r,s],c=>{this.wr(c),o.push(c.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Pe(new Mt([])),r=new yn(n,e),s=new yn(n,e+1);let o=et();return this.gr.forEachInRange([r,s],c=>{o=o.add(c.key)}),o}containsKey(e){const n=new yn(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yn{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Pe.comparator(e.key,n.key)||Ye(e.Cr,n.Cr)}static pr(e,n){return Ye(e.Cr,n.Cr)||Pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new dn(yn.mr)}checkEmpty(e){return be.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new V3(o,n,r,s);this.mutationQueue.push(c);for(const d of s)this.Mr=this.Mr.add(new yn(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return be.resolve(c)}lookupMutationBatch(e,n){return be.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Nr(r),o=s<0?0:s;return be.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(this.mutationQueue.length===0?G0:this.Fr-1)}getAllMutationBatches(e){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yn(n,0),s=new yn(n,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,s],c=>{const d=this.Or(c.Cr);o.push(d)}),be.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dn(Ye);return n.forEach(s=>{const o=new yn(s,0),c=new yn(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,c],d=>{r=r.add(d.Cr)})}),be.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;Pe.isDocumentKey(o)||(o=o.child(""));const c=new yn(new Pe(o),0);let d=new dn(Ye);return this.Mr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(d=d.add(h.Cr)),!0)},c),be.resolve(this.Br(d))}Br(e){const n=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){vt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return be.forEach(n.mutations,s=>{const o=new yn(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new yn(n,0),s=this.Mr.firstAfterOrEqual(r);return be.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,be.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e){this.kr=e,this.docs=function(){return new zt(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,c=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return be.resolve(r?r.document.mutableCopy():Pn.newInvalidDocument(n))}getEntries(e,n){let r=xs();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Pn.newInvalidDocument(s))}),be.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=xs();const c=n.path,d=new Pe(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:p,value:{document:_}}=h.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||ZP(JP(_),r)<=0||(s.has(_.key)||Up(n,_))&&(o=o.insert(_.key,_.mutableCopy()))}return be.resolve(o)}getAllFromCollectionGroup(e,n,r,s){ze()}qr(e,n){return be.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new T6(this)}getSize(e){return be.resolve(this.size)}}class T6 extends g6{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),be.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e){this.persistence=e,this.Qr=new Go(n=>Q0(n),Y0),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.$r=0,this.Ur=new n_,this.targetCount=0,this.Kr=ic.Un()}forEachTarget(e,n){return this.Qr.forEach((r,s)=>n(s)),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),be.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new ic(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,be.resolve()}updateTargetData(e,n){return this.zn(n),be.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.Qr.forEach((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.Qr.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),be.waitFor(o).next(()=>s)}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return be.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),be.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(c=>{o.push(s.markPotentiallyOrphaned(e,c))}),be.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),be.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return be.resolve(r)}containsKey(e,n){return be.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new jp(0),this.zr=!1,this.zr=!0,this.jr=new w6,this.referenceDelegate=e(this),this.Hr=new x6(this),this.indexManager=new c6,this.remoteDocumentCache=function(s){return new E6(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new o6(n),this.Yr=new _6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new b6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new S6(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){Ne("MemoryPersistence","Starting transaction:",e);const s=new A6(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(o=>this.referenceDelegate.Xr(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}ei(e,n){return be.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class A6 extends t3{constructor(e){super(),this.currentSequenceNumber=e}}class r_{constructor(e){this.persistence=e,this.ti=new n_,this.ni=null}static ri(e){return new r_(e)}get ii(){if(this.ni)return this.ni;throw ze()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),be.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),be.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),be.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.ii,r=>{const s=Pe.fromPath(r);return this.si(e,s).next(o=>{o||n.removeEntry(s,Fe.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return be.or([()=>be.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class ap{constructor(e,n){this.persistence=e,this.oi=new Go(r=>i3(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=m6(this,n)}static ri(e,n){return new ap(e,n)}Zr(){}Xr(e){return be.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return be.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(o=>o?be.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.qr(e,c=>this.ar(e,c,n).next(d=>{d||(r++,o.removeEntry(c,Fe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),be.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),be.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),be.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),be.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Mf(e.data.value)),n}ar(e,n,r){return be.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.oi.get(n);return be.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=s}static Yi(e,n){let r=et(),s=et();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new i_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return dM()?8:n3(zn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.rs(e,n).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.ss(e,n,s,r).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new C6;return this._s(e,n,c).next(d=>{if(o.result=d,this.Xi)return this.us(e,n,c,d.size)})}).next(()=>o.result)}us(e,n,r,s){return r.documentReadCount<this.es?(Ul()<=Ze.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",zl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),be.resolve()):(Ul()<=Ze.DEBUG&&Ne("QueryEngine","Query:",zl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(Ul()<=Ze.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",zl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ii(n))):be.resolve())}rs(e,n){if(SE(n))return be.resolve(null);let r=Ii(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=np(n,null,"F"),r=Ii(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const c=et(...o);return this.ns.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.cs(n,d);return this.ls(n,p,c,h.readTime)?this.rs(e,np(n,null,"F")):this.hs(e,p,n,h)}))})))}ss(e,n,r,s){return SE(n)||s.isEqual(Fe.min())?be.resolve(null):this.ns.getDocuments(e,r).next(o=>{const c=this.cs(n,o);return this.ls(n,c,r,s)?be.resolve(null):(Ul()<=Ze.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),zl(n)),this.hs(e,c,n,XP(s,id)).next(d=>d))})}cs(e,n){let r=new dn(IC(e));return n.forEach((s,o)=>{Up(e,o)&&(r=r.add(o))}),r}ls(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}_s(e,n,r){return Ul()<=Ze.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",zl(n)),this.ns.getDocumentsMatchingQuery(e,n,Aa.min(),r)}hs(e,n,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="LocalStore",N6=3e8;class R6{constructor(e,n,r,s){this.persistence=e,this.Ps=n,this.serializer=s,this.Ts=new zt(Ye),this.Is=new Go(o=>Q0(o),Y0),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new y6(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function O6(t,e,n,r){return new R6(t,e,n,r)}async function tk(t,e){const n=Ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const c=[],d=[];let h=et();for(const p of s){c.push(p.batchId);for(const _ of p.mutations)h=h.add(_.key)}for(const p of o){d.push(p.batchId);for(const _ of p.mutations)h=h.add(_.key)}return n.localDocuments.getDocuments(r,h).next(p=>({Rs:p,removedBatchIds:c,addedBatchIds:d}))})})}function I6(t,e){const n=Ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.ds.newChangeBuffer({trackRemovals:!0});return function(d,h,p,_){const S=p.batch,C=S.keys();let j=be.resolve();return C.forEach(P=>{j=j.next(()=>_.getEntry(h,P)).next(V=>{const U=p.docVersions.get(P);vt(U!==null),V.version.compareTo(U)<0&&(S.applyToRemoteDocument(V,p),V.isValidDocument()&&(V.setReadTime(p.commitVersion),_.addEntry(V)))})}),j.next(()=>d.mutationQueue.removeMutationBatch(h,S))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let h=et();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(h=h.add(d.batch.mutations[p].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function nk(t){const e=Ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function M6(t,e){const n=Ge(t),r=e.snapshotVersion;let s=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=n.ds.newChangeBuffer({trackRemovals:!0});s=n.Ts;const d=[];e.targetChanges.forEach((_,S)=>{const C=s.get(S);if(!C)return;d.push(n.Hr.removeMatchingKeys(o,_.removedDocuments,S).next(()=>n.Hr.addMatchingKeys(o,_.addedDocuments,S)));let j=C.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(S)!==null?j=j.withResumeToken(Nn.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):_.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(_.resumeToken,r)),s=s.insert(S,j),function(V,U,$){return V.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=N6?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(C,j,_)&&d.push(n.Hr.updateTargetData(o,j))});let h=xs(),p=et();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(o,_))}),d.push(j6(o,c,e.documentUpdates).next(_=>{h=_.Vs,p=_.fs})),!r.isEqual(Fe.min())){const _=n.Hr.getLastRemoteSnapshotVersion(o).next(S=>n.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));d.push(_)}return be.waitFor(d).next(()=>c.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,h,p)).next(()=>h)}).then(o=>(n.Ts=s,o))}function j6(t,e,n){let r=et(),s=et();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let c=xs();return n.forEach((d,h)=>{const p=o.get(d);h.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(d)),h.isNoDocument()&&h.version.isEqual(Fe.min())?(e.removeEntry(d,h.readTime),c=c.insert(d,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),c=c.insert(d,h)):Ne(s_,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",h.version)}),{Vs:c,fs:s}})}function D6(t,e){const n=Ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=G0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function P6(t,e){const n=Ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Hr.getTargetData(r,e).next(o=>o?(s=o,be.resolve(s)):n.Hr.allocateTargetId(r).next(c=>(s=new wa(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function By(t,e,n){const r=Ge(t),s=r.Ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,c=>r.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!bc(c))throw c;Ne(s_,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function DE(t,e,n){const r=Ge(t);let s=Fe.min(),o=et();return r.persistence.runTransaction("Execute query","readwrite",c=>function(h,p,_){const S=Ge(h),C=S.Is.get(_);return C!==void 0?be.resolve(S.Ts.get(C)):S.Hr.getTargetData(p,_)}(r,c,Ii(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(c,d.targetId).next(h=>{o=h})}).next(()=>r.Ps.getDocumentsMatchingQuery(c,e,n?s:Fe.min(),n?o:et())).next(d=>(L6(r,E3(e),d),{documents:d,gs:o})))}function L6(t,e,n){let r=t.Es.get(e)||Fe.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Es.set(e,r)}class PE{constructor(){this.activeTargetIds=N3()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class V6{constructor(){this.ho=new PE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new PE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="ConnectivityMonitor";class VE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ne(LE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Ne(LE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cf=null;function Fy(){return cf===null?cf=function(){return 268435456+Math.round(2147483648*Math.random())}():cf++,"0x"+cf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="RestConnection",z6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class B6{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===Zf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}So(e,n,r,s,o){const c=Fy(),d=this.bo(e,n.toUriEncodedString());Ne(Av,`Sending RPC '${e}' ${c}:`,d,r);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,s,o),this.vo(e,d,h,r).then(p=>(Ne(Av,`Received RPC '${e}' ${c}: `,p),p),p=>{throw ec(Av,`RPC '${e}' ${c} failed with error: `,p,"url: ",d,"request:",r),p})}Co(e,n,r,s,o,c){return this.So(e,n,r,s,o)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}bo(e,n){const r=z6[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn="WebChannelConnection";class q6 extends B6{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,s){const o=Fy();return new Promise((c,d)=>{const h=new aC;h.setWithCredentials(!0),h.listenOnce(oC.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case If.NO_ERROR:const _=h.getResponseJson();Ne(jn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(_)),c(_);break;case If.TIMEOUT:Ne(jn,`RPC '${e}' ${o} timed out`),d(new ke(ye.DEADLINE_EXCEEDED,"Request time out"));break;case If.HTTP_ERROR:const S=h.getStatus();if(Ne(jn,`RPC '${e}' ${o} failed with status:`,S,"response text:",h.getResponseText()),S>0){let C=h.getResponseJson();Array.isArray(C)&&(C=C[0]);const j=C==null?void 0:C.error;if(j&&j.status&&j.message){const P=function(U){const $=U.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf($)>=0?$:ye.UNKNOWN}(j.status);d(new ke(P,j.message))}else d(new ke(ye.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new ke(ye.UNAVAILABLE,"Connection failed."));break;default:ze()}}finally{Ne(jn,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(s);Ne(jn,`RPC '${e}' ${o} sending request:`,s),h.send(n,"POST",p,r,15)})}Wo(e,n,r){const s=Fy(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=uC(),d=cC(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const _=o.join("");Ne(jn,`Creating RPC '${e}' stream ${s}: ${_}`,h);const S=c.createWebChannel(_,h);let C=!1,j=!1;const P=new F6({Fo:U=>{j?Ne(jn,`Not sending because RPC '${e}' stream ${s} is closed:`,U):(C||(Ne(jn,`Opening RPC '${e}' stream ${s} transport.`),S.open(),C=!0),Ne(jn,`RPC '${e}' stream ${s} sending:`,U),S.send(U))},Mo:()=>S.close()}),V=(U,$,q)=>{U.listen($,X=>{try{q(X)}catch(te){setTimeout(()=>{throw te},0)}})};return V(S,zu.EventType.OPEN,()=>{j||(Ne(jn,`RPC '${e}' stream ${s} transport opened.`),P.Qo())}),V(S,zu.EventType.CLOSE,()=>{j||(j=!0,Ne(jn,`RPC '${e}' stream ${s} transport closed`),P.Uo())}),V(S,zu.EventType.ERROR,U=>{j||(j=!0,ec(jn,`RPC '${e}' stream ${s} transport errored:`,U),P.Uo(new ke(ye.UNAVAILABLE,"The operation could not be completed")))}),V(S,zu.EventType.MESSAGE,U=>{var $;if(!j){const q=U.data[0];vt(!!q);const X=q,te=(X==null?void 0:X.error)||(($=X[0])===null||$===void 0?void 0:$.error);if(te){Ne(jn,`RPC '${e}' stream ${s} received error:`,te);const z=te.status;let K=function(A){const x=nn[A];if(x!==void 0)return qC(x)}(z),M=te.message;K===void 0&&(K=ye.INTERNAL,M="Unknown error status: "+z+" with message "+te.message),j=!0,P.Uo(new ke(K,M)),S.close()}else Ne(jn,`RPC '${e}' stream ${s} received:`,q),P.Ko(q)}}),V(d,lC.STAT_EVENT,U=>{U.stat===Ry.PROXY?Ne(jn,`RPC '${e}' stream ${s} detected buffering proxy`):U.stat===Ry.NOPROXY&&Ne(jn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{P.$o()},0),P}}function Cv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(t){return new W3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,n,r=1e3,s=1.5,o=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=s,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,n-r);s>0&&Ne("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="PersistentStream";class ik{constructor(e,n,r,s,o,c,d,h){this.Ti=e,this.n_=r,this.r_=s,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new rk(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ye.RESOURCE_EXHAUSTED?(Ts(n.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===n&&this.V_(r,s)},r=>{e(()=>{const s=new ke(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Ne(UE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(Ne(UE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class H6 extends ik{constructor(e,n,r,s,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,c),this.serializer=o}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=Y3(this.serializer,e),r=function(o){if(!("targetChange"in o))return Fe.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Fe.min():c.readTime?Mi(c.readTime):Fe.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=zy(this.serializer),n.addTarget=function(o,c){let d;const h=c.target;if(d=Dy(h)?{documents:Z3(o,h)}:{query:e6(o,h).ht},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=GC(o,c.resumeToken);const p=Ly(o,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Fe.min())>0){d.readTime=sp(o,c.snapshotVersion.toTimestamp());const p=Ly(o,c.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const r=n6(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=zy(this.serializer),n.removeTarget=e,this.I_(n)}}class $6 extends ik{constructor(e,n,r,s,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,c),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return vt(!!e.streamToken),this.lastStreamToken=e.streamToken,vt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=J3(e.writeResults,e.commitTime),r=Mi(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=zy(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>X3(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{}class W6 extends G6{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new ke(ye.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.So(e,Vy(n,r),s,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ke(ye.UNKNOWN,o.toString())})}Co(e,n,r,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(e,Vy(n,r),s,c,d,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ke(ye.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class K6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ts(n),this.N_=!1):Ne("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo="RemoteStore";class Q6{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(c=>{r.enqueueAndForget(async()=>{Wo(this)&&(Ne(jo,"Restarting streams for network reachability change."),await async function(h){const p=Ge(h);p.W_.add(4),await Td(p),p.j_.set("Unknown"),p.W_.delete(4),await Hp(p)}(this))})}),this.j_=new K6(r,s)}}async function Hp(t){if(Wo(t))for(const e of t.G_)await e(!0)}async function Td(t){for(const e of t.G_)await e(!1)}function sk(t,e){const n=Ge(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),c_(n)?l_(n):Sc(n).c_()&&o_(n,e))}function a_(t,e){const n=Ge(t),r=Sc(n);n.K_.delete(e),r.c_()&&ak(n,e),n.K_.size===0&&(r.c_()?r.P_():Wo(n)&&n.j_.set("Unknown"))}function o_(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Sc(t).y_(e)}function ak(t,e){t.H_.Ne(e),Sc(t).w_(e)}function l_(t){t.H_=new q3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Sc(t).start(),t.j_.B_()}function c_(t){return Wo(t)&&!Sc(t).u_()&&t.K_.size>0}function Wo(t){return Ge(t).W_.size===0}function ok(t){t.H_=void 0}async function Y6(t){t.j_.set("Online")}async function X6(t){t.K_.forEach((e,n)=>{o_(t,e)})}async function J6(t,e){ok(t),c_(t)?(t.j_.q_(e),l_(t)):t.j_.set("Unknown")}async function Z6(t,e,n){if(t.j_.set("Online"),e instanceof $C&&e.state===2&&e.cause)try{await async function(s,o){const c=o.cause;for(const d of o.targetIds)s.K_.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s.K_.delete(d),s.H_.removeTarget(d))}(t,e)}catch(r){Ne(jo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await op(t,r)}else if(e instanceof Pf?t.H_.We(e):e instanceof HC?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Fe.min()))try{const r=await nk(t.localStore);n.compareTo(r)>=0&&await function(o,c){const d=o.H_.ot(c);return d.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const _=o.K_.get(p);_&&o.K_.set(p,_.withResumeToken(h.resumeToken,c))}}),d.targetMismatches.forEach((h,p)=>{const _=o.K_.get(h);if(!_)return;o.K_.set(h,_.withResumeToken(Nn.EMPTY_BYTE_STRING,_.snapshotVersion)),ak(o,h);const S=new wa(_.target,h,p,_.sequenceNumber);o_(o,S)}),o.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(r){Ne(jo,"Failed to raise snapshot:",r),await op(t,r)}}async function op(t,e,n){if(!bc(e))throw e;t.W_.add(1),await Td(t),t.j_.set("Offline"),n||(n=()=>nk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ne(jo,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Hp(t)})}function lk(t,e){return e().catch(n=>op(t,n,e))}async function $p(t){const e=Ge(t),n=Ra(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:G0;for(;e5(e);)try{const s=await D6(e.localStore,r);if(s===null){e.U_.length===0&&n.P_();break}r=s.batchId,t5(e,s)}catch(s){await op(e,s)}ck(e)&&uk(e)}function e5(t){return Wo(t)&&t.U_.length<10}function t5(t,e){t.U_.push(e);const n=Ra(t);n.c_()&&n.S_&&n.b_(e.mutations)}function ck(t){return Wo(t)&&!Ra(t).u_()&&t.U_.length>0}function uk(t){Ra(t).start()}async function n5(t){Ra(t).C_()}async function r5(t){const e=Ra(t);for(const n of t.U_)e.b_(n.mutations)}async function i5(t,e,n){const r=t.U_.shift(),s=Z0.from(r,e,n);await lk(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await $p(t)}async function s5(t,e){e&&Ra(t).S_&&await async function(r,s){if(function(c){return B3(c)&&c!==ye.ABORTED}(s.code)){const o=r.U_.shift();Ra(r).h_(),await lk(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await $p(r)}}(t,e),ck(t)&&uk(t)}async function zE(t,e){const n=Ge(t);n.asyncQueue.verifyOperationInProgress(),Ne(jo,"RemoteStore received new credentials");const r=Wo(n);n.W_.add(3),await Td(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Hp(n)}async function a5(t,e){const n=Ge(t);e?(n.W_.delete(2),await Hp(n)):e||(n.W_.add(2),await Td(n),n.j_.set("Unknown"))}function Sc(t){return t.J_||(t.J_=function(n,r,s){const o=Ge(n);return o.M_(),new H6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{xo:Y6.bind(null,t),No:X6.bind(null,t),Lo:J6.bind(null,t),p_:Z6.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),c_(t)?l_(t):t.j_.set("Unknown")):(await t.J_.stop(),ok(t))})),t.J_}function Ra(t){return t.Y_||(t.Y_=function(n,r,s){const o=Ge(n);return o.M_(),new $6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:n5.bind(null,t),Lo:s5.bind(null,t),D_:r5.bind(null,t),v_:i5.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await $p(t)):(await t.Y_.stop(),t.U_.length>0&&(Ne(jo,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new _s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const c=Date.now()+r,d=new u_(e,n,c,s,o);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ke(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function d_(t,e){if(Ts("AsyncQueue",`${e}: ${t}`),bc(t))return new ke(ye.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{static emptySet(e){return new Kl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Pe.comparator(n.key,r.key):(n,r)=>Pe.comparator(n.key,r.key),this.keyedMap=Bu(),this.sortedSet=new zt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Kl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Kl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(){this.Z_=new zt(Pe.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):ze():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class sc{constructor(e,n,r,s,o,c,d,h,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,o){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new sc(e,n,Kl.emptySet(n),c,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class l5{constructor(){this.queries=FE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const s=Ge(n),o=s.queries;s.queries=FE(),o.forEach((c,d)=>{for(const h of d.ta)h.onError(r)})})(this,new ke(ye.ABORTED,"Firestore shutting down"))}}function FE(){return new Go(t=>OC(t),Vp)}async function h_(t,e){const n=Ge(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.na()&&e.ra()&&(r=2):(o=new o5,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await n.onListen(s,!0);break;case 1:o.ea=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(c){const d=d_(c,`Initialization of query '${zl(e.query)}' failed`);return void e.onError(d)}n.queries.set(s,o),o.ta.push(e),e.sa(n.onlineState),o.ea&&e.oa(o.ea)&&p_(n)}async function f_(t,e){const n=Ge(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const c=o.ta.indexOf(e);c>=0&&(o.ta.splice(c,1),o.ta.length===0?s=e.ra()?0:1:!o.na()&&e.ra()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function c5(t,e){const n=Ge(t);let r=!1;for(const s of e){const o=s.query,c=n.queries.get(o);if(c){for(const d of c.ta)d.oa(s)&&(r=!0);c.ea=s}}r&&p_(n)}function u5(t,e,n){const r=Ge(t),s=r.queries.get(e);if(s)for(const o of s.ta)o.onError(n);r.queries.delete(e)}function p_(t){t.ia.forEach(e=>{e.next()})}var qy,qE;(qE=qy||(qy={}))._a="default",qE.Cache="cache";class m_{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new sc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=sc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==qy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e){this.key=e}}class hk{constructor(e){this.key=e}}class d5{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=et(),this.mutatedKeys=et(),this.ya=IC(e),this.wa=new Kl(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new BE,s=n?n.wa:this.wa;let o=n?n.mutatedKeys:this.mutatedKeys,c=s,d=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((_,S)=>{const C=s.get(_),j=Up(this.query,S)?S:null,P=!!C&&this.mutatedKeys.has(C.key),V=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let U=!1;C&&j?C.data.isEqual(j.data)?P!==V&&(r.track({type:3,doc:j}),U=!0):this.va(C,j)||(r.track({type:2,doc:j}),U=!0,(h&&this.ya(j,h)>0||p&&this.ya(j,p)<0)&&(d=!0)):!C&&j?(r.track({type:0,doc:j}),U=!0):C&&!j&&(r.track({type:1,doc:C}),U=!0,(h||p)&&(d=!0)),U&&(j?(c=c.add(j),o=V?o.add(_):o.delete(_)):(c=c.delete(_),o=o.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),o=o.delete(_.key),r.track({type:1,doc:_})}return{wa:c,Da:r,ls:d,mutatedKeys:o}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((_,S)=>function(j,P){const V=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze()}};return V(j)-V(P)}(_.type,S.type)||this.ya(_.doc,S.doc)),this.Ca(r),s=s!=null&&s;const d=n&&!s?this.Fa():[],h=this.pa.size===0&&this.current&&!s?1:0,p=h!==this.ga;return this.ga=h,c.length!==0||p?{snapshot:new sc(this.query,e.wa,o,c,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new BE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=et(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new hk(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new dk(r))}),n}Oa(e){this.fa=e.gs,this.pa=et();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return sc.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const g_="SyncEngine";class h5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class f5{constructor(e){this.key=e,this.Ba=!1}}class p5{constructor(e,n,r,s,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new Go(d=>OC(d),Vp),this.qa=new Map,this.Qa=new Set,this.$a=new zt(Pe.comparator),this.Ua=new Map,this.Ka=new n_,this.Wa={},this.Ga=new Map,this.za=ic.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function m5(t,e,n=!0){const r=yk(t);let s;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.Na()):s=await fk(r,e,n,!0),s}async function g5(t,e){const n=yk(t);await fk(n,e,!0,!1)}async function fk(t,e,n,r){const s=await P6(t.localStore,Ii(e)),o=s.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let d;return r&&(d=await v5(t,e,o,c==="current",s.resumeToken)),t.isPrimaryClient&&n&&sk(t.remoteStore,s),d}async function v5(t,e,n,r,s){t.Ha=(S,C,j)=>async function(V,U,$,q){let X=U.view.ba($);X.ls&&(X=await DE(V.localStore,U.query,!1).then(({documents:M})=>U.view.ba(M,X)));const te=q&&q.targetChanges.get(U.targetId),z=q&&q.targetMismatches.get(U.targetId)!=null,K=U.view.applyChanges(X,V.isPrimaryClient,te,z);return $E(V,U.targetId,K.Ma),K.snapshot}(t,S,C,j);const o=await DE(t.localStore,e,!0),c=new d5(e,o.gs),d=c.ba(o.documents),h=Ed.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=c.applyChanges(d,t.isPrimaryClient,h);$E(t,n,p.Ma);const _=new h5(e,n,c);return t.ka.set(e,_),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),p.snapshot}async function y5(t,e,n){const r=Ge(t),s=r.ka.get(e),o=r.qa.get(s.targetId);if(o.length>1)return r.qa.set(s.targetId,o.filter(c=>!Vp(c,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await By(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&a_(r.remoteStore,s.targetId),Hy(r,s.targetId)}).catch(_c)):(Hy(r,s.targetId),await By(r.localStore,s.targetId,!0))}async function _5(t,e){const n=Ge(t),r=n.ka.get(e),s=n.qa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),a_(n.remoteStore,r.targetId))}async function b5(t,e,n){const r=C5(t);try{const s=await function(c,d){const h=Ge(c),p=un.now(),_=d.reduce((j,P)=>j.add(P.key),et());let S,C;return h.persistence.runTransaction("Locally write mutations","readwrite",j=>{let P=xs(),V=et();return h.ds.getEntries(j,_).next(U=>{P=U,P.forEach(($,q)=>{q.isValidDocument()||(V=V.add($))})}).next(()=>h.localDocuments.getOverlayedDocuments(j,P)).next(U=>{S=U;const $=[];for(const q of d){const X=P3(q,S.get(q.key).overlayedDocument);X!=null&&$.push(new La(q.key,X,EC(X.value.mapValue),ir.exists(!0)))}return h.mutationQueue.addMutationBatch(j,p,$,d)}).next(U=>{C=U;const $=U.applyToLocalDocumentSet(S,V);return h.documentOverlayCache.saveOverlays(j,U.batchId,$)})}).then(()=>({batchId:C.batchId,changes:jC(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(c,d,h){let p=c.Wa[c.currentUser.toKey()];p||(p=new zt(Ye)),p=p.insert(d,h),c.Wa[c.currentUser.toKey()]=p}(r,s.batchId,n),await xd(r,s.changes),await $p(r.remoteStore)}catch(s){const o=d_(s,"Failed to persist write");n.reject(o)}}async function pk(t,e){const n=Ge(t);try{const r=await M6(n.localStore,e);e.targetChanges.forEach((s,o)=>{const c=n.Ua.get(o);c&&(vt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.Ba=!0:s.modifiedDocuments.size>0?vt(c.Ba):s.removedDocuments.size>0&&(vt(c.Ba),c.Ba=!1))}),await xd(n,r,e)}catch(r){await _c(r)}}function HE(t,e,n){const r=Ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ka.forEach((o,c)=>{const d=c.view.sa(e);d.snapshot&&s.push(d.snapshot)}),function(c,d){const h=Ge(c);h.onlineState=d;let p=!1;h.queries.forEach((_,S)=>{for(const C of S.ta)C.sa(d)&&(p=!0)}),p&&p_(h)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function w5(t,e,n){const r=Ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ua.get(e),o=s&&s.key;if(o){let c=new zt(Pe.comparator);c=c.insert(o,Pn.newNoDocument(o,Fe.min()));const d=et().add(o),h=new Fp(Fe.min(),new Map,new zt(Ye),c,d);await pk(r,h),r.$a=r.$a.remove(o),r.Ua.delete(e),v_(r)}else await By(r.localStore,e,!1).then(()=>Hy(r,e,n)).catch(_c)}async function S5(t,e){const n=Ge(t),r=e.batch.batchId;try{const s=await I6(n.localStore,e);gk(n,r,null),mk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xd(n,s)}catch(s){await _c(s)}}async function E5(t,e,n){const r=Ge(t);try{const s=await function(c,d){const h=Ge(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return h.mutationQueue.lookupMutationBatch(p,d).next(S=>(vt(S!==null),_=S.keys(),h.mutationQueue.removeMutationBatch(p,S))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,_,d)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>h.localDocuments.getDocuments(p,_))})}(r.localStore,e);gk(r,e,n),mk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xd(r,s)}catch(s){await _c(s)}}function mk(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function gk(t,e,n){const r=Ge(t);let s=r.Wa[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function Hy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||vk(t,r)})}function vk(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(a_(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),v_(t))}function $E(t,e,n){for(const r of n)r instanceof dk?(t.Ka.addReference(r.key,e),T5(t,r)):r instanceof hk?(Ne(g_,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||vk(t,r.key)):ze()}function T5(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(Ne(g_,"New document in limbo: "+n),t.Qa.add(r),v_(t))}function v_(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new Pe(Mt.fromString(e)),r=t.za.next();t.Ua.set(r,new f5(n)),t.$a=t.$a.insert(n,r),sk(t.remoteStore,new wa(Ii(Lp(n.path)),r,"TargetPurposeLimboResolution",jp.ae))}}async function xd(t,e,n){const r=Ge(t),s=[],o=[],c=[];r.ka.isEmpty()||(r.ka.forEach((d,h)=>{c.push(r.Ha(h,e,n).then(p=>{var _;if((p||n)&&r.isPrimaryClient){const S=p?!p.fromCache:(_=n==null?void 0:n.targetChanges.get(h.targetId))===null||_===void 0?void 0:_.current;r.sharedClientState.updateQueryState(h.targetId,S?"current":"not-current")}if(p){s.push(p);const S=i_.Yi(h.targetId,p);o.push(S)}}))}),await Promise.all(c),r.La.p_(s),await async function(h,p){const _=Ge(h);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>be.forEach(p,C=>be.forEach(C.Hi,j=>_.persistence.referenceDelegate.addReference(S,C.targetId,j)).next(()=>be.forEach(C.Ji,j=>_.persistence.referenceDelegate.removeReference(S,C.targetId,j)))))}catch(S){if(!bc(S))throw S;Ne(s_,"Failed to update sequence numbers: "+S)}for(const S of p){const C=S.targetId;if(!S.fromCache){const j=_.Ts.get(C),P=j.snapshotVersion,V=j.withLastLimboFreeSnapshotVersion(P);_.Ts=_.Ts.insert(C,V)}}}(r.localStore,o))}async function x5(t,e){const n=Ge(t);if(!n.currentUser.isEqual(e)){Ne(g_,"User change. New user:",e.toKey());const r=await tk(n.localStore,e);n.currentUser=e,function(o,c){o.Ga.forEach(d=>{d.forEach(h=>{h.reject(new ke(ye.CANCELLED,c))})}),o.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xd(n,r.Rs)}}function A5(t,e){const n=Ge(t),r=n.Ua.get(e);if(r&&r.Ba)return et().add(r.key);{let s=et();const o=n.qa.get(e);if(!o)return s;for(const c of o){const d=n.ka.get(c);s=s.unionWith(d.view.Sa)}return s}}function yk(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=A5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=w5.bind(null,e),e.La.p_=c5.bind(null,e.eventManager),e.La.Ja=u5.bind(null,e.eventManager),e}function C5(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=S5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=E5.bind(null,e),e}class lp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qp(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return O6(this.persistence,new k6,e.initialUser,this.serializer)}Xa(e){return new ek(r_.ri,this.serializer)}Za(e){return new V6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lp.provider={build:()=>new lp};class k5 extends lp{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){vt(this.persistence.referenceDelegate instanceof ap);const r=this.persistence.referenceDelegate.garbageCollector;return new f6(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?er.withCacheSize(this.cacheSizeBytes):er.DEFAULT;return new ek(r=>ap.ri(r,n),this.serializer)}}class $y{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>HE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=x5.bind(null,this.syncEngine),await a5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new l5}()}createDatastore(e){const n=qp(e.databaseInfo.databaseId),r=function(o){return new q6(o)}(e.databaseInfo);return function(o,c,d,h){return new W6(o,c,d,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,c,d){return new Q6(r,s,o,c,d)}(this.localStore,this.datastore,e.asyncQueue,n=>HE(this.syncEngine,n,0),function(){return VE.D()?new VE:new U6}())}createSyncEngine(e,n){return function(s,o,c,d,h,p,_){const S=new p5(s,o,c,d,h,p);return _&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=Ge(s);Ne(jo,"RemoteStore shutting down."),o.W_.add(5),await Td(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}$y.provider={build:()=>new $y};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ts("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="FirestoreClient";class N5{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Dn.UNAUTHENTICATED,this.clientId=fC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async c=>{Ne(Oa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(Ne(Oa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=d_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function kv(t,e){t.asyncQueue.verifyOperationInProgress(),Ne(Oa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await tk(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function GE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await R5(t);Ne(Oa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>zE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>zE(e.remoteStore,s)),t._onlineComponents=e}async function R5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ne(Oa,"Using user provided OfflineComponentProvider");try{await kv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ye.FAILED_PRECONDITION||s.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ec("Error using user provided cache. Falling back to memory cache: "+n),await kv(t,new lp)}}else Ne(Oa,"Using default OfflineComponentProvider"),await kv(t,new k5(void 0));return t._offlineComponents}async function _k(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ne(Oa,"Using user provided OnlineComponentProvider"),await GE(t,t._uninitializedComponentsProvider._online)):(Ne(Oa,"Using default OnlineComponentProvider"),await GE(t,new $y))),t._onlineComponents}function O5(t){return _k(t).then(e=>e.syncEngine)}async function cp(t){const e=await _k(t),n=e.eventManager;return n.onListen=m5.bind(null,e.syncEngine),n.onUnlisten=y5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=g5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_5.bind(null,e.syncEngine),n}function I5(t,e,n={}){const r=new _s;return t.asyncQueue.enqueueAndForget(async()=>function(o,c,d,h,p){const _=new y_({next:C=>{_.su(),c.enqueueAndForget(()=>f_(o,S));const j=C.docs.has(d);!j&&C.fromCache?p.reject(new ke(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&C.fromCache&&h&&h.source==="server"?p.reject(new ke(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(C)},error:C=>p.reject(C)}),S=new m_(Lp(d.path),_,{includeMetadataChanges:!0,Ta:!0});return h_(o,S)}(await cp(t),t.asyncQueue,e,n,r)),r.promise}function M5(t,e,n={}){const r=new _s;return t.asyncQueue.enqueueAndForget(async()=>function(o,c,d,h,p){const _=new y_({next:C=>{_.su(),c.enqueueAndForget(()=>f_(o,S)),C.fromCache&&h.source==="server"?p.reject(new ke(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(C)},error:C=>p.reject(C)}),S=new m_(d,_,{includeMetadataChanges:!0,Ta:!0});return h_(o,S)}(await cp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(t,e,n){if(!n)throw new ke(ye.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function j5(t,e,n,r){if(e===!0&&r===!0)throw new ke(ye.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function KE(t){if(!Pe.isDocumentKey(t))throw new ke(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function QE(t){if(Pe.isDocumentKey(t))throw new ke(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Gp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ze()}function sr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ke(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gp(t);throw new ke(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk="firestore.googleapis.com",YE=!0;class XE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ke(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Sk,this.ssl=YE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:YE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ZC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<d6)throw new ke(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}j5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ke(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ke(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ke(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wp{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ke(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ke(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new FP;switch(r.type){case"firstParty":return new GP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ke(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=WE.get(n);r&&(Ne("ComponentProvider","Removing Datastore"),WE.delete(n),r.terminate())}(this),Promise.resolve()}}function D5(t,e,n,r={}){var s;const o=(t=sr(t,Wp))._getSettings(),c=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;o.host!==Sk&&o.host!==d&&ec("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},o),{host:d,ssl:!1,emulatorOptions:r});if(!Ro(h,c)&&(t._setSettings(h),r.mockUserToken)){let p,_;if(typeof r.mockUserToken=="string")p=r.mockUserToken,_=Dn.MOCK_USER;else{p=iM(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new ke(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Dn(S)}t._authCredentials=new qP(new dC(p,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ns(this.firestore,e,this._query)}}class Vn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vn(this.firestore,e,this._key)}}class xa extends Ns{constructor(e,n,r){super(e,n,Lp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new Pe(e))}withConverter(e){return new xa(this.firestore,e,this._path)}}function At(t,e,...n){if(t=wt(t),wk("collection","path",e),t instanceof Wp){const r=Mt.fromString(e,...n);return QE(r),new xa(t,null,r)}{if(!(t instanceof Vn||t instanceof xa))throw new ke(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Mt.fromString(e,...n));return QE(r),new xa(t.firestore,null,r)}}function jt(t,e,...n){if(t=wt(t),arguments.length===1&&(e=fC.newId()),wk("doc","path",e),t instanceof Wp){const r=Mt.fromString(e,...n);return KE(r),new Vn(t,null,new Pe(r))}{if(!(t instanceof Vn||t instanceof xa))throw new ke(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Mt.fromString(e,...n));return KE(r),new Vn(t.firestore,t instanceof xa?t.converter:null,new Pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="AsyncQueue";class ZE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new rk(this,"async_queue_retry"),this.Su=()=>{const r=Cv();r&&Ne(JE,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=Cv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Cv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new _s;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!bc(e))throw e;Ne(JE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(r);throw Ts("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const s=u_.createAndSchedule(this,e,n,r,o=>this.Fu(o));return this.fu.push(s),s}Du(){this.gu&&ze()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function eT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1}(t,["next","error","complete"])}class As extends Wp{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new ZE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ZE(e),this._firestoreClient=void 0,await e}}}function P5(t,e){const n=typeof t=="object"?t:j0(),r=typeof t=="string"?t:Zf,s=gc(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=nM("firestore");o&&D5(s,...o)}return s}function Ad(t){if(t._terminated)throw new ke(ye.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||L5(t),t._firestoreClient}function L5(t){var e,n,r;const s=t._freezeSettings(),o=function(d,h,p,_){return new o3(d,h,p,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,bk(_.experimentalLongPollingOptions),_.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new N5(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(d){const h=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ac(Nn.fromBase64String(e))}catch(n){throw new ke(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ac(Nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ke(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ke(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ke(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5=/^__.*__$/;class U5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new La(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sd(e,this.data,n,this.fieldTransforms)}}class Ek{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new La(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Tk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze()}}class S_{constructor(e,n,r,s,o,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new S_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return up(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Tk(this.Lu)&&V5.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class z5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qp(e)}ju(e,n,r,s=!1){return new S_({Lu:e,methodName:n,zu:r,path:kn.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kd(t){const e=t._freezeSettings(),n=qp(t._databaseId);return new z5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function E_(t,e,n,r,s,o={}){const c=t.ju(o.merge||o.mergeFields?2:0,e,n,s);T_("Data must be an object, but it was:",c,r);const d=Ck(r,c);let h,p;if(o.merge)h=new mr(c.fieldMask),p=c.fieldTransforms;else if(o.mergeFields){const _=[];for(const S of o.mergeFields){const C=Gy(e,S,n);if(!c.contains(C))throw new ke(ye.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);Nk(_,C)||_.push(C)}h=new mr(_),p=c.fieldTransforms.filter(S=>h.covers(S.field))}else h=null,p=c.fieldTransforms;return new U5(new nr(d),h,p)}class Kp extends __{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kp}}function xk(t,e,n,r){const s=t.ju(1,e,n);T_("Data must be an object, but it was:",s,r);const o=[],c=nr.empty();Pa(r,(h,p)=>{const _=x_(e,h,n);p=wt(p);const S=s.Uu(_);if(p instanceof Kp)o.push(_);else{const C=Nd(p,S);C!=null&&(o.push(_),c.set(_,C))}});const d=new mr(o);return new Ek(c,d,s.fieldTransforms)}function Ak(t,e,n,r,s,o){const c=t.ju(1,e,n),d=[Gy(e,r,n)],h=[s];if(o.length%2!=0)throw new ke(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<o.length;C+=2)d.push(Gy(e,o[C])),h.push(o[C+1]);const p=[],_=nr.empty();for(let C=d.length-1;C>=0;--C)if(!Nk(p,d[C])){const j=d[C];let P=h[C];P=wt(P);const V=c.Uu(j);if(P instanceof Kp)p.push(j);else{const U=Nd(P,V);U!=null&&(p.push(j),_.set(j,U))}}const S=new mr(p);return new Ek(_,S,c.fieldTransforms)}function B5(t,e,n,r=!1){return Nd(n,t.ju(r?4:3,e))}function Nd(t,e){if(kk(t=wt(t)))return T_("Unsupported field value:",e,t),Ck(t,e);if(t instanceof __)return function(r,s){if(!Tk(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const o=[];let c=0;for(const d of r){let h=Nd(d,s.Ku(c));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),c++}return{arrayValue:{values:o}}}(t,e)}return function(r,s){if((r=wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return R3(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=un.fromDate(r);return{timestampValue:sp(s.serializer,o)}}if(r instanceof un){const o=new un(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sp(s.serializer,o)}}if(r instanceof b_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ac)return{bytesValue:GC(s.serializer,r._byteString)};if(r instanceof Vn){const o=s.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw s.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:t_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof w_)return function(c,d){return{mapValue:{fields:{[wC]:{stringValue:SC},[ep]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.Wu("VectorValues must only contain numeric values.");return X0(d.serializer,p)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${Gp(r)}`)}(t,e)}function Ck(t,e){const n={};return mC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pa(t,(r,s)=>{const o=Nd(s,e.qu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function kk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof un||t instanceof b_||t instanceof ac||t instanceof Vn||t instanceof __||t instanceof w_)}function T_(t,e,n){if(!kk(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Gp(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function Gy(t,e,n){if((e=wt(e))instanceof Cd)return e._internalPath;if(typeof e=="string")return x_(t,e);throw up("Field path arguments must be of type string or ",t,!1,void 0,n)}const F5=new RegExp("[~\\*/\\[\\]]");function x_(t,e,n){if(e.search(F5)>=0)throw up(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cd(...e.split("."))._internalPath}catch{throw up(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function up(t,e,n,r,s){const o=r&&!r.isEmpty(),c=s!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(o||c)&&(h+=" (found",o&&(h+=` in field ${r}`),c&&(h+=` in document ${s}`),h+=")"),new ke(ye.INVALID_ARGUMENT,d+t+h)}function Nk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new q5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Qp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class q5 extends Rk{data(){return super.data()}}function Qp(t,e){return typeof e=="string"?x_(t,e):e instanceof Cd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ke(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class A_{}class C_ extends A_{}function $t(t,e,...n){let r=[];e instanceof A_&&r.push(e),r=r.concat(n),function(o){const c=o.filter(h=>h instanceof k_).length,d=o.filter(h=>h instanceof Yp).length;if(c>1||c>0&&d>0)throw new ke(ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Yp extends C_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Yp(e,n,r)}_apply(e){const n=this._parse(e);return Ik(e._query,n),new Ns(e.firestore,e.converter,Py(e._query,n))}_parse(e){const n=kd(e.firestore);return function(o,c,d,h,p,_,S){let C;if(p.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ke(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){nT(S,_);const P=[];for(const V of S)P.push(tT(h,o,V));C={arrayValue:{values:P}}}else C=tT(h,o,S)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||nT(S,_),C=B5(d,c,S,_==="in"||_==="not-in");return rn.create(p,_,C)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ct(t,e,n){const r=e,s=Qp("where",t);return Yp._create(s,r,n)}class k_ extends A_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new k_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ii.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let c=s;const d=o.getFlattenedFilters();for(const h of d)Ik(c,h),c=Py(c,h)}(e._query,n),new Ns(e.firestore,e.converter,Py(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class N_ extends C_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new N_(e,n)}_apply(e){const n=function(s,o,c){if(s.startAt!==null)throw new ke(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ke(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ld(o,c)}(e._query,this._field,this._direction);return new Ns(e.firestore,e.converter,function(s,o){const c=s.explicitOrderBy.concat([o]);return new wc(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Xp(t,e="asc"){const n=e,r=Qp("orderBy",t);return N_._create(r,n)}class R_ extends C_{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new R_(e,n,r)}_apply(e){return new Ns(e.firestore,e.converter,np(e._query,this._limit,this._limitType))}}function H5(t){return R_._create("limit",t,"F")}function tT(t,e,n){if(typeof(n=wt(n))=="string"){if(n==="")throw new ke(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RC(e)&&n.indexOf("/")!==-1)throw new ke(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Mt.fromString(n));if(!Pe.isDocumentKey(r))throw new ke(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gE(t,new Pe(r))}if(n instanceof Vn)return gE(t,n._key);throw new ke(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gp(n)}.`)}function nT(t,e){if(!Array.isArray(t)||t.length===0)throw new ke(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ik(t,e){const n=function(s,o){for(const c of s)for(const d of c.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ke(ye.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ke(ye.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class $5{convertValue(e,n="none"){switch(Na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ka(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ze()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Pa(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,s;const o=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[ep].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(c=>Xt(c.doubleValue));return new w_(o)}convertGeoPoint(e){return new b_(Xt(e.latitude),Xt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Pp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sd(e));default:return null}}convertTimestamp(e){const n=Ca(e);return new un(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Mt.fromString(e);vt(JC(r));const s=new ad(r.get(1),r.get(3)),o=new Pe(r.popFirst(5));return s.isEqual(n)||Ts(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mk extends Rk{constructor(e,n,r,s,o,c){super(e,n,r,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Qp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Lf extends Mk{data(e={}){return super.data(e)}}class jk{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new qu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Lf(this._firestore,this._userDataWriter,r.key,r,new qu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ke(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(d=>{const h=new Lf(s._firestore,s._userDataWriter,d.doc.key,d.doc,new qu(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(d=>o||d.type!==3).map(d=>{const h=new Lf(s._firestore,s._userDataWriter,d.doc.key,d.doc,new qu(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,_=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:G5(d.type),doc:h,oldIndex:p,newIndex:_}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function G5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(t){t=sr(t,Vn);const e=sr(t.firestore,As);return I5(Ad(e),t._key).then(n=>Pk(e,t,n))}class I_ extends $5{constructor(e){super(),this.firestore=e}convertBytes(e){return new ac(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,n)}}function si(t){t=sr(t,Ns);const e=sr(t.firestore,As),n=Ad(e),r=new I_(e);return Ok(t._query),M5(n,t._query).then(s=>new jk(e,r,t,s))}function Dk(t,e,n){t=sr(t,Vn);const r=sr(t.firestore,As),s=O_(t.converter,e,n);return Jp(r,[E_(kd(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,ir.none())])}function Jr(t,e,n,...r){t=sr(t,Vn);const s=sr(t.firestore,As),o=kd(s);let c;return c=typeof(e=wt(e))=="string"||e instanceof Cd?Ak(o,"updateDoc",t._key,e,n,r):xk(o,"updateDoc",t._key,e),Jp(s,[c.toMutation(t._key,ir.exists(!0))])}function Ko(t,e){const n=sr(t.firestore,As),r=jt(t),s=O_(t.converter,e);return Jp(n,[E_(kd(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,ir.exists(!1))]).then(()=>r)}function ji(t,...e){var n,r,s;t=wt(t);let o={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||eT(e[c])||(o=e[c],c++);const d={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(eT(e[c])){const S=e[c];e[c]=(n=S.next)===null||n===void 0?void 0:n.bind(S),e[c+1]=(r=S.error)===null||r===void 0?void 0:r.bind(S),e[c+2]=(s=S.complete)===null||s===void 0?void 0:s.bind(S)}let h,p,_;if(t instanceof Vn)p=sr(t.firestore,As),_=Lp(t._key.path),h={next:S=>{e[c]&&e[c](Pk(p,t,S))},error:e[c+1],complete:e[c+2]};else{const S=sr(t,Ns);p=sr(S.firestore,As),_=S._query;const C=new I_(p);h={next:j=>{e[c]&&e[c](new jk(p,C,S,j))},error:e[c+1],complete:e[c+2]},Ok(t._query)}return function(C,j,P,V){const U=new y_(V),$=new m_(j,U,P);return C.asyncQueue.enqueueAndForget(async()=>h_(await cp(C),$)),()=>{U.su(),C.asyncQueue.enqueueAndForget(async()=>f_(await cp(C),$))}}(Ad(p),_,d,h)}function Jp(t,e){return function(r,s){const o=new _s;return r.asyncQueue.enqueueAndForget(async()=>b5(await O5(r),s,o)),o.promise}(Ad(t),e)}function Pk(t,e,n){const r=n.docs.get(e._key),s=new I_(t);return new Mk(t,s,e._key,r,new qu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=kd(e)}set(e,n,r){this._verifyNotCommitted();const s=Nv(e,this._firestore),o=O_(s.converter,n,r),c=E_(this._dataReader,"WriteBatch.set",s._key,o,s.converter!==null,r);return this._mutations.push(c.toMutation(s._key,ir.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const o=Nv(e,this._firestore);let c;return c=typeof(n=wt(n))=="string"||n instanceof Cd?Ak(this._dataReader,"WriteBatch.update",o._key,n,r,s):xk(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(c.toMutation(o._key,ir.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Nv(e,this._firestore);return this._mutations=this._mutations.concat(new J0(n._key,ir.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ke(ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Nv(t,e){if((t=wt(t)).firestore!==e)throw new ke(ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5(t){return Ad(t=sr(t,As)),new W5(t,e=>Jp(t,e))}(function(e,n=!0){(function(s){yc=s})(Ho),ni(new Br("firestore",(r,{instanceIdentifier:s,options:o})=>{const c=r.getProvider("app").getImmediate(),d=new As(new HP(r.getProvider("auth-internal")),new WP(c,r.getProvider("app-check-internal")),function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ke(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ad(p.options.projectId,_)}(c,s),c);return o=Object.assign({useFetchStreams:n},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),rr(iE,sE,e),rr(iE,sE,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk="firebasestorage.googleapis.com",Vk="storageBucket",Q5=2*60*1e3,Y5=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt extends li{constructor(e,n,r=0){super(Rv(e),`Firebase Storage: ${n} (${Rv(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Rv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Gt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Gt||(Gt={}));function Rv(t){return"storage/"+t}function M_(){const t="An unknown error occurred, please check the error payload for server response.";return new Wt(Gt.UNKNOWN,t)}function X5(t){return new Wt(Gt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function J5(t){return new Wt(Gt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Z5(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Wt(Gt.UNAUTHENTICATED,t)}function eL(){return new Wt(Gt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function tL(t){return new Wt(Gt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function nL(){return new Wt(Gt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function rL(){return new Wt(Gt.CANCELED,"User canceled the upload/download.")}function iL(t){return new Wt(Gt.INVALID_URL,"Invalid URL '"+t+"'.")}function sL(t){return new Wt(Gt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function aL(){return new Wt(Gt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Vk+"' property when initializing the app?")}function oL(){return new Wt(Gt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function lL(){return new Wt(Gt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function cL(t){return new Wt(Gt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Wy(t){return new Wt(Gt.INVALID_ARGUMENT,t)}function Uk(){return new Wt(Gt.APP_DELETED,"The Firebase app was deleted.")}function uL(t){return new Wt(Gt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Xu(t,e){return new Wt(Gt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Iu(t){throw new Wt(Gt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=gr.makeFromUrl(e,n)}catch{return new gr(e,"")}if(r.path==="")return r;throw sL(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(te){te.path.charAt(te.path.length-1)==="/"&&(te.path_=te.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+s+c,"i"),h={bucket:1,path:3};function p(te){te.path_=decodeURIComponent(te.path)}const _="v[A-Za-z0-9_]+",S=n.replace(/[.]/g,"\\."),C="(/([^?#]*).*)?$",j=new RegExp(`^https?://${S}/${_}/b/${s}/o${C}`,"i"),P={bucket:1,path:3},V=n===Lk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,U="([^?#]*)",$=new RegExp(`^https?://${V}/${s}/${U}`,"i"),X=[{regex:d,indices:h,postModify:o},{regex:j,indices:P,postModify:p},{regex:$,indices:{bucket:1,path:2},postModify:p}];for(let te=0;te<X.length;te++){const z=X[te],K=z.regex.exec(e);if(K){const M=K[z.indices.bucket];let O=K[z.indices.path];O||(O=""),r=new gr(M,O),z.postModify(r);break}}if(r==null)throw iL(e);return r}}class dL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(t,e,n){let r=1,s=null,o=null,c=!1,d=0;function h(){return d===2}let p=!1;function _(...U){p||(p=!0,e.apply(null,U))}function S(U){s=setTimeout(()=>{s=null,t(j,h())},U)}function C(){o&&clearTimeout(o)}function j(U,...$){if(p){C();return}if(U){C(),_.call(null,U,...$);return}if(h()||c){C(),_.call(null,U,...$);return}r<64&&(r*=2);let X;d===1?(d=2,X=0):X=(r+Math.random())*1e3,S(X)}let P=!1;function V(U){P||(P=!0,C(),!p&&(s!==null?(U||(d=2),clearTimeout(s),S(0)):U||(d=1)))}return S(0),o=setTimeout(()=>{c=!0,V(!0)},n),V}function fL(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(t){return t!==void 0}function mL(t){return typeof t=="object"&&!Array.isArray(t)}function j_(t){return typeof t=="string"||t instanceof String}function rT(t){return D_()&&t instanceof Blob}function D_(){return typeof Blob<"u"}function iT(t,e,n,r){if(r<e)throw Wy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Wy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function zk(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Ao;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ao||(Ao={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e,n,r,s,o,c,d,h,p,_,S,C=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=_,this.connectionFactory_=S,this.retry=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,P)=>{this.resolve_=j,this.reject_=P,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new uf(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=d=>{const h=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,p)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const d=o.getErrorCode()===Ao.NO_ERROR,h=o.getStatus();if(!d||gL(h,this.additionalRetryCodes_)&&this.retry){const _=o.getErrorCode()===Ao.ABORT;r(!1,new uf(!1,null,_));return}const p=this.successCodes_.indexOf(h)!==-1;r(!0,new uf(p,o))})},n=(r,s)=>{const o=this.resolve_,c=this.reject_,d=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(d,d.getResponse());pL(h)?o(h):o()}catch(h){c(h)}else if(d!==null){const h=M_();h.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,h)):c(h)}else if(s.canceled){const h=this.appDelete_?Uk():rL();c(h)}else{const h=nL();c(h)}};this.canceled_?n(!1,new uf(!1,null,!0)):this.backoffId_=hL(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&fL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class uf{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function yL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function _L(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function bL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function wL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function SL(t,e,n,r,s,o,c=!0){const d=zk(t.urlParams),h=t.url+d,p=Object.assign({},t.headers);return bL(p,e),yL(p,n),_L(p,o),wL(p,r),new vL(h,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function TL(...t){const e=EL();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(D_())return new Blob(t);throw new Wt(Gt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function xL(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(t){if(typeof atob>"u")throw cL("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ov{constructor(e,n){this.data=e,this.contentType=n||null}}function CL(t,e){switch(t){case Ni.RAW:return new Ov(Bk(e));case Ni.BASE64:case Ni.BASE64URL:return new Ov(Fk(t,e));case Ni.DATA_URL:return new Ov(NL(e),RL(e))}throw M_()}function Bk(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,c=t.charCodeAt(++n);r=65536|(o&1023)<<10|c&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function kL(t){let e;try{e=decodeURIComponent(t)}catch{throw Xu(Ni.DATA_URL,"Malformed data URL.")}return Bk(e)}function Fk(t,e){switch(t){case Ni.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw Xu(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Ni.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw Xu(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=AL(e)}catch(s){throw s.message.includes("polyfill")?s:Xu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class qk{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Xu(Ni.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=OL(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function NL(t){const e=new qk(t);return e.base64?Fk(Ni.BASE64,e.rest):kL(e.rest)}function RL(t){return new qk(t).contentType}function OL(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n){let r=0,s="";rT(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(rT(this.data_)){const r=this.data_,s=xL(r,e,n);return s===null?null:new ba(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ba(r,!0)}}static getBlob(...e){if(D_()){const n=e.map(r=>r instanceof ba?r.data_:r);return new ba(TL.apply(null,n))}else{const n=e.map(c=>j_(c)?CL(Ni.RAW,c).data:c.data_);let r=0;n.forEach(c=>{r+=c.byteLength});const s=new Uint8Array(r);let o=0;return n.forEach(c=>{for(let d=0;d<c.length;d++)s[o++]=c[d]}),new ba(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(t){let e;try{e=JSON.parse(t)}catch{return null}return mL(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function ML(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function $k(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(t,e){return e}class Wn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||jL}}let df=null;function DL(t){return!j_(t)||t.length<2?t:$k(t)}function Gk(){if(df)return df;const t=[];t.push(new Wn("bucket")),t.push(new Wn("generation")),t.push(new Wn("metageneration")),t.push(new Wn("name","fullPath",!0));function e(o,c){return DL(c)}const n=new Wn("name");n.xform=e,t.push(n);function r(o,c){return c!==void 0?Number(c):c}const s=new Wn("size");return s.xform=r,t.push(s),t.push(new Wn("timeCreated")),t.push(new Wn("updated")),t.push(new Wn("md5Hash",null,!0)),t.push(new Wn("cacheControl",null,!0)),t.push(new Wn("contentDisposition",null,!0)),t.push(new Wn("contentEncoding",null,!0)),t.push(new Wn("contentLanguage",null,!0)),t.push(new Wn("contentType",null,!0)),t.push(new Wn("metadata","customMetadata",!0)),df=t,df}function PL(t,e){function n(){const r=t.bucket,s=t.fullPath,o=new gr(r,s);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function LL(t,e,n){const r={};r.type="file";const s=n.length;for(let o=0;o<s;o++){const c=n[o];r[c.local]=c.xform(r,e[c.server])}return PL(r,t),r}function Wk(t,e,n){const r=Hk(e);return r===null?null:LL(t,r,n)}function VL(t,e,n,r){const s=Hk(e);if(s===null||!j_(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const c=encodeURIComponent;return o.split(",").map(p=>{const _=t.bucket,S=t.fullPath,C="/b/"+c(_)+"/o/"+c(S),j=P_(C,n,r),P=zk({alt:"media",token:p});return j+P})[0]}function UL(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const o=e[s];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class Kk{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(t){if(!t)throw M_()}function zL(t,e){function n(r,s){const o=Wk(t,s,e);return Qk(o!==null),o}return n}function BL(t,e){function n(r,s){const o=Wk(t,s,e);return Qk(o!==null),VL(o,s,t.host,t._protocol)}return n}function Yk(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=eL():s=Z5():n.getStatus()===402?s=J5(t.bucket):n.getStatus()===403?s=tL(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function FL(t){const e=Yk(t);function n(r,s){let o=e(r,s);return r.getStatus()===404&&(o=X5(t.path)),o.serverResponse=s.serverResponse,o}return n}function qL(t,e,n){const r=e.fullServerUrl(),s=P_(r,t.host,t._protocol),o="GET",c=t.maxOperationRetryTime,d=new Kk(s,o,BL(t,n),c);return d.errorHandler=FL(e),d}function HL(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function $L(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=HL(null,e)),r}function GL(t,e,n,r,s){const o=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let X="";for(let te=0;te<2;te++)X=X+Math.random().toString().slice(2);return X}const h=d();c["Content-Type"]="multipart/related; boundary="+h;const p=$L(e,r,s),_=UL(p,n),S="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+h+`\r
Content-Type: `+p.contentType+`\r
\r
`,C=`\r
--`+h+"--",j=ba.getBlob(S,r,C);if(j===null)throw oL();const P={name:p.fullPath},V=P_(o,t.host,t._protocol),U="POST",$=t.maxUploadRetryTime,q=new Kk(V,U,zL(t,n),$);return q.urlParams=P,q.headers=c,q.body=j.uploadData(),q.errorHandler=Yk(e),q}class WL{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ao.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ao.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ao.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Iu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Iu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Iu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Iu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Iu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class KL extends WL{initXhr(){this.xhr_.responseType="text"}}function Xk(){return new KL}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n){this._service=e,n instanceof gr?this._location=n:this._location=gr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Do(e,n)}get root(){const e=new gr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $k(this._location.path)}get storage(){return this._service}get parent(){const e=IL(this._location.path);if(e===null)return null;const n=new gr(this._location.bucket,e);return new Do(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw uL(e)}}function QL(t,e,n){t._throwIfRoot("uploadBytes");const r=GL(t.storage,t._location,Gk(),new ba(e,!0),n);return t.storage.makeRequestWithTokens(r,Xk).then(s=>({metadata:s,ref:t}))}function YL(t){t._throwIfRoot("getDownloadURL");const e=qL(t.storage,t._location,Gk());return t.storage.makeRequestWithTokens(e,Xk).then(n=>{if(n===null)throw lL();return n})}function XL(t,e){const n=ML(t._location.path,e),r=new gr(t._location.bucket,n);return new Do(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(t){return/^[A-Za-z]+:\/\//.test(t)}function ZL(t,e){return new Do(t,e)}function Jk(t,e){if(t instanceof L_){const n=t;if(n._bucket==null)throw aL();const r=new Do(n,n._bucket);return e!=null?Jk(r,e):r}else return e!==void 0?XL(t,e):t}function e8(t,e){if(e&&JL(e)){if(t instanceof L_)return ZL(t,e);throw Wy("To use ref(service, url), the first argument must be a Storage instance.")}else return Jk(t,e)}function sT(t,e){const n=e==null?void 0:e[Vk];return n==null?null:gr.makeFromBucketSpec(n,t)}class L_{constructor(e,n,r,s,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=Lk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Q5,this._maxUploadRetryTime=Y5,this._requests=new Set,s!=null?this._bucket=gr.makeFromBucketSpec(s,this._host):this._bucket=sT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=gr.makeFromBucketSpec(this._url,e):this._bucket=sT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){iT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){iT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Do(this,e)}_makeRequest(e,n,r,s,o=!0){if(this._deleted)return new dL(Uk());{const c=SL(e,this._appId,r,s,n,this._firebaseVersion,o);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const aT="@firebase/storage",oT="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8="storage";function Zk(t,e,n){return t=wt(t),QL(t,e,n)}function eN(t){return t=wt(t),YL(t)}function tN(t,e){return t=wt(t),e8(t,e)}function n8(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new L_(n,r,s,e,Ho)}function r8(){ni(new Br(t8,n8,"PUBLIC").setMultipleInstances(!0)),rr(aT,oT,""),rr(aT,oT,"esm2017")}r8();const nN="@firebase/installations",V_="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=1e4,iN=`w:${V_}`,sN="FIS_v2",i8="https://firebaseinstallations.googleapis.com/v1",s8=60*60*1e3,a8="installations",o8="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Po=new qo(a8,o8,l8);function aN(t){return t instanceof li&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN({projectId:t}){return`${i8}/projects/${t}/installations`}function lN(t){return{token:t.token,requestStatus:2,expiresIn:u8(t.expiresIn),creationTime:Date.now()}}async function cN(t,e){const r=(await e.json()).error;return Po.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function uN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function c8(t,{refreshToken:e}){const n=uN(t);return n.append("Authorization",d8(e)),n}async function dN(t){const e=await t();return e.status>=500&&e.status<600?t():e}function u8(t){return Number(t.replace("s","000"))}function d8(t){return`${sN} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h8({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=oN(t),s=uN(t),o=e.getImmediate({optional:!0});if(o){const p=await o.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const c={fid:n,authVersion:sN,appId:t.appId,sdkVersion:iN},d={method:"POST",headers:s,body:JSON.stringify(c)},h=await dN(()=>fetch(r,d));if(h.ok){const p=await h.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:lN(p.authToken)}}else throw await cN("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f8(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8=/^[cdef][\w-]{21}$/,Ky="";function m8(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=g8(t);return p8.test(n)?n:Ky}catch{return Ky}}function g8(t){return f8(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=new Map;function pN(t,e){const n=Zp(t);mN(n,e),v8(n,e)}function mN(t,e){const n=fN.get(t);if(n)for(const r of n)r(e)}function v8(t,e){const n=y8();n&&n.postMessage({key:t,fid:e}),_8()}let To=null;function y8(){return!To&&"BroadcastChannel"in self&&(To=new BroadcastChannel("[Firebase] FID Change"),To.onmessage=t=>{mN(t.data.key,t.data.fid)}),To}function _8(){fN.size===0&&To&&(To.close(),To=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8="firebase-installations-database",w8=1,Lo="firebase-installations-store";let Iv=null;function U_(){return Iv||(Iv=Rp(b8,w8,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Lo)}}})),Iv}async function dp(t,e){const n=Zp(t),s=(await U_()).transaction(Lo,"readwrite"),o=s.objectStore(Lo),c=await o.get(n);return await o.put(e,n),await s.done,(!c||c.fid!==e.fid)&&pN(t,e.fid),e}async function gN(t){const e=Zp(t),r=(await U_()).transaction(Lo,"readwrite");await r.objectStore(Lo).delete(e),await r.done}async function em(t,e){const n=Zp(t),s=(await U_()).transaction(Lo,"readwrite"),o=s.objectStore(Lo),c=await o.get(n),d=e(c);return d===void 0?await o.delete(n):await o.put(d,n),await s.done,d&&(!c||c.fid!==d.fid)&&pN(t,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z_(t){let e;const n=await em(t.appConfig,r=>{const s=S8(r),o=E8(t,s);return e=o.registrationPromise,o.installationEntry});return n.fid===Ky?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function S8(t){const e=t||{fid:m8(),registrationStatus:0};return vN(e)}function E8(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Po.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=T8(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:x8(t)}:{installationEntry:e}}async function T8(t,e){try{const n=await h8(t,e);return dp(t.appConfig,n)}catch(n){throw aN(n)&&n.customData.serverCode===409?await gN(t.appConfig):await dp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function x8(t){let e=await lT(t.appConfig);for(;e.registrationStatus===1;)await hN(100),e=await lT(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await z_(t);return r||n}return e}function lT(t){return em(t,e=>{if(!e)throw Po.create("installation-not-found");return vN(e)})}function vN(t){return A8(t)?{fid:t.fid,registrationStatus:0}:t}function A8(t){return t.registrationStatus===1&&t.registrationTime+rN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C8({appConfig:t,heartbeatServiceProvider:e},n){const r=k8(t,n),s=c8(t,n),o=e.getImmediate({optional:!0});if(o){const p=await o.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const c={installation:{sdkVersion:iN,appId:t.appId}},d={method:"POST",headers:s,body:JSON.stringify(c)},h=await dN(()=>fetch(r,d));if(h.ok){const p=await h.json();return lN(p)}else throw await cN("Generate Auth Token",h)}function k8(t,{fid:e}){return`${oN(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B_(t,e=!1){let n;const r=await em(t.appConfig,o=>{if(!yN(o))throw Po.create("not-registered");const c=o.authToken;if(!e&&O8(c))return o;if(c.requestStatus===1)return n=N8(t,e),o;{if(!navigator.onLine)throw Po.create("app-offline");const d=M8(o);return n=R8(t,d),d}});return n?await n:r.authToken}async function N8(t,e){let n=await cT(t.appConfig);for(;n.authToken.requestStatus===1;)await hN(100),n=await cT(t.appConfig);const r=n.authToken;return r.requestStatus===0?B_(t,e):r}function cT(t){return em(t,e=>{if(!yN(e))throw Po.create("not-registered");const n=e.authToken;return j8(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function R8(t,e){try{const n=await C8(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await dp(t.appConfig,r),n}catch(n){if(aN(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await gN(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await dp(t.appConfig,r)}throw n}}function yN(t){return t!==void 0&&t.registrationStatus===2}function O8(t){return t.requestStatus===2&&!I8(t)}function I8(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+s8}function M8(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function j8(t){return t.requestStatus===1&&t.requestTime+rN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D8(t){const e=t,{installationEntry:n,registrationPromise:r}=await z_(e);return r?r.catch(console.error):B_(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P8(t,e=!1){const n=t;return await L8(n),(await B_(n,e)).token}async function L8(t){const{registrationPromise:e}=await z_(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V8(t){if(!t||!t.options)throw Mv("App Configuration");if(!t.name)throw Mv("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Mv(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Mv(t){return Po.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="installations",U8="installations-internal",z8=t=>{const e=t.getProvider("app").getImmediate(),n=V8(e),r=gc(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},B8=t=>{const e=t.getProvider("app").getImmediate(),n=gc(e,_N).getImmediate();return{getId:()=>D8(n),getToken:s=>P8(n,s)}};function F8(){ni(new Br(_N,z8,"PUBLIC")),ni(new Br(U8,B8,"PRIVATE"))}F8();rr(nN,V_);rr(nN,V_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8="/firebase-messaging-sw.js",H8="/firebase-cloud-messaging-push-scope",bN="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$8="https://fcmregistrations.googleapis.com/v1",wN="google.c.a.c_id",G8="google.c.a.c_l",W8="google.c.a.ts",K8="google.c.a.e",uT=1e4;var dT;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(dT||(dT={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var dd;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(dd||(dd={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Q8(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),s=new Uint8Array(r.length);for(let o=0;o<r.length;++o)s[o]=r.charCodeAt(o);return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="fcm_token_details_db",Y8=5,hT="fcm_token_object_Store";async function X8(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(o=>o.name).includes(jv))return null;let e=null;return(await Rp(jv,Y8,{upgrade:async(r,s,o,c)=>{var d;if(s<2||!r.objectStoreNames.contains(hT))return;const h=c.objectStore(hT),p=await h.index("fcmSenderId").get(t);if(await h.clear(),!!p){if(s===2){const _=p;if(!_.auth||!_.p256dh||!_.endpoint)return;e={token:_.fcmToken,createTime:(d=_.createTime)!==null&&d!==void 0?d:Date.now(),subscriptionOptions:{auth:_.auth,p256dh:_.p256dh,endpoint:_.endpoint,swScope:_.swScope,vapidKey:typeof _.vapidKey=="string"?_.vapidKey:ls(_.vapidKey)}}}else if(s===3){const _=p;e={token:_.fcmToken,createTime:_.createTime,subscriptionOptions:{auth:ls(_.auth),p256dh:ls(_.p256dh),endpoint:_.endpoint,swScope:_.swScope,vapidKey:ls(_.vapidKey)}}}else if(s===4){const _=p;e={token:_.fcmToken,createTime:_.createTime,subscriptionOptions:{auth:ls(_.auth),p256dh:ls(_.p256dh),endpoint:_.endpoint,swScope:_.swScope,vapidKey:ls(_.vapidKey)}}}}}})).close(),await bv(jv),await bv("fcm_vapid_details_db"),await bv("undefined"),J8(e)?e:null}function J8(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8="firebase-messaging-database",e9=1,hd="firebase-messaging-store";let Dv=null;function SN(){return Dv||(Dv=Rp(Z8,e9,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(hd)}}})),Dv}async function t9(t){const e=EN(t),r=await(await SN()).transaction(hd).objectStore(hd).get(e);if(r)return r;{const s=await X8(t.appConfig.senderId);if(s)return await F_(t,s),s}}async function F_(t,e){const n=EN(t),s=(await SN()).transaction(hd,"readwrite");return await s.objectStore(hd).put(e,n),await s.done,e}function EN({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Un=new qo("messaging","Messaging",n9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r9(t,e){const n=await H_(t),r=TN(e),s={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{o=await(await fetch(q_(t.appConfig),s)).json()}catch(c){throw Un.create("token-subscribe-failed",{errorInfo:c==null?void 0:c.toString()})}if(o.error){const c=o.error.message;throw Un.create("token-subscribe-failed",{errorInfo:c})}if(!o.token)throw Un.create("token-subscribe-no-token");return o.token}async function i9(t,e){const n=await H_(t),r=TN(e.subscriptionOptions),s={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{o=await(await fetch(`${q_(t.appConfig)}/${e.token}`,s)).json()}catch(c){throw Un.create("token-update-failed",{errorInfo:c==null?void 0:c.toString()})}if(o.error){const c=o.error.message;throw Un.create("token-update-failed",{errorInfo:c})}if(!o.token)throw Un.create("token-update-no-token");return o.token}async function s9(t,e){const r={method:"DELETE",headers:await H_(t)};try{const o=await(await fetch(`${q_(t.appConfig)}/${e}`,r)).json();if(o.error){const c=o.error.message;throw Un.create("token-unsubscribe-failed",{errorInfo:c})}}catch(s){throw Un.create("token-unsubscribe-failed",{errorInfo:s==null?void 0:s.toString()})}}function q_({projectId:t}){return`${$8}/projects/${t}/registrations`}async function H_({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function TN({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const s={web:{endpoint:n,auth:e,p256dh:t}};return r!==bN&&(s.web.applicationPubKey=r),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9=7*24*60*60*1e3;async function o9(t){const e=await c9(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:ls(e.getKey("auth")),p256dh:ls(e.getKey("p256dh"))},r=await t9(t.firebaseDependencies);if(r){if(u9(r.subscriptionOptions,n))return Date.now()>=r.createTime+a9?l9(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await s9(t.firebaseDependencies,r.token)}catch(s){console.warn(s)}return fT(t.firebaseDependencies,n)}else return fT(t.firebaseDependencies,n)}async function l9(t,e){try{const n=await i9(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await F_(t.firebaseDependencies,r),n}catch(n){throw n}}async function fT(t,e){const r={token:await r9(t,e),createTime:Date.now(),subscriptionOptions:e};return await F_(t,r),r.token}async function c9(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Q8(e)})}function u9(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,s=e.auth===t.auth,o=e.p256dh===t.p256dh;return n&&r&&s&&o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return d9(e,t),h9(e,t),f9(e,t),e}function d9(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const s=e.notification.image;s&&(t.notification.image=s);const o=e.notification.icon;o&&(t.notification.icon=o)}function h9(t,e){e.data&&(t.data=e.data)}function f9(t,e){var n,r,s,o,c;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const d=(s=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&s!==void 0?s:(o=e.notification)===null||o===void 0?void 0:o.click_action;d&&(t.fcmOptions.link=d);const h=(c=e.fcmOptions)===null||c===void 0?void 0:c.analytics_label;h&&(t.fcmOptions.analyticsLabel=h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(t){return typeof t=="object"&&!!t&&wN in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m9(t){if(!t||!t.options)throw Pv("App Configuration Object");if(!t.name)throw Pv("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Pv(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Pv(t){return Un.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const s=m9(e);this.firebaseDependencies={app:e,appConfig:s,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v9(t){try{t.swRegistration=await navigator.serviceWorker.register(q8,{scope:H8}),t.swRegistration.update().catch(()=>{}),await y9(t.swRegistration)}catch(e){throw Un.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function y9(t){return new Promise((e,n)=>{const r=setTimeout(()=>n(new Error(`Service worker not registered after ${uT} ms`)),uT),s=t.installing||t.waiting;t.active?(clearTimeout(r),e()):s?s.onstatechange=o=>{var c;((c=o.target)===null||c===void 0?void 0:c.state)==="activated"&&(s.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _9(t,e){if(!e&&!t.swRegistration&&await v9(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Un.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b9(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=bN)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(t,e){if(!navigator)throw Un.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Un.create("permission-blocked");return await b9(t,e==null?void 0:e.vapidKey),await _9(t,e==null?void 0:e.serviceWorkerRegistration),o9(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w9(t,e,n){const r=S9(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[wN],message_name:n[G8],message_time:n[W8],message_device_time:Math.floor(Date.now()/1e3)})}function S9(t){switch(t){case dd.NOTIFICATION_CLICKED:return"notification_open";case dd.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E9(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===dd.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(pT(n)):t.onMessageHandler.next(pT(n)));const r=n.data;p9(r)&&r[K8]==="1"&&await w9(t,n.messageType,r)}const mT="@firebase/messaging",gT="0.12.17";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9=t=>{const e=new g9(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>E9(e,n)),e},x9=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>xN(e,r)}};function A9(){ni(new Br("messaging",T9,"PUBLIC")),ni(new Br("messaging-internal",x9,"PRIVATE")),rr(mT,gT),rr(mT,gT,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C9(){try{await gA()}catch{return!1}return typeof window<"u"&&mA()&&hM()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k9(t,e){if(!navigator)throw Un.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(t=j0()){return C9().then(e=>{if(!e)throw Un.create("unsupported-browser")},e=>{throw Un.create("indexed-db-unsupported")}),gc(wt(t),"messaging").getImmediate()}async function R9(t,e){return t=wt(t),xN(t,e)}function O9(t,e){return t=wt(t),k9(t,e)}A9();const I9={apiKey:"AIzaSyBBNVu_XNWUhtWSdogITTmYdI_Ttbv4qKU",authDomain:"telemedix-cec11.firebaseapp.com",projectId:"telemedix-cec11",storageBucket:"telemedix-cec11.appspot.com",messagingSenderId:"616521962183",appId:"1:616521962183:web:fe284c253aa7cf9adca4e2"},$_=_A(I9),Ot=VP($_),Le=P5($_),vT=N9($_),AN="/assets/Animation-2-CXz6F3E-.gif",M9="/assets/patient1-CCzdue5n.jpg",j9="/assets/doc-2-BUsiSAby.avif";var Vf={exports:{}},D9=Vf.exports,yT;function P9(){return yT||(yT=1,function(t,e){(function(n,r){t.exports=r()})(D9,function(){return function(n){function r(o){if(s[o])return s[o].exports;var c=s[o]={exports:{},id:o,loaded:!1};return n[o].call(c.exports,c,c.exports,r),c.loaded=!0,c.exports}var s={};return r.m=n,r.c=s,r.p="dist/",r(0)}([function(n,r,s){function o(Q){return Q&&Q.__esModule?Q:{default:Q}}var c=Object.assign||function(Q){for(var he=1;he<arguments.length;he++){var ne=arguments[he];for(var N in ne)Object.prototype.hasOwnProperty.call(ne,N)&&(Q[N]=ne[N])}return Q},d=s(1),h=(o(d),s(6)),p=o(h),_=s(7),S=o(_),C=s(8),j=o(C),P=s(9),V=o(P),U=s(10),$=o(U),q=s(11),X=o(q),te=s(14),z=o(te),K=[],M=!1,O={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},A=function(){var Q=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(Q&&(M=!0),M)return K=(0,X.default)(K,O),(0,$.default)(K,O.once),K},x=function(){K=(0,z.default)(),A()},L=function(){K.forEach(function(Q,he){Q.node.removeAttribute("data-aos"),Q.node.removeAttribute("data-aos-easing"),Q.node.removeAttribute("data-aos-duration"),Q.node.removeAttribute("data-aos-delay")})},B=function(Q){return Q===!0||Q==="mobile"&&V.default.mobile()||Q==="phone"&&V.default.phone()||Q==="tablet"&&V.default.tablet()||typeof Q=="function"&&Q()===!0},I=function(Q){O=c(O,Q),K=(0,z.default)();var he=document.all&&!window.atob;return B(O.disable)||he?L():(O.disableMutationObserver||j.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),O.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",O.easing),document.querySelector("body").setAttribute("data-aos-duration",O.duration),document.querySelector("body").setAttribute("data-aos-delay",O.delay),O.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?A(!0):O.startEvent==="load"?window.addEventListener(O.startEvent,function(){A(!0)}):document.addEventListener(O.startEvent,function(){A(!0)}),window.addEventListener("resize",(0,S.default)(A,O.debounceDelay,!0)),window.addEventListener("orientationchange",(0,S.default)(A,O.debounceDelay,!0)),window.addEventListener("scroll",(0,p.default)(function(){(0,$.default)(K,O.once)},O.throttleDelay)),O.disableMutationObserver||j.default.ready("[data-aos]",x),K)};n.exports={init:I,refresh:A,refreshHard:x}},function(n,r){},,,,,function(n,r){(function(s){function o(B,I,Q){function he(xe){var Ie=E,qe=T;return E=T=void 0,ce=xe,F=B.apply(qe,Ie)}function ne(xe){return ce=xe,ee=setTimeout(Z,I),ve?he(xe):F}function N(xe){var Ie=xe-ue,qe=xe-ce,Re=I-Ie;return Te?x(Re,D-qe):Re}function ge(xe){var Ie=xe-ue,qe=xe-ce;return ue===void 0||Ie>=I||Ie<0||Te&&qe>=D}function Z(){var xe=L();return ge(xe)?w(xe):void(ee=setTimeout(Z,N(xe)))}function w(xe){return ee=void 0,Se&&E?he(xe):(E=T=void 0,F)}function G(){ee!==void 0&&clearTimeout(ee),ce=0,E=ue=T=ee=void 0}function re(){return ee===void 0?F:w(L())}function v(){var xe=L(),Ie=ge(xe);if(E=arguments,T=this,ue=xe,Ie){if(ee===void 0)return ne(ue);if(Te)return ee=setTimeout(Z,I),he(ue)}return ee===void 0&&(ee=setTimeout(Z,I)),F}var E,T,D,F,ee,ue,ce=0,ve=!1,Te=!1,Se=!0;if(typeof B!="function")throw new TypeError(C);return I=_(I)||0,d(Q)&&(ve=!!Q.leading,Te="maxWait"in Q,D=Te?A(_(Q.maxWait)||0,I):D,Se="trailing"in Q?!!Q.trailing:Se),v.cancel=G,v.flush=re,v}function c(B,I,Q){var he=!0,ne=!0;if(typeof B!="function")throw new TypeError(C);return d(Q)&&(he="leading"in Q?!!Q.leading:he,ne="trailing"in Q?!!Q.trailing:ne),o(B,I,{leading:he,maxWait:I,trailing:ne})}function d(B){var I=typeof B>"u"?"undefined":S(B);return!!B&&(I=="object"||I=="function")}function h(B){return!!B&&(typeof B>"u"?"undefined":S(B))=="object"}function p(B){return(typeof B>"u"?"undefined":S(B))=="symbol"||h(B)&&O.call(B)==P}function _(B){if(typeof B=="number")return B;if(p(B))return j;if(d(B)){var I=typeof B.valueOf=="function"?B.valueOf():B;B=d(I)?I+"":I}if(typeof B!="string")return B===0?B:+B;B=B.replace(V,"");var Q=$.test(B);return Q||q.test(B)?X(B.slice(2),Q?2:8):U.test(B)?j:+B}var S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},C="Expected a function",j=NaN,P="[object Symbol]",V=/^\s+|\s+$/g,U=/^[-+]0x[0-9a-f]+$/i,$=/^0b[01]+$/i,q=/^0o[0-7]+$/i,X=parseInt,te=(typeof s>"u"?"undefined":S(s))=="object"&&s&&s.Object===Object&&s,z=(typeof self>"u"?"undefined":S(self))=="object"&&self&&self.Object===Object&&self,K=te||z||Function("return this")(),M=Object.prototype,O=M.toString,A=Math.max,x=Math.min,L=function(){return K.Date.now()};n.exports=c}).call(r,function(){return this}())},function(n,r){(function(s){function o(L,B,I){function Q(Se){var xe=v,Ie=E;return v=E=void 0,ue=Se,D=L.apply(Ie,xe)}function he(Se){return ue=Se,F=setTimeout(ge,B),ce?Q(Se):D}function ne(Se){var xe=Se-ee,Ie=Se-ue,qe=B-xe;return ve?A(qe,T-Ie):qe}function N(Se){var xe=Se-ee,Ie=Se-ue;return ee===void 0||xe>=B||xe<0||ve&&Ie>=T}function ge(){var Se=x();return N(Se)?Z(Se):void(F=setTimeout(ge,ne(Se)))}function Z(Se){return F=void 0,Te&&v?Q(Se):(v=E=void 0,D)}function w(){F!==void 0&&clearTimeout(F),ue=0,v=ee=E=F=void 0}function G(){return F===void 0?D:Z(x())}function re(){var Se=x(),xe=N(Se);if(v=arguments,E=this,ee=Se,xe){if(F===void 0)return he(ee);if(ve)return F=setTimeout(ge,B),Q(ee)}return F===void 0&&(F=setTimeout(ge,B)),D}var v,E,T,D,F,ee,ue=0,ce=!1,ve=!1,Te=!0;if(typeof L!="function")throw new TypeError(S);return B=p(B)||0,c(I)&&(ce=!!I.leading,ve="maxWait"in I,T=ve?O(p(I.maxWait)||0,B):T,Te="trailing"in I?!!I.trailing:Te),re.cancel=w,re.flush=G,re}function c(L){var B=typeof L>"u"?"undefined":_(L);return!!L&&(B=="object"||B=="function")}function d(L){return!!L&&(typeof L>"u"?"undefined":_(L))=="object"}function h(L){return(typeof L>"u"?"undefined":_(L))=="symbol"||d(L)&&M.call(L)==j}function p(L){if(typeof L=="number")return L;if(h(L))return C;if(c(L)){var B=typeof L.valueOf=="function"?L.valueOf():L;L=c(B)?B+"":B}if(typeof L!="string")return L===0?L:+L;L=L.replace(P,"");var I=U.test(L);return I||$.test(L)?q(L.slice(2),I?2:8):V.test(L)?C:+L}var _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},S="Expected a function",C=NaN,j="[object Symbol]",P=/^\s+|\s+$/g,V=/^[-+]0x[0-9a-f]+$/i,U=/^0b[01]+$/i,$=/^0o[0-7]+$/i,q=parseInt,X=(typeof s>"u"?"undefined":_(s))=="object"&&s&&s.Object===Object&&s,te=(typeof self>"u"?"undefined":_(self))=="object"&&self&&self.Object===Object&&self,z=X||te||Function("return this")(),K=Object.prototype,M=K.toString,O=Math.max,A=Math.min,x=function(){return z.Date.now()};n.exports=o}).call(r,function(){return this}())},function(n,r){function s(_){var S=void 0,C=void 0;for(S=0;S<_.length;S+=1)if(C=_[S],C.dataset&&C.dataset.aos||C.children&&s(C.children))return!0;return!1}function o(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function c(){return!!o()}function d(_,S){var C=window.document,j=o(),P=new j(h);p=S,P.observe(C.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function h(_){_&&_.forEach(function(S){var C=Array.prototype.slice.call(S.addedNodes),j=Array.prototype.slice.call(S.removedNodes),P=C.concat(j);if(s(P))return p()})}Object.defineProperty(r,"__esModule",{value:!0});var p=function(){};r.default={isSupported:c,ready:d}},function(n,r){function s(C,j){if(!(C instanceof j))throw new TypeError("Cannot call a class as a function")}function o(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(r,"__esModule",{value:!0});var c=function(){function C(j,P){for(var V=0;V<P.length;V++){var U=P[V];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(j,U.key,U)}}return function(j,P,V){return P&&C(j.prototype,P),V&&C(j,V),j}}(),d=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,h=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,p=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,_=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,S=function(){function C(){s(this,C)}return c(C,[{key:"phone",value:function(){var j=o();return!(!d.test(j)&&!h.test(j.substr(0,4)))}},{key:"mobile",value:function(){var j=o();return!(!p.test(j)&&!_.test(j.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),C}();r.default=new S},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var s=function(c,d,h){var p=c.node.getAttribute("data-aos-once");d>c.position?c.node.classList.add("aos-animate"):typeof p<"u"&&(p==="false"||!h&&p!=="true")&&c.node.classList.remove("aos-animate")},o=function(c,d){var h=window.pageYOffset,p=window.innerHeight;c.forEach(function(_,S){s(_,p+h,d)})};r.default=o},function(n,r,s){function o(p){return p&&p.__esModule?p:{default:p}}Object.defineProperty(r,"__esModule",{value:!0});var c=s(12),d=o(c),h=function(p,_){return p.forEach(function(S,C){S.node.classList.add("aos-init"),S.position=(0,d.default)(S.node,_.offset)}),p};r.default=h},function(n,r,s){function o(p){return p&&p.__esModule?p:{default:p}}Object.defineProperty(r,"__esModule",{value:!0});var c=s(13),d=o(c),h=function(p,_){var S=0,C=0,j=window.innerHeight,P={offset:p.getAttribute("data-aos-offset"),anchor:p.getAttribute("data-aos-anchor"),anchorPlacement:p.getAttribute("data-aos-anchor-placement")};switch(P.offset&&!isNaN(P.offset)&&(C=parseInt(P.offset)),P.anchor&&document.querySelectorAll(P.anchor)&&(p=document.querySelectorAll(P.anchor)[0]),S=(0,d.default)(p).top,P.anchorPlacement){case"top-bottom":break;case"center-bottom":S+=p.offsetHeight/2;break;case"bottom-bottom":S+=p.offsetHeight;break;case"top-center":S+=j/2;break;case"bottom-center":S+=j/2+p.offsetHeight;break;case"center-center":S+=j/2+p.offsetHeight/2;break;case"top-top":S+=j;break;case"bottom-top":S+=p.offsetHeight+j;break;case"center-top":S+=p.offsetHeight/2+j}return P.anchorPlacement||P.offset||isNaN(_)||(C=_),S+C};r.default=h},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var s=function(o){for(var c=0,d=0;o&&!isNaN(o.offsetLeft)&&!isNaN(o.offsetTop);)c+=o.offsetLeft-(o.tagName!="BODY"?o.scrollLeft:0),d+=o.offsetTop-(o.tagName!="BODY"?o.scrollTop:0),o=o.offsetParent;return{top:d,left:c}};r.default=s},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var s=function(o){return o=o||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(o,function(c){return{node:c}})};r.default=s}])})}(Vf)),Vf.exports}var L9=P9();const CN=Ap(L9);var Lv={},Vv={},Mu={},Uv={},_T;function V9(){return _T||(_T=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e}(Uv)),Uv}var zv,bT;function U9(){if(bT)return zv;bT=1;var t="Expected a function",e=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt,h=typeof tf=="object"&&tf&&tf.Object===Object&&tf,p=typeof self=="object"&&self&&self.Object===Object&&self,_=h||p||Function("return this")(),S=Object.prototype,C=S.toString,j=Math.max,P=Math.min,V=function(){return _.Date.now()};function U(z,K,M){var O,A,x,L,B,I,Q=0,he=!1,ne=!1,N=!0;if(typeof z!="function")throw new TypeError(t);K=te(K)||0,$(M)&&(he=!!M.leading,ne="maxWait"in M,x=ne?j(te(M.maxWait)||0,K):x,N="trailing"in M?!!M.trailing:N);function ge(F){var ee=O,ue=A;return O=A=void 0,Q=F,L=z.apply(ue,ee),L}function Z(F){return Q=F,B=setTimeout(re,K),he?ge(F):L}function w(F){var ee=F-I,ue=F-Q,ce=K-ee;return ne?P(ce,x-ue):ce}function G(F){var ee=F-I,ue=F-Q;return I===void 0||ee>=K||ee<0||ne&&ue>=x}function re(){var F=V();if(G(F))return v(F);B=setTimeout(re,w(F))}function v(F){return B=void 0,N&&O?ge(F):(O=A=void 0,L)}function E(){B!==void 0&&clearTimeout(B),Q=0,O=I=A=B=void 0}function T(){return B===void 0?L:v(V())}function D(){var F=V(),ee=G(F);if(O=arguments,A=this,I=F,ee){if(B===void 0)return Z(I);if(ne)return B=setTimeout(re,K),ge(I)}return B===void 0&&(B=setTimeout(re,K)),L}return D.cancel=E,D.flush=T,D}function $(z){var K=typeof z;return!!z&&(K=="object"||K=="function")}function q(z){return!!z&&typeof z=="object"}function X(z){return typeof z=="symbol"||q(z)&&C.call(z)==n}function te(z){if(typeof z=="number")return z;if(X(z))return e;if($(z)){var K=typeof z.valueOf=="function"?z.valueOf():z;z=$(K)?K+"":K}if(typeof z!="string")return z===0?z:+z;z=z.replace(r,"");var M=o.test(z);return M||c.test(z)?d(z.slice(2),M?2:8):s.test(z)?e:+z}return zv=U,zv}var Bv={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var wT;function tm(){return wT||(wT=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",c=0;c<arguments.length;c++){var d=arguments[c];d&&(o=s(o,r(d)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var c="";for(var d in o)e.call(o,d)&&o[d]&&(c=s(c,d));return c}function s(o,c){return c?o?o+" "+c:o+c:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(Bv)),Bv.exports}var Ce={},Fv={},ST;function kN(){return ST||(ST=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(Pi());function n(s){return s&&s.__esModule?s:{default:s}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(o){return e.default.createElement("ul",{style:{display:"block"}},o)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(o){return e.default.createElement("button",null,o+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};t.default=r}(Fv)),Fv}var ET;function Rd(){if(ET)return Ce;ET=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.checkSpecKeys=Ce.checkNavigable=Ce.changeSlide=Ce.canUseDOM=Ce.canGoNext=void 0,Ce.clamp=p,Ce.extractObject=void 0,Ce.filterSettings=ge,Ce.validSettings=Ce.swipeStart=Ce.swipeMove=Ce.swipeEnd=Ce.slidesOnRight=Ce.slidesOnLeft=Ce.slideHandler=Ce.siblingDirection=Ce.safePreventDefault=Ce.lazyStartIndex=Ce.lazySlidesOnRight=Ce.lazySlidesOnLeft=Ce.lazyEndIndex=Ce.keyHandler=Ce.initializedState=Ce.getWidth=Ce.getTrackLeft=Ce.getTrackCSS=Ce.getTrackAnimateCSS=Ce.getTotalSlides=Ce.getSwipeDirection=Ce.getSlideCount=Ce.getRequiredLazySlides=Ce.getPreClones=Ce.getPostClones=Ce.getOnDemandLazySlides=Ce.getNavigableIndexes=Ce.getHeight=void 0;var t=n(Pi()),e=n(kN());function n(Z){return Z&&Z.__esModule?Z:{default:Z}}function r(Z){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},r(Z)}function s(Z,w){var G=Object.keys(Z);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(Z);w&&(re=re.filter(function(v){return Object.getOwnPropertyDescriptor(Z,v).enumerable})),G.push.apply(G,re)}return G}function o(Z){for(var w=1;w<arguments.length;w++){var G=arguments[w]!=null?arguments[w]:{};w%2?s(Object(G),!0).forEach(function(re){c(Z,re,G[re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(G)):s(Object(G)).forEach(function(re){Object.defineProperty(Z,re,Object.getOwnPropertyDescriptor(G,re))})}return Z}function c(Z,w,G){return w=d(w),w in Z?Object.defineProperty(Z,w,{value:G,enumerable:!0,configurable:!0,writable:!0}):Z[w]=G,Z}function d(Z){var w=h(Z,"string");return r(w)=="symbol"?w:String(w)}function h(Z,w){if(r(Z)!="object"||!Z)return Z;var G=Z[Symbol.toPrimitive];if(G!==void 0){var re=G.call(Z,w);if(r(re)!="object")return re;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(Z)}function p(Z,w,G){return Math.max(w,Math.min(Z,G))}var _=Ce.safePreventDefault=function(w){var G=["onTouchStart","onTouchMove","onWheel"];G.includes(w._reactName)||w.preventDefault()},S=Ce.getOnDemandLazySlides=function(w){for(var G=[],re=C(w),v=j(w),E=re;E<v;E++)w.lazyLoadedList.indexOf(E)<0&&G.push(E);return G};Ce.getRequiredLazySlides=function(w){for(var G=[],re=C(w),v=j(w),E=re;E<v;E++)G.push(E);return G};var C=Ce.lazyStartIndex=function(w){return w.currentSlide-P(w)},j=Ce.lazyEndIndex=function(w){return w.currentSlide+V(w)},P=Ce.lazySlidesOnLeft=function(w){return w.centerMode?Math.floor(w.slidesToShow/2)+(parseInt(w.centerPadding)>0?1:0):0},V=Ce.lazySlidesOnRight=function(w){return w.centerMode?Math.floor((w.slidesToShow-1)/2)+1+(parseInt(w.centerPadding)>0?1:0):w.slidesToShow},U=Ce.getWidth=function(w){return w&&w.offsetWidth||0},$=Ce.getHeight=function(w){return w&&w.offsetHeight||0},q=Ce.getSwipeDirection=function(w){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,re,v,E,T;return re=w.startX-w.curX,v=w.startY-w.curY,E=Math.atan2(v,re),T=Math.round(E*180/Math.PI),T<0&&(T=360-Math.abs(T)),T<=45&&T>=0||T<=360&&T>=315?"left":T>=135&&T<=225?"right":G===!0?T>=35&&T<=135?"up":"down":"vertical"},X=Ce.canGoNext=function(w){var G=!0;return w.infinite||(w.centerMode&&w.currentSlide>=w.slideCount-1||w.slideCount<=w.slidesToShow||w.currentSlide>=w.slideCount-w.slidesToShow)&&(G=!1),G};Ce.extractObject=function(w,G){var re={};return G.forEach(function(v){return re[v]=w[v]}),re},Ce.initializedState=function(w){var G=t.default.Children.count(w.children),re=w.listRef,v=Math.ceil(U(re)),E=w.trackRef&&w.trackRef.node,T=Math.ceil(U(E)),D;if(w.vertical)D=v;else{var F=w.centerMode&&parseInt(w.centerPadding)*2;typeof w.centerPadding=="string"&&w.centerPadding.slice(-1)==="%"&&(F*=v/100),D=Math.ceil((v-F)/w.slidesToShow)}var ee=re&&$(re.querySelector('[data-index="0"]')),ue=ee*w.slidesToShow,ce=w.currentSlide===void 0?w.initialSlide:w.currentSlide;w.rtl&&w.currentSlide===void 0&&(ce=G-1-w.initialSlide);var ve=w.lazyLoadedList||[],Te=S(o(o({},w),{},{currentSlide:ce,lazyLoadedList:ve}));ve=ve.concat(Te);var Se={slideCount:G,slideWidth:D,listWidth:v,trackWidth:T,currentSlide:ce,slideHeight:ee,listHeight:ue,lazyLoadedList:ve};return w.autoplaying===null&&w.autoplay&&(Se.autoplaying="playing"),Se},Ce.slideHandler=function(w){var G=w.waitForAnimate,re=w.animating,v=w.fade,E=w.infinite,T=w.index,D=w.slideCount,F=w.lazyLoad,ee=w.currentSlide,ue=w.centerMode,ce=w.slidesToScroll,ve=w.slidesToShow,Te=w.useCSS,Se=w.lazyLoadedList;if(G&&re)return{};var xe=T,Ie,qe,Re,Ke={},ct={},pt=E?T:p(T,0,D-1);if(v){if(!E&&(T<0||T>=D))return{};T<0?xe=T+D:T>=D&&(xe=T-D),F&&Se.indexOf(xe)<0&&(Se=Se.concat(xe)),Ke={animating:!0,currentSlide:xe,lazyLoadedList:Se,targetSlide:xe},ct={animating:!1,targetSlide:xe}}else Ie=xe,xe<0?(Ie=xe+D,E?D%ce!==0&&(Ie=D-D%ce):Ie=0):!X(w)&&xe>ee?xe=Ie=ee:ue&&xe>=D?(xe=E?D:D-1,Ie=E?0:D-1):xe>=D&&(Ie=xe-D,E?D%ce!==0&&(Ie=0):Ie=D-ve),!E&&xe+ve>=D&&(Ie=D-ve),qe=x(o(o({},w),{},{slideIndex:xe})),Re=x(o(o({},w),{},{slideIndex:Ie})),E||(qe===Re&&(xe=Ie),qe=Re),F&&(Se=Se.concat(S(o(o({},w),{},{currentSlide:xe})))),Te?(Ke={animating:!0,currentSlide:Ie,trackStyle:A(o(o({},w),{},{left:qe})),lazyLoadedList:Se,targetSlide:pt},ct={animating:!1,currentSlide:Ie,trackStyle:O(o(o({},w),{},{left:Re})),swipeLeft:null,targetSlide:pt}):Ke={currentSlide:Ie,trackStyle:O(o(o({},w),{},{left:Re})),lazyLoadedList:Se,targetSlide:pt};return{state:Ke,nextState:ct}},Ce.changeSlide=function(w,G){var re,v,E,T,D,F=w.slidesToScroll,ee=w.slidesToShow,ue=w.slideCount,ce=w.currentSlide,ve=w.targetSlide,Te=w.lazyLoad,Se=w.infinite;if(T=ue%F!==0,re=T?0:(ue-ce)%F,G.message==="previous")E=re===0?F:ee-re,D=ce-E,Te&&!Se&&(v=ce-E,D=v===-1?ue-1:v),Se||(D=ve-F);else if(G.message==="next")E=re===0?F:re,D=ce+E,Te&&!Se&&(D=(ce+F)%ue+re),Se||(D=ve+F);else if(G.message==="dots")D=G.index*G.slidesToScroll;else if(G.message==="children"){if(D=G.index,Se){var xe=Q(o(o({},w),{},{targetSlide:D}));D>G.currentSlide&&xe==="left"?D=D-ue:D<G.currentSlide&&xe==="right"&&(D=D+ue)}}else G.message==="index"&&(D=Number(G.index));return D},Ce.keyHandler=function(w,G,re){return w.target.tagName.match("TEXTAREA|INPUT|SELECT")||!G?"":w.keyCode===37?re?"next":"previous":w.keyCode===39?re?"previous":"next":""},Ce.swipeStart=function(w,G,re){return w.target.tagName==="IMG"&&_(w),!G||!re&&w.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:w.touches?w.touches[0].pageX:w.clientX,startY:w.touches?w.touches[0].pageY:w.clientY,curX:w.touches?w.touches[0].pageX:w.clientX,curY:w.touches?w.touches[0].pageY:w.clientY}}},Ce.swipeMove=function(w,G){var re=G.scrolling,v=G.animating,E=G.vertical,T=G.swipeToSlide,D=G.verticalSwiping,F=G.rtl,ee=G.currentSlide,ue=G.edgeFriction,ce=G.edgeDragged,ve=G.onEdge,Te=G.swiped,Se=G.swiping,xe=G.slideCount,Ie=G.slidesToScroll,qe=G.infinite,Re=G.touchObject,Ke=G.swipeEvent,ct=G.listHeight,pt=G.listWidth;if(!re){if(v)return _(w);E&&T&&D&&_(w);var It,bn={},Rn=x(G);Re.curX=w.touches?w.touches[0].pageX:w.clientX,Re.curY=w.touches?w.touches[0].pageY:w.clientY,Re.swipeLength=Math.round(Math.sqrt(Math.pow(Re.curX-Re.startX,2)));var Jt=Math.round(Math.sqrt(Math.pow(Re.curY-Re.startY,2)));if(!D&&!Se&&Jt>10)return{scrolling:!0};D&&(Re.swipeLength=Jt);var br=(F?-1:1)*(Re.curX>Re.startX?1:-1);D&&(br=Re.curY>Re.startY?1:-1);var Pt=Math.ceil(xe/Ie),St=q(G.touchObject,D),Bn=Re.swipeLength;return qe||(ee===0&&(St==="right"||St==="down")||ee+1>=Pt&&(St==="left"||St==="up")||!X(G)&&(St==="left"||St==="up"))&&(Bn=Re.swipeLength*ue,ce===!1&&ve&&(ve(St),bn.edgeDragged=!0)),!Te&&Ke&&(Ke(St),bn.swiped=!0),E?It=Rn+Bn*(ct/pt)*br:F?It=Rn-Bn*br:It=Rn+Bn*br,D&&(It=Rn+Bn*br),bn=o(o({},bn),{},{touchObject:Re,swipeLeft:It,trackStyle:O(o(o({},G),{},{left:It}))}),Math.abs(Re.curX-Re.startX)<Math.abs(Re.curY-Re.startY)*.8||Re.swipeLength>10&&(bn.swiping=!0,_(w)),bn}},Ce.swipeEnd=function(w,G){var re=G.dragging,v=G.swipe,E=G.touchObject,T=G.listWidth,D=G.touchThreshold,F=G.verticalSwiping,ee=G.listHeight,ue=G.swipeToSlide,ce=G.scrolling,ve=G.onSwipe,Te=G.targetSlide,Se=G.currentSlide,xe=G.infinite;if(!re)return v&&_(w),{};var Ie=F?ee/D:T/D,qe=q(E,F),Re={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(ce||!E.swipeLength)return Re;if(E.swipeLength>Ie){_(w),ve&&ve(qe);var Ke,ct,pt=xe?Se:Te;switch(qe){case"left":case"up":ct=pt+K(G),Ke=ue?z(G,ct):ct,Re.currentDirection=0;break;case"right":case"down":ct=pt-K(G),Ke=ue?z(G,ct):ct,Re.currentDirection=1;break;default:Ke=pt}Re.triggerSlideHandler=Ke}else{var It=x(G);Re.trackStyle=A(o(o({},G),{},{left:It}))}return Re};var te=Ce.getNavigableIndexes=function(w){for(var G=w.infinite?w.slideCount*2:w.slideCount,re=w.infinite?w.slidesToShow*-1:0,v=w.infinite?w.slidesToShow*-1:0,E=[];re<G;)E.push(re),re=v+w.slidesToScroll,v+=Math.min(w.slidesToScroll,w.slidesToShow);return E},z=Ce.checkNavigable=function(w,G){var re=te(w),v=0;if(G>re[re.length-1])G=re[re.length-1];else for(var E in re){if(G<re[E]){G=v;break}v=re[E]}return G},K=Ce.getSlideCount=function(w){var G=w.centerMode?w.slideWidth*Math.floor(w.slidesToShow/2):0;if(w.swipeToSlide){var re,v=w.listRef,E=v.querySelectorAll&&v.querySelectorAll(".slick-slide")||[];if(Array.from(E).every(function(F){if(w.vertical){if(F.offsetTop+$(F)/2>w.swipeLeft*-1)return re=F,!1}else if(F.offsetLeft-G+U(F)/2>w.swipeLeft*-1)return re=F,!1;return!0}),!re)return 0;var T=w.rtl===!0?w.slideCount-w.currentSlide:w.currentSlide,D=Math.abs(re.dataset.index-T)||1;return D}else return w.slidesToScroll},M=Ce.checkSpecKeys=function(w,G){return G.reduce(function(re,v){return re&&w.hasOwnProperty(v)},!0)?null:console.error("Keys Missing:",w)},O=Ce.getTrackCSS=function(w){M(w,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var G,re,v=w.slideCount+2*w.slidesToShow;w.vertical?re=v*w.slideHeight:G=I(w)*w.slideWidth;var E={opacity:1,transition:"",WebkitTransition:""};if(w.useTransform){var T=w.vertical?"translate3d(0px, "+w.left+"px, 0px)":"translate3d("+w.left+"px, 0px, 0px)",D=w.vertical?"translate3d(0px, "+w.left+"px, 0px)":"translate3d("+w.left+"px, 0px, 0px)",F=w.vertical?"translateY("+w.left+"px)":"translateX("+w.left+"px)";E=o(o({},E),{},{WebkitTransform:T,transform:D,msTransform:F})}else w.vertical?E.top=w.left:E.left=w.left;return w.fade&&(E={opacity:1}),G&&(E.width=G),re&&(E.height=re),window&&!window.addEventListener&&window.attachEvent&&(w.vertical?E.marginTop=w.left+"px":E.marginLeft=w.left+"px"),E},A=Ce.getTrackAnimateCSS=function(w){M(w,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var G=O(w);return w.useTransform?(G.WebkitTransition="-webkit-transform "+w.speed+"ms "+w.cssEase,G.transition="transform "+w.speed+"ms "+w.cssEase):w.vertical?G.transition="top "+w.speed+"ms "+w.cssEase:G.transition="left "+w.speed+"ms "+w.cssEase,G},x=Ce.getTrackLeft=function(w){if(w.unslick)return 0;M(w,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var G=w.slideIndex,re=w.trackRef,v=w.infinite,E=w.centerMode,T=w.slideCount,D=w.slidesToShow,F=w.slidesToScroll,ee=w.slideWidth,ue=w.listWidth,ce=w.variableWidth,ve=w.slideHeight,Te=w.fade,Se=w.vertical,xe=0,Ie,qe,Re=0;if(Te||w.slideCount===1)return 0;var Ke=0;if(v?(Ke=-L(w),T%F!==0&&G+F>T&&(Ke=-(G>T?D-(G-T):T%F)),E&&(Ke+=parseInt(D/2))):(T%F!==0&&G+F>T&&(Ke=D-T%F),E&&(Ke=parseInt(D/2))),xe=Ke*ee,Re=Ke*ve,Se?Ie=G*ve*-1+Re:Ie=G*ee*-1+xe,ce===!0){var ct,pt=re&&re.node;if(ct=G+L(w),qe=pt&&pt.childNodes[ct],Ie=qe?qe.offsetLeft*-1:0,E===!0){ct=v?G+L(w):G,qe=pt&&pt.children[ct],Ie=0;for(var It=0;It<ct;It++)Ie-=pt&&pt.children[It]&&pt.children[It].offsetWidth;Ie-=parseInt(w.centerPadding),Ie+=qe&&(ue-qe.offsetWidth)/2}}return Ie},L=Ce.getPreClones=function(w){return w.unslick||!w.infinite?0:w.variableWidth?w.slideCount:w.slidesToShow+(w.centerMode?1:0)},B=Ce.getPostClones=function(w){return w.unslick||!w.infinite?0:w.slideCount},I=Ce.getTotalSlides=function(w){return w.slideCount===1?1:L(w)+w.slideCount+B(w)},Q=Ce.siblingDirection=function(w){return w.targetSlide>w.currentSlide?w.targetSlide>w.currentSlide+he(w)?"left":"right":w.targetSlide<w.currentSlide-ne(w)?"right":"left"},he=Ce.slidesOnRight=function(w){var G=w.slidesToShow,re=w.centerMode,v=w.rtl,E=w.centerPadding;if(re){var T=(G-1)/2+1;return parseInt(E)>0&&(T+=1),v&&G%2===0&&(T+=1),T}return v?0:G-1},ne=Ce.slidesOnLeft=function(w){var G=w.slidesToShow,re=w.centerMode,v=w.rtl,E=w.centerPadding;if(re){var T=(G-1)/2+1;return parseInt(E)>0&&(T+=1),!v&&G%2===0&&(T+=1),T}return v?G-1:0};Ce.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var N=Ce.validSettings=Object.keys(e.default);function ge(Z){return N.reduce(function(w,G){return Z.hasOwnProperty(G)&&(w[G]=Z[G]),w},{})}return Ce}var ju={},TT;function z9(){if(TT)return ju;TT=1,Object.defineProperty(ju,"__esModule",{value:!0}),ju.Track=void 0;var t=r(Pi()),e=r(tm()),n=Rd();function r(A){return A&&A.__esModule?A:{default:A}}function s(A){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},s(A)}function o(){return o=Object.assign?Object.assign.bind():function(A){for(var x=1;x<arguments.length;x++){var L=arguments[x];for(var B in L)Object.prototype.hasOwnProperty.call(L,B)&&(A[B]=L[B])}return A},o.apply(this,arguments)}function c(A,x){if(!(A instanceof x))throw new TypeError("Cannot call a class as a function")}function d(A,x){for(var L=0;L<x.length;L++){var B=x[L];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(A,X(B.key),B)}}function h(A,x,L){return x&&d(A.prototype,x),Object.defineProperty(A,"prototype",{writable:!1}),A}function p(A,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(x&&x.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),x&&_(A,x)}function _(A,x){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,I){return B.__proto__=I,B},_(A,x)}function S(A){var x=P();return function(){var B=V(A),I;if(x){var Q=V(this).constructor;I=Reflect.construct(B,arguments,Q)}else I=B.apply(this,arguments);return C(this,I)}}function C(A,x){if(x&&(s(x)==="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j(A)}function j(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function P(){try{var A=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P=function(){return!!A})()}function V(A){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(L){return L.__proto__||Object.getPrototypeOf(L)},V(A)}function U(A,x){var L=Object.keys(A);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(A);x&&(B=B.filter(function(I){return Object.getOwnPropertyDescriptor(A,I).enumerable})),L.push.apply(L,B)}return L}function $(A){for(var x=1;x<arguments.length;x++){var L=arguments[x]!=null?arguments[x]:{};x%2?U(Object(L),!0).forEach(function(B){q(A,B,L[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(L)):U(Object(L)).forEach(function(B){Object.defineProperty(A,B,Object.getOwnPropertyDescriptor(L,B))})}return A}function q(A,x,L){return x=X(x),x in A?Object.defineProperty(A,x,{value:L,enumerable:!0,configurable:!0,writable:!0}):A[x]=L,A}function X(A){var x=te(A,"string");return s(x)=="symbol"?x:String(x)}function te(A,x){if(s(A)!="object"||!A)return A;var L=A[Symbol.toPrimitive];if(L!==void 0){var B=L.call(A,x);if(s(B)!="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(A)}var z=function(x){var L,B,I,Q,he;x.rtl?he=x.slideCount-1-x.index:he=x.index,I=he<0||he>=x.slideCount,x.centerMode?(Q=Math.floor(x.slidesToShow/2),B=(he-x.currentSlide)%x.slideCount===0,he>x.currentSlide-Q-1&&he<=x.currentSlide+Q&&(L=!0)):L=x.currentSlide<=he&&he<x.currentSlide+x.slidesToShow;var ne;x.targetSlide<0?ne=x.targetSlide+x.slideCount:x.targetSlide>=x.slideCount?ne=x.targetSlide-x.slideCount:ne=x.targetSlide;var N=he===ne;return{"slick-slide":!0,"slick-active":L,"slick-center":B,"slick-cloned":I,"slick-current":N}},K=function(x){var L={};return(x.variableWidth===void 0||x.variableWidth===!1)&&(L.width=x.slideWidth),x.fade&&(L.position="relative",x.vertical?L.top=-x.index*parseInt(x.slideHeight):L.left=-x.index*parseInt(x.slideWidth),L.opacity=x.currentSlide===x.index?1:0,L.zIndex=x.currentSlide===x.index?999:998,x.useCSS&&(L.transition="opacity "+x.speed+"ms "+x.cssEase+", visibility "+x.speed+"ms "+x.cssEase)),L},M=function(x,L){return x.key||L},O=function(x){var L,B=[],I=[],Q=[],he=t.default.Children.count(x.children),ne=(0,n.lazyStartIndex)(x),N=(0,n.lazyEndIndex)(x);return t.default.Children.forEach(x.children,function(ge,Z){var w,G={message:"children",index:Z,slidesToScroll:x.slidesToScroll,currentSlide:x.currentSlide};!x.lazyLoad||x.lazyLoad&&x.lazyLoadedList.indexOf(Z)>=0?w=ge:w=t.default.createElement("div",null);var re=K($($({},x),{},{index:Z})),v=w.props.className||"",E=z($($({},x),{},{index:Z}));if(B.push(t.default.cloneElement(w,{key:"original"+M(w,Z),"data-index":Z,className:(0,e.default)(E,v),tabIndex:"-1","aria-hidden":!E["slick-active"],style:$($({outline:"none"},w.props.style||{}),re),onClick:function(F){w.props&&w.props.onClick&&w.props.onClick(F),x.focusOnSelect&&x.focusOnSelect(G)}})),x.infinite&&x.fade===!1){var T=he-Z;T<=(0,n.getPreClones)(x)&&(L=-T,L>=ne&&(w=ge),E=z($($({},x),{},{index:L})),I.push(t.default.cloneElement(w,{key:"precloned"+M(w,L),"data-index":L,tabIndex:"-1",className:(0,e.default)(E,v),"aria-hidden":!E["slick-active"],style:$($({},w.props.style||{}),re),onClick:function(F){w.props&&w.props.onClick&&w.props.onClick(F),x.focusOnSelect&&x.focusOnSelect(G)}}))),L=he+Z,L<N&&(w=ge),E=z($($({},x),{},{index:L})),Q.push(t.default.cloneElement(w,{key:"postcloned"+M(w,L),"data-index":L,tabIndex:"-1",className:(0,e.default)(E,v),"aria-hidden":!E["slick-active"],style:$($({},w.props.style||{}),re),onClick:function(F){w.props&&w.props.onClick&&w.props.onClick(F),x.focusOnSelect&&x.focusOnSelect(G)}}))}}),x.rtl?I.concat(B,Q).reverse():I.concat(B,Q)};return ju.Track=function(A){p(L,A);var x=S(L);function L(){var B;c(this,L);for(var I=arguments.length,Q=new Array(I),he=0;he<I;he++)Q[he]=arguments[he];return B=x.call.apply(x,[this].concat(Q)),q(j(B),"node",null),q(j(B),"handleRef",function(ne){B.node=ne}),B}return h(L,[{key:"render",value:function(){var I=O(this.props),Q=this.props,he=Q.onMouseEnter,ne=Q.onMouseOver,N=Q.onMouseLeave,ge={onMouseEnter:he,onMouseOver:ne,onMouseLeave:N};return t.default.createElement("div",o({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},ge),I)}}]),L}(t.default.PureComponent),ju}var Du={},xT;function B9(){if(xT)return Du;xT=1;function t(z){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},t(z)}Object.defineProperty(Du,"__esModule",{value:!0}),Du.Dots=void 0;var e=s(Pi()),n=s(tm()),r=Rd();function s(z){return z&&z.__esModule?z:{default:z}}function o(z,K){var M=Object.keys(z);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(z);K&&(O=O.filter(function(A){return Object.getOwnPropertyDescriptor(z,A).enumerable})),M.push.apply(M,O)}return M}function c(z){for(var K=1;K<arguments.length;K++){var M=arguments[K]!=null?arguments[K]:{};K%2?o(Object(M),!0).forEach(function(O){d(z,O,M[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(M)):o(Object(M)).forEach(function(O){Object.defineProperty(z,O,Object.getOwnPropertyDescriptor(M,O))})}return z}function d(z,K,M){return K=S(K),K in z?Object.defineProperty(z,K,{value:M,enumerable:!0,configurable:!0,writable:!0}):z[K]=M,z}function h(z,K){if(!(z instanceof K))throw new TypeError("Cannot call a class as a function")}function p(z,K){for(var M=0;M<K.length;M++){var O=K[M];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(z,S(O.key),O)}}function _(z,K,M){return K&&p(z.prototype,K),Object.defineProperty(z,"prototype",{writable:!1}),z}function S(z){var K=C(z,"string");return t(K)=="symbol"?K:String(K)}function C(z,K){if(t(z)!="object"||!z)return z;var M=z[Symbol.toPrimitive];if(M!==void 0){var O=M.call(z,K);if(t(O)!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(z)}function j(z,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(K&&K.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),Object.defineProperty(z,"prototype",{writable:!1}),K&&P(z,K)}function P(z,K){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,A){return O.__proto__=A,O},P(z,K)}function V(z){var K=q();return function(){var O=X(z),A;if(K){var x=X(this).constructor;A=Reflect.construct(O,arguments,x)}else A=O.apply(this,arguments);return U(this,A)}}function U(z,K){if(K&&(t(K)==="object"||typeof K=="function"))return K;if(K!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $(z)}function $(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function q(){try{var z=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q=function(){return!!z})()}function X(z){return X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(M){return M.__proto__||Object.getPrototypeOf(M)},X(z)}var te=function(K){var M;return K.infinite?M=Math.ceil(K.slideCount/K.slidesToScroll):M=Math.ceil((K.slideCount-K.slidesToShow)/K.slidesToScroll)+1,M};return Du.Dots=function(z){j(M,z);var K=V(M);function M(){return h(this,M),K.apply(this,arguments)}return _(M,[{key:"clickHandler",value:function(A,x){x.preventDefault(),this.props.clickHandler(A)}},{key:"render",value:function(){for(var A=this.props,x=A.onMouseEnter,L=A.onMouseOver,B=A.onMouseLeave,I=A.infinite,Q=A.slidesToScroll,he=A.slidesToShow,ne=A.slideCount,N=A.currentSlide,ge=te({slideCount:ne,slidesToScroll:Q,slidesToShow:he,infinite:I}),Z={onMouseEnter:x,onMouseOver:L,onMouseLeave:B},w=[],G=0;G<ge;G++){var re=(G+1)*Q-1,v=I?re:(0,r.clamp)(re,0,ne-1),E=v-(Q-1),T=I?E:(0,r.clamp)(E,0,ne-1),D=(0,n.default)({"slick-active":I?N>=T&&N<=v:N===T}),F={message:"dots",index:G,slidesToScroll:Q,currentSlide:N},ee=this.clickHandler.bind(this,F);w=w.concat(e.default.createElement("li",{key:G,className:D},e.default.cloneElement(this.props.customPaging(G),{onClick:ee})))}return e.default.cloneElement(this.props.appendDots(w),c({className:this.props.dotsClass},Z))}}]),M}(e.default.PureComponent),Du}var go={},AT;function F9(){if(AT)return go;AT=1;function t(z){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},t(z)}Object.defineProperty(go,"__esModule",{value:!0}),go.PrevArrow=go.NextArrow=void 0;var e=s(Pi()),n=s(tm()),r=Rd();function s(z){return z&&z.__esModule?z:{default:z}}function o(){return o=Object.assign?Object.assign.bind():function(z){for(var K=1;K<arguments.length;K++){var M=arguments[K];for(var O in M)Object.prototype.hasOwnProperty.call(M,O)&&(z[O]=M[O])}return z},o.apply(this,arguments)}function c(z,K){var M=Object.keys(z);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(z);K&&(O=O.filter(function(A){return Object.getOwnPropertyDescriptor(z,A).enumerable})),M.push.apply(M,O)}return M}function d(z){for(var K=1;K<arguments.length;K++){var M=arguments[K]!=null?arguments[K]:{};K%2?c(Object(M),!0).forEach(function(O){h(z,O,M[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(M)):c(Object(M)).forEach(function(O){Object.defineProperty(z,O,Object.getOwnPropertyDescriptor(M,O))})}return z}function h(z,K,M){return K=C(K),K in z?Object.defineProperty(z,K,{value:M,enumerable:!0,configurable:!0,writable:!0}):z[K]=M,z}function p(z,K){if(!(z instanceof K))throw new TypeError("Cannot call a class as a function")}function _(z,K){for(var M=0;M<K.length;M++){var O=K[M];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(z,C(O.key),O)}}function S(z,K,M){return K&&_(z.prototype,K),Object.defineProperty(z,"prototype",{writable:!1}),z}function C(z){var K=j(z,"string");return t(K)=="symbol"?K:String(K)}function j(z,K){if(t(z)!="object"||!z)return z;var M=z[Symbol.toPrimitive];if(M!==void 0){var O=M.call(z,K);if(t(O)!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(z)}function P(z,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(K&&K.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),Object.defineProperty(z,"prototype",{writable:!1}),K&&V(z,K)}function V(z,K){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,A){return O.__proto__=A,O},V(z,K)}function U(z){var K=X();return function(){var O=te(z),A;if(K){var x=te(this).constructor;A=Reflect.construct(O,arguments,x)}else A=O.apply(this,arguments);return $(this,A)}}function $(z,K){if(K&&(t(K)==="object"||typeof K=="function"))return K;if(K!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q(z)}function q(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function X(){try{var z=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X=function(){return!!z})()}function te(z){return te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(M){return M.__proto__||Object.getPrototypeOf(M)},te(z)}return go.PrevArrow=function(z){P(M,z);var K=U(M);function M(){return p(this,M),K.apply(this,arguments)}return S(M,[{key:"clickHandler",value:function(A,x){x&&x.preventDefault(),this.props.clickHandler(A,x)}},{key:"render",value:function(){var A={"slick-arrow":!0,"slick-prev":!0},x=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(A["slick-disabled"]=!0,x=null);var L={key:"0","data-role":"none",className:(0,n.default)(A),style:{display:"block"},onClick:x},B={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},I;return this.props.prevArrow?I=e.default.cloneElement(this.props.prevArrow,d(d({},L),B)):I=e.default.createElement("button",o({key:"0",type:"button"},L)," ","Previous"),I}}]),M}(e.default.PureComponent),go.NextArrow=function(z){P(M,z);var K=U(M);function M(){return p(this,M),K.apply(this,arguments)}return S(M,[{key:"clickHandler",value:function(A,x){x&&x.preventDefault(),this.props.clickHandler(A,x)}},{key:"render",value:function(){var A={"slick-arrow":!0,"slick-next":!0},x=this.clickHandler.bind(this,{message:"next"});(0,r.canGoNext)(this.props)||(A["slick-disabled"]=!0,x=null);var L={key:"1","data-role":"none",className:(0,n.default)(A),style:{display:"block"},onClick:x},B={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},I;return this.props.nextArrow?I=e.default.cloneElement(this.props.nextArrow,d(d({},L),B)):I=e.default.createElement("button",o({key:"1",type:"button"},L)," ","Next"),I}}]),M}(e.default.PureComponent),go}var NN=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(s,o){return s[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),s=this.__entries__[r];return s&&s[1]},e.prototype.set=function(n,r){var s=t(this.__entries__,n);~s?this.__entries__[s][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,s=t(r,n);~s&&r.splice(s,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var s=0,o=this.__entries__;s<o.length;s++){var c=o[s];n.call(r,c[1],c[0])}},e}()}(),Qy=typeof window<"u"&&typeof document<"u"&&window.document===document,hp=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),q9=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(hp):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),H9=2;function $9(t,e){var n=!1,r=!1,s=0;function o(){n&&(n=!1,t()),r&&d()}function c(){q9(o)}function d(){var h=Date.now();if(n){if(h-s<H9)return;r=!0}else n=!0,r=!1,setTimeout(c,e);s=h}return d}var G9=20,W9=["top","right","bottom","left","width","height","size","weight"],K9=typeof MutationObserver<"u",Q9=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=$9(this.refresh.bind(this),G9)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!Qy||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),K9?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!Qy||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,s=W9.some(function(o){return!!~r.indexOf(o)});s&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),RN=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var s=r[n];Object.defineProperty(t,s,{value:e[s],enumerable:!1,writable:!1,configurable:!0})}return t},oc=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||hp},ON=nm(0,0,0,0);function fp(t){return parseFloat(t)||0}function CT(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,s){var o=t["border-"+s+"-width"];return r+fp(o)},0)}function Y9(t){for(var e=["top","right","bottom","left"],n={},r=0,s=e;r<s.length;r++){var o=s[r],c=t["padding-"+o];n[o]=fp(c)}return n}function X9(t){var e=t.getBBox();return nm(0,0,e.width,e.height)}function J9(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return ON;var r=oc(t).getComputedStyle(t),s=Y9(r),o=s.left+s.right,c=s.top+s.bottom,d=fp(r.width),h=fp(r.height);if(r.boxSizing==="border-box"&&(Math.round(d+o)!==e&&(d-=CT(r,"left","right")+o),Math.round(h+c)!==n&&(h-=CT(r,"top","bottom")+c)),!eV(t)){var p=Math.round(d+o)-e,_=Math.round(h+c)-n;Math.abs(p)!==1&&(d-=p),Math.abs(_)!==1&&(h-=_)}return nm(s.left,s.top,d,h)}var Z9=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof oc(t).SVGGraphicsElement}:function(t){return t instanceof oc(t).SVGElement&&typeof t.getBBox=="function"}}();function eV(t){return t===oc(t).document.documentElement}function tV(t){return Qy?Z9(t)?X9(t):J9(t):ON}function nV(t){var e=t.x,n=t.y,r=t.width,s=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,c=Object.create(o.prototype);return RN(c,{x:e,y:n,width:r,height:s,top:n,right:e+r,bottom:s+n,left:e}),c}function nm(t,e,n,r){return{x:t,y:e,width:n,height:r}}var rV=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=nm(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=tV(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),iV=function(){function t(e,n){var r=nV(n);RN(this,{target:e,contentRect:r})}return t}(),sV=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new NN,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof oc(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new rV(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof oc(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new iV(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),IN=typeof WeakMap<"u"?new WeakMap:new NN,MN=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Q9.getInstance(),r=new sV(e,n,this);IN.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){MN.prototype[t]=function(){var e;return(e=IN.get(this))[t].apply(e,arguments)}});var aV=function(){return typeof hp.ResizeObserver<"u"?hp.ResizeObserver:MN}();const oV=Object.freeze(Object.defineProperty({__proto__:null,default:aV},Symbol.toStringTag,{value:"Module"})),lV=g4(oV);var kT;function cV(){if(kT)return Mu;kT=1,Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.InnerSlider=void 0;var t=p(Pi()),e=p(V9()),n=p(U9()),r=p(tm()),s=Rd(),o=z9(),c=B9(),d=F9(),h=p(lV);function p(I){return I&&I.__esModule?I:{default:I}}function _(I){"@babel/helpers - typeof";return _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},_(I)}function S(){return S=Object.assign?Object.assign.bind():function(I){for(var Q=1;Q<arguments.length;Q++){var he=arguments[Q];for(var ne in he)Object.prototype.hasOwnProperty.call(he,ne)&&(I[ne]=he[ne])}return I},S.apply(this,arguments)}function C(I,Q){if(I==null)return{};var he=j(I,Q),ne,N;if(Object.getOwnPropertySymbols){var ge=Object.getOwnPropertySymbols(I);for(N=0;N<ge.length;N++)ne=ge[N],!(Q.indexOf(ne)>=0)&&Object.prototype.propertyIsEnumerable.call(I,ne)&&(he[ne]=I[ne])}return he}function j(I,Q){if(I==null)return{};var he={},ne=Object.keys(I),N,ge;for(ge=0;ge<ne.length;ge++)N=ne[ge],!(Q.indexOf(N)>=0)&&(he[N]=I[N]);return he}function P(I,Q){var he=Object.keys(I);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(I);Q&&(ne=ne.filter(function(N){return Object.getOwnPropertyDescriptor(I,N).enumerable})),he.push.apply(he,ne)}return he}function V(I){for(var Q=1;Q<arguments.length;Q++){var he=arguments[Q]!=null?arguments[Q]:{};Q%2?P(Object(he),!0).forEach(function(ne){x(I,ne,he[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(he)):P(Object(he)).forEach(function(ne){Object.defineProperty(I,ne,Object.getOwnPropertyDescriptor(he,ne))})}return I}function U(I,Q){if(!(I instanceof Q))throw new TypeError("Cannot call a class as a function")}function $(I,Q){for(var he=0;he<Q.length;he++){var ne=Q[he];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(I,L(ne.key),ne)}}function q(I,Q,he){return Q&&$(I.prototype,Q),Object.defineProperty(I,"prototype",{writable:!1}),I}function X(I,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(Q&&Q.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),Object.defineProperty(I,"prototype",{writable:!1}),Q&&te(I,Q)}function te(I,Q){return te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ne,N){return ne.__proto__=N,ne},te(I,Q)}function z(I){var Q=O();return function(){var ne=A(I),N;if(Q){var ge=A(this).constructor;N=Reflect.construct(ne,arguments,ge)}else N=ne.apply(this,arguments);return K(this,N)}}function K(I,Q){if(Q&&(_(Q)==="object"||typeof Q=="function"))return Q;if(Q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M(I)}function M(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function O(){try{var I=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O=function(){return!!I})()}function A(I){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(he){return he.__proto__||Object.getPrototypeOf(he)},A(I)}function x(I,Q,he){return Q=L(Q),Q in I?Object.defineProperty(I,Q,{value:he,enumerable:!0,configurable:!0,writable:!0}):I[Q]=he,I}function L(I){var Q=B(I,"string");return _(Q)=="symbol"?Q:String(Q)}function B(I,Q){if(_(I)!="object"||!I)return I;var he=I[Symbol.toPrimitive];if(he!==void 0){var ne=he.call(I,Q);if(_(ne)!="object")return ne;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Q==="string"?String:Number)(I)}return Mu.InnerSlider=function(I){X(he,I);var Q=z(he);function he(ne){var N;U(this,he),N=Q.call(this,ne),x(M(N),"listRefHandler",function(Z){return N.list=Z}),x(M(N),"trackRefHandler",function(Z){return N.track=Z}),x(M(N),"adaptHeight",function(){if(N.props.adaptiveHeight&&N.list){var Z=N.list.querySelector('[data-index="'.concat(N.state.currentSlide,'"]'));N.list.style.height=(0,s.getHeight)(Z)+"px"}}),x(M(N),"componentDidMount",function(){if(N.props.onInit&&N.props.onInit(),N.props.lazyLoad){var Z=(0,s.getOnDemandLazySlides)(V(V({},N.props),N.state));Z.length>0&&(N.setState(function(G){return{lazyLoadedList:G.lazyLoadedList.concat(Z)}}),N.props.onLazyLoad&&N.props.onLazyLoad(Z))}var w=V({listRef:N.list,trackRef:N.track},N.props);N.updateState(w,!0,function(){N.adaptHeight(),N.props.autoplay&&N.autoPlay("update")}),N.props.lazyLoad==="progressive"&&(N.lazyLoadTimer=setInterval(N.progressiveLazyLoad,1e3)),N.ro=new h.default(function(){N.state.animating?(N.onWindowResized(!1),N.callbackTimers.push(setTimeout(function(){return N.onWindowResized()},N.props.speed))):N.onWindowResized()}),N.ro.observe(N.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(G){G.onfocus=N.props.pauseOnFocus?N.onSlideFocus:null,G.onblur=N.props.pauseOnFocus?N.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",N.onWindowResized):window.attachEvent("onresize",N.onWindowResized)}),x(M(N),"componentWillUnmount",function(){N.animationEndCallback&&clearTimeout(N.animationEndCallback),N.lazyLoadTimer&&clearInterval(N.lazyLoadTimer),N.callbackTimers.length&&(N.callbackTimers.forEach(function(Z){return clearTimeout(Z)}),N.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",N.onWindowResized):window.detachEvent("onresize",N.onWindowResized),N.autoplayTimer&&clearInterval(N.autoplayTimer),N.ro.disconnect()}),x(M(N),"componentDidUpdate",function(Z){if(N.checkImagesLoad(),N.props.onReInit&&N.props.onReInit(),N.props.lazyLoad){var w=(0,s.getOnDemandLazySlides)(V(V({},N.props),N.state));w.length>0&&(N.setState(function(v){return{lazyLoadedList:v.lazyLoadedList.concat(w)}}),N.props.onLazyLoad&&N.props.onLazyLoad(w))}N.adaptHeight();var G=V(V({listRef:N.list,trackRef:N.track},N.props),N.state),re=N.didPropsChange(Z);re&&N.updateState(G,re,function(){N.state.currentSlide>=t.default.Children.count(N.props.children)&&N.changeSlide({message:"index",index:t.default.Children.count(N.props.children)-N.props.slidesToShow,currentSlide:N.state.currentSlide}),N.props.autoplay?N.autoPlay("update"):N.pause("paused")})}),x(M(N),"onWindowResized",function(Z){N.debouncedResize&&N.debouncedResize.cancel(),N.debouncedResize=(0,n.default)(function(){return N.resizeWindow(Z)},50),N.debouncedResize()}),x(M(N),"resizeWindow",function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,w=!!(N.track&&N.track.node);if(w){var G=V(V({listRef:N.list,trackRef:N.track},N.props),N.state);N.updateState(G,Z,function(){N.props.autoplay?N.autoPlay("update"):N.pause("paused")}),N.setState({animating:!1}),clearTimeout(N.animationEndCallback),delete N.animationEndCallback}}),x(M(N),"updateState",function(Z,w,G){var re=(0,s.initializedState)(Z);Z=V(V(V({},Z),re),{},{slideIndex:re.currentSlide});var v=(0,s.getTrackLeft)(Z);Z=V(V({},Z),{},{left:v});var E=(0,s.getTrackCSS)(Z);(w||t.default.Children.count(N.props.children)!==t.default.Children.count(Z.children))&&(re.trackStyle=E),N.setState(re,G)}),x(M(N),"ssrInit",function(){if(N.props.variableWidth){var Z=0,w=0,G=[],re=(0,s.getPreClones)(V(V(V({},N.props),N.state),{},{slideCount:N.props.children.length})),v=(0,s.getPostClones)(V(V(V({},N.props),N.state),{},{slideCount:N.props.children.length}));N.props.children.forEach(function(qe){G.push(qe.props.style.width),Z+=qe.props.style.width});for(var E=0;E<re;E++)w+=G[G.length-1-E],Z+=G[G.length-1-E];for(var T=0;T<v;T++)Z+=G[T];for(var D=0;D<N.state.currentSlide;D++)w+=G[D];var F={width:Z+"px",left:-w+"px"};if(N.props.centerMode){var ee="".concat(G[N.state.currentSlide],"px");F.left="calc(".concat(F.left," + (100% - ").concat(ee,") / 2 ) ")}return{trackStyle:F}}var ue=t.default.Children.count(N.props.children),ce=V(V(V({},N.props),N.state),{},{slideCount:ue}),ve=(0,s.getPreClones)(ce)+(0,s.getPostClones)(ce)+ue,Te=100/N.props.slidesToShow*ve,Se=100/ve,xe=-Se*((0,s.getPreClones)(ce)+N.state.currentSlide)*Te/100;N.props.centerMode&&(xe+=(100-Se*Te/100)/2);var Ie={width:Te+"%",left:xe+"%"};return{slideWidth:Se+"%",trackStyle:Ie}}),x(M(N),"checkImagesLoad",function(){var Z=N.list&&N.list.querySelectorAll&&N.list.querySelectorAll(".slick-slide img")||[],w=Z.length,G=0;Array.prototype.forEach.call(Z,function(re){var v=function(){return++G&&G>=w&&N.onWindowResized()};if(!re.onclick)re.onclick=function(){return re.parentNode.focus()};else{var E=re.onclick;re.onclick=function(T){E(T),re.parentNode.focus()}}re.onload||(N.props.lazyLoad?re.onload=function(){N.adaptHeight(),N.callbackTimers.push(setTimeout(N.onWindowResized,N.props.speed))}:(re.onload=v,re.onerror=function(){v(),N.props.onLazyLoadError&&N.props.onLazyLoadError()}))})}),x(M(N),"progressiveLazyLoad",function(){for(var Z=[],w=V(V({},N.props),N.state),G=N.state.currentSlide;G<N.state.slideCount+(0,s.getPostClones)(w);G++)if(N.state.lazyLoadedList.indexOf(G)<0){Z.push(G);break}for(var re=N.state.currentSlide-1;re>=-(0,s.getPreClones)(w);re--)if(N.state.lazyLoadedList.indexOf(re)<0){Z.push(re);break}Z.length>0?(N.setState(function(v){return{lazyLoadedList:v.lazyLoadedList.concat(Z)}}),N.props.onLazyLoad&&N.props.onLazyLoad(Z)):N.lazyLoadTimer&&(clearInterval(N.lazyLoadTimer),delete N.lazyLoadTimer)}),x(M(N),"slideHandler",function(Z){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,G=N.props,re=G.asNavFor,v=G.beforeChange,E=G.onLazyLoad,T=G.speed,D=G.afterChange,F=N.state.currentSlide,ee=(0,s.slideHandler)(V(V(V({index:Z},N.props),N.state),{},{trackRef:N.track,useCSS:N.props.useCSS&&!w})),ue=ee.state,ce=ee.nextState;if(ue){v&&v(F,ue.currentSlide);var ve=ue.lazyLoadedList.filter(function(Te){return N.state.lazyLoadedList.indexOf(Te)<0});E&&ve.length>0&&E(ve),!N.props.waitForAnimate&&N.animationEndCallback&&(clearTimeout(N.animationEndCallback),D&&D(F),delete N.animationEndCallback),N.setState(ue,function(){re&&N.asNavForIndex!==Z&&(N.asNavForIndex=Z,re.innerSlider.slideHandler(Z)),ce&&(N.animationEndCallback=setTimeout(function(){var Te=ce.animating,Se=C(ce,["animating"]);N.setState(Se,function(){N.callbackTimers.push(setTimeout(function(){return N.setState({animating:Te})},10)),D&&D(ue.currentSlide),delete N.animationEndCallback})},T))})}}),x(M(N),"changeSlide",function(Z){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,G=V(V({},N.props),N.state),re=(0,s.changeSlide)(G,Z);if(!(re!==0&&!re)&&(w===!0?N.slideHandler(re,w):N.slideHandler(re),N.props.autoplay&&N.autoPlay("update"),N.props.focusOnSelect)){var v=N.list.querySelectorAll(".slick-current");v[0]&&v[0].focus()}}),x(M(N),"clickHandler",function(Z){N.clickable===!1&&(Z.stopPropagation(),Z.preventDefault()),N.clickable=!0}),x(M(N),"keyHandler",function(Z){var w=(0,s.keyHandler)(Z,N.props.accessibility,N.props.rtl);w!==""&&N.changeSlide({message:w})}),x(M(N),"selectHandler",function(Z){N.changeSlide(Z)}),x(M(N),"disableBodyScroll",function(){var Z=function(G){G=G||window.event,G.preventDefault&&G.preventDefault(),G.returnValue=!1};window.ontouchmove=Z}),x(M(N),"enableBodyScroll",function(){window.ontouchmove=null}),x(M(N),"swipeStart",function(Z){N.props.verticalSwiping&&N.disableBodyScroll();var w=(0,s.swipeStart)(Z,N.props.swipe,N.props.draggable);w!==""&&N.setState(w)}),x(M(N),"swipeMove",function(Z){var w=(0,s.swipeMove)(Z,V(V(V({},N.props),N.state),{},{trackRef:N.track,listRef:N.list,slideIndex:N.state.currentSlide}));w&&(w.swiping&&(N.clickable=!1),N.setState(w))}),x(M(N),"swipeEnd",function(Z){var w=(0,s.swipeEnd)(Z,V(V(V({},N.props),N.state),{},{trackRef:N.track,listRef:N.list,slideIndex:N.state.currentSlide}));if(w){var G=w.triggerSlideHandler;delete w.triggerSlideHandler,N.setState(w),G!==void 0&&(N.slideHandler(G),N.props.verticalSwiping&&N.enableBodyScroll())}}),x(M(N),"touchEnd",function(Z){N.swipeEnd(Z),N.clickable=!0}),x(M(N),"slickPrev",function(){N.callbackTimers.push(setTimeout(function(){return N.changeSlide({message:"previous"})},0))}),x(M(N),"slickNext",function(){N.callbackTimers.push(setTimeout(function(){return N.changeSlide({message:"next"})},0))}),x(M(N),"slickGoTo",function(Z){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Z=Number(Z),isNaN(Z))return"";N.callbackTimers.push(setTimeout(function(){return N.changeSlide({message:"index",index:Z,currentSlide:N.state.currentSlide},w)},0))}),x(M(N),"play",function(){var Z;if(N.props.rtl)Z=N.state.currentSlide-N.props.slidesToScroll;else if((0,s.canGoNext)(V(V({},N.props),N.state)))Z=N.state.currentSlide+N.props.slidesToScroll;else return!1;N.slideHandler(Z)}),x(M(N),"autoPlay",function(Z){N.autoplayTimer&&clearInterval(N.autoplayTimer);var w=N.state.autoplaying;if(Z==="update"){if(w==="hovered"||w==="focused"||w==="paused")return}else if(Z==="leave"){if(w==="paused"||w==="focused")return}else if(Z==="blur"&&(w==="paused"||w==="hovered"))return;N.autoplayTimer=setInterval(N.play,N.props.autoplaySpeed+50),N.setState({autoplaying:"playing"})}),x(M(N),"pause",function(Z){N.autoplayTimer&&(clearInterval(N.autoplayTimer),N.autoplayTimer=null);var w=N.state.autoplaying;Z==="paused"?N.setState({autoplaying:"paused"}):Z==="focused"?(w==="hovered"||w==="playing")&&N.setState({autoplaying:"focused"}):w==="playing"&&N.setState({autoplaying:"hovered"})}),x(M(N),"onDotsOver",function(){return N.props.autoplay&&N.pause("hovered")}),x(M(N),"onDotsLeave",function(){return N.props.autoplay&&N.state.autoplaying==="hovered"&&N.autoPlay("leave")}),x(M(N),"onTrackOver",function(){return N.props.autoplay&&N.pause("hovered")}),x(M(N),"onTrackLeave",function(){return N.props.autoplay&&N.state.autoplaying==="hovered"&&N.autoPlay("leave")}),x(M(N),"onSlideFocus",function(){return N.props.autoplay&&N.pause("focused")}),x(M(N),"onSlideBlur",function(){return N.props.autoplay&&N.state.autoplaying==="focused"&&N.autoPlay("blur")}),x(M(N),"render",function(){var Z=(0,r.default)("slick-slider",N.props.className,{"slick-vertical":N.props.vertical,"slick-initialized":!0}),w=V(V({},N.props),N.state),G=(0,s.extractObject)(w,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),re=N.props.pauseOnHover;G=V(V({},G),{},{onMouseEnter:re?N.onTrackOver:null,onMouseLeave:re?N.onTrackLeave:null,onMouseOver:re?N.onTrackOver:null,focusOnSelect:N.props.focusOnSelect&&N.clickable?N.selectHandler:null});var v;if(N.props.dots===!0&&N.state.slideCount>=N.props.slidesToShow){var E=(0,s.extractObject)(w,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),T=N.props.pauseOnDotsHover;E=V(V({},E),{},{clickHandler:N.changeSlide,onMouseEnter:T?N.onDotsLeave:null,onMouseOver:T?N.onDotsOver:null,onMouseLeave:T?N.onDotsLeave:null}),v=t.default.createElement(c.Dots,E)}var D,F,ee=(0,s.extractObject)(w,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);ee.clickHandler=N.changeSlide,N.props.arrows&&(D=t.default.createElement(d.PrevArrow,ee),F=t.default.createElement(d.NextArrow,ee));var ue=null;N.props.vertical&&(ue={height:N.state.listHeight});var ce=null;N.props.vertical===!1?N.props.centerMode===!0&&(ce={padding:"0px "+N.props.centerPadding}):N.props.centerMode===!0&&(ce={padding:N.props.centerPadding+" 0px"});var ve=V(V({},ue),ce),Te=N.props.touchMove,Se={className:"slick-list",style:ve,onClick:N.clickHandler,onMouseDown:Te?N.swipeStart:null,onMouseMove:N.state.dragging&&Te?N.swipeMove:null,onMouseUp:Te?N.swipeEnd:null,onMouseLeave:N.state.dragging&&Te?N.swipeEnd:null,onTouchStart:Te?N.swipeStart:null,onTouchMove:N.state.dragging&&Te?N.swipeMove:null,onTouchEnd:Te?N.touchEnd:null,onTouchCancel:N.state.dragging&&Te?N.swipeEnd:null,onKeyDown:N.props.accessibility?N.keyHandler:null},xe={className:Z,dir:"ltr",style:N.props.style};return N.props.unslick&&(Se={className:"slick-list"},xe={className:Z}),t.default.createElement("div",xe,N.props.unslick?"":D,t.default.createElement("div",S({ref:N.listRefHandler},Se),t.default.createElement(o.Track,S({ref:N.trackRefHandler},G),N.props.children)),N.props.unslick?"":F,N.props.unslick?"":v)}),N.list=null,N.track=null,N.state=V(V({},e.default),{},{currentSlide:N.props.initialSlide,targetSlide:N.props.initialSlide?N.props.initialSlide:0,slideCount:t.default.Children.count(N.props.children)}),N.callbackTimers=[],N.clickable=!0,N.debouncedResize=null;var ge=N.ssrInit();return N.state=V(V({},N.state),ge),N}return q(he,[{key:"didPropsChange",value:function(N){for(var ge=!1,Z=0,w=Object.keys(this.props);Z<w.length;Z++){var G=w[Z];if(!N.hasOwnProperty(G)){ge=!0;break}if(!(_(N[G])==="object"||typeof N[G]=="function"||isNaN(N[G]))&&N[G]!==this.props[G]){ge=!0;break}}return ge||t.default.Children.count(this.props.children)!==t.default.Children.count(N.children)}}]),he}(t.default.Component),Mu}var qv,NT;function uV(){if(NT)return qv;NT=1;var t=function(e){return e.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()}).toLowerCase()};return qv=t,qv}var Hv,RT;function dV(){if(RT)return Hv;RT=1;var t=uV(),e=function(s){var o=/[height|width]$/;return o.test(s)},n=function(s){var o="",c=Object.keys(s);return c.forEach(function(d,h){var p=s[d];d=t(d),e(d)&&typeof p=="number"&&(p=p+"px"),p===!0?o+=d:p===!1?o+="not "+d:o+="("+d+": "+p+")",h<c.length-1&&(o+=" and ")}),o},r=function(s){var o="";return typeof s=="string"?s:s instanceof Array?(s.forEach(function(c,d){o+=n(c),d<s.length-1&&(o+=", ")}),o):n(s)};return Hv=r,Hv}var $v,OT;function hV(){if(OT)return $v;OT=1;function t(e){this.options=e,!e.deferSetup&&this.setup()}return t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},$v=t,$v}var Gv,IT;function jN(){if(IT)return Gv;IT=1;function t(r,s){var o=0,c=r.length,d;for(o;o<c&&(d=s(r[o],o),d!==!1);o++);}function e(r){return Object.prototype.toString.apply(r)==="[object Array]"}function n(r){return typeof r=="function"}return Gv={isFunction:n,isArray:e,each:t},Gv}var Wv,MT;function fV(){if(MT)return Wv;MT=1;var t=hV(),e=jN().each;function n(r,s){this.query=r,this.isUnconditional=s,this.handlers=[],this.mql=window.matchMedia(r);var o=this;this.listener=function(c){o.mql=c.currentTarget||c,o.assess()},this.mql.addListener(this.listener)}return n.prototype={constuctor:n,addHandler:function(r){var s=new t(r);this.handlers.push(s),this.matches()&&s.on()},removeHandler:function(r){var s=this.handlers;e(s,function(o,c){if(o.equals(r))return o.destroy(),!s.splice(c,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(r){r.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var r=this.matches()?"on":"off";e(this.handlers,function(s){s[r]()})}},Wv=n,Wv}var Kv,jT;function pV(){if(jT)return Kv;jT=1;var t=fV(),e=jN(),n=e.each,r=e.isFunction,s=e.isArray;function o(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return o.prototype={constructor:o,register:function(c,d,h){var p=this.queries,_=h&&this.browserIsIncapable;return p[c]||(p[c]=new t(c,_)),r(d)&&(d={match:d}),s(d)||(d=[d]),n(d,function(S){r(S)&&(S={match:S}),p[c].addHandler(S)}),this},unregister:function(c,d){var h=this.queries[c];return h&&(d?h.removeHandler(d):(h.clear(),delete this.queries[c])),this}},Kv=o,Kv}var Qv,DT;function mV(){if(DT)return Qv;DT=1;var t=pV();return Qv=new t,Qv}var PT;function gV(){return PT||(PT=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=c(Pi()),n=cV(),r=c(dV()),s=c(kN()),o=Rd();function c(A){return A&&A.__esModule?A:{default:A}}function d(A){"@babel/helpers - typeof";return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},d(A)}function h(){return h=Object.assign?Object.assign.bind():function(A){for(var x=1;x<arguments.length;x++){var L=arguments[x];for(var B in L)Object.prototype.hasOwnProperty.call(L,B)&&(A[B]=L[B])}return A},h.apply(this,arguments)}function p(A,x){var L=Object.keys(A);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(A);x&&(B=B.filter(function(I){return Object.getOwnPropertyDescriptor(A,I).enumerable})),L.push.apply(L,B)}return L}function _(A){for(var x=1;x<arguments.length;x++){var L=arguments[x]!=null?arguments[x]:{};x%2?p(Object(L),!0).forEach(function(B){z(A,B,L[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(L)):p(Object(L)).forEach(function(B){Object.defineProperty(A,B,Object.getOwnPropertyDescriptor(L,B))})}return A}function S(A,x){if(!(A instanceof x))throw new TypeError("Cannot call a class as a function")}function C(A,x){for(var L=0;L<x.length;L++){var B=x[L];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(A,K(B.key),B)}}function j(A,x,L){return x&&C(A.prototype,x),Object.defineProperty(A,"prototype",{writable:!1}),A}function P(A,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(x&&x.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),x&&V(A,x)}function V(A,x){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,I){return B.__proto__=I,B},V(A,x)}function U(A){var x=X();return function(){var B=te(A),I;if(x){var Q=te(this).constructor;I=Reflect.construct(B,arguments,Q)}else I=B.apply(this,arguments);return $(this,I)}}function $(A,x){if(x&&(d(x)==="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q(A)}function q(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function X(){try{var A=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X=function(){return!!A})()}function te(A){return te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(L){return L.__proto__||Object.getPrototypeOf(L)},te(A)}function z(A,x,L){return x=K(x),x in A?Object.defineProperty(A,x,{value:L,enumerable:!0,configurable:!0,writable:!0}):A[x]=L,A}function K(A){var x=M(A,"string");return d(x)=="symbol"?x:String(x)}function M(A,x){if(d(A)!="object"||!A)return A;var L=A[Symbol.toPrimitive];if(L!==void 0){var B=L.call(A,x);if(d(B)!="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(A)}var O=(0,o.canUseDOM)()&&mV();t.default=function(A){P(L,A);var x=U(L);function L(B){var I;return S(this,L),I=x.call(this,B),z(q(I),"innerSliderRefHandler",function(Q){return I.innerSlider=Q}),z(q(I),"slickPrev",function(){return I.innerSlider.slickPrev()}),z(q(I),"slickNext",function(){return I.innerSlider.slickNext()}),z(q(I),"slickGoTo",function(Q){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return I.innerSlider.slickGoTo(Q,he)}),z(q(I),"slickPause",function(){return I.innerSlider.pause("paused")}),z(q(I),"slickPlay",function(){return I.innerSlider.autoPlay("play")}),I.state={breakpoint:null},I._responsiveMediaHandlers=[],I}return j(L,[{key:"media",value:function(I,Q){O.register(I,Q),this._responsiveMediaHandlers.push({query:I,handler:Q})}},{key:"componentDidMount",value:function(){var I=this;if(this.props.responsive){var Q=this.props.responsive.map(function(ne){return ne.breakpoint});Q.sort(function(ne,N){return ne-N}),Q.forEach(function(ne,N){var ge;N===0?ge=(0,r.default)({minWidth:0,maxWidth:ne}):ge=(0,r.default)({minWidth:Q[N-1]+1,maxWidth:ne}),(0,o.canUseDOM)()&&I.media(ge,function(){I.setState({breakpoint:ne})})});var he=(0,r.default)({minWidth:Q.slice(-1)[0]});(0,o.canUseDOM)()&&this.media(he,function(){I.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(I){O.unregister(I.query,I.handler)})}},{key:"render",value:function(){var I=this,Q,he;this.state.breakpoint?(he=this.props.responsive.filter(function(T){return T.breakpoint===I.state.breakpoint}),Q=he[0].settings==="unslick"?"unslick":_(_(_({},s.default),this.props),he[0].settings)):Q=_(_({},s.default),this.props),Q.centerMode&&(Q.slidesToScroll>1,Q.slidesToScroll=1),Q.fade&&(Q.slidesToShow>1,Q.slidesToScroll>1,Q.slidesToShow=1,Q.slidesToScroll=1);var ne=e.default.Children.toArray(this.props.children);ne=ne.filter(function(T){return typeof T=="string"?!!T.trim():!!T}),Q.variableWidth&&(Q.rows>1||Q.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),Q.variableWidth=!1);for(var N=[],ge=null,Z=0;Z<ne.length;Z+=Q.rows*Q.slidesPerRow){for(var w=[],G=Z;G<Z+Q.rows*Q.slidesPerRow;G+=Q.slidesPerRow){for(var re=[],v=G;v<G+Q.slidesPerRow&&(Q.variableWidth&&ne[v].props.style&&(ge=ne[v].props.style.width),!(v>=ne.length));v+=1)re.push(e.default.cloneElement(ne[v],{key:100*Z+10*G+v,tabIndex:-1,style:{width:"".concat(100/Q.slidesPerRow,"%"),display:"inline-block"}}));w.push(e.default.createElement("div",{key:10*Z+G},re))}Q.variableWidth?N.push(e.default.createElement("div",{key:Z,style:{width:ge}},w)):N.push(e.default.createElement("div",{key:Z},w))}if(Q==="unslick"){var E="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:E},ne)}else N.length<=Q.slidesToShow&&!Q.infinite&&(Q.unslick=!0);return e.default.createElement(n.InnerSlider,h({style:this.props.style,ref:this.innerSliderRefHandler},(0,o.filterSettings)(Q)),N)}}]),L}(e.default.Component)}(Vv)),Vv}var LT;function vV(){return LT||(LT=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(gV());function n(r){return r&&r.__esModule?r:{default:r}}t.default=e.default}(Lv)),Lv}var yV=vV();const DN=Ap(yV),VT=()=>{Y.useEffect(()=>{CN.init({duration:1200,easing:"ease-in-out",once:!1})},[]);const t={dots:!1,infinite:!0,speed:1200,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:3e3,TransitionEvent:"ease-in-out",innerHeight:"100%",innerWidth:"100%"},[e,n]=Y.useState(""),[r,s]=Y.useState(""),[o,c]=Y.useState(""),[d,h]=Y.useState(!1),p=Cs(),_=async C=>{try{const j=await navigator.serviceWorker.register("/firebase-messaging-sw.js");if(console.log("Service Worker registered:",j),await Notification.requestPermission()==="granted"){const U=await R9(vT,{vapidKey:"BJtEqHXmMTa_9F5q1aF6VAFSnu99Tk2D5bRG_Jyg56EoUpJBfUqtH5pE7_GvCJs2Ery0grZdfjYPpLEOGh__woA",serviceWorkerRegistration:j});return console.log("FCM Token:",U),C&&await Dk(jt(Le,"users",C.uid),{fcmToken:U},{merge:!0}),U}}catch(j){console.error("Error requesting notification permission:",j)}};Y.useEffect(()=>{const C=O9(vT,j=>{console.log("Message received:",j);const{title:P,body:V}=j.notification;new Notification(P,{body:V})});return()=>C()},[]);const S=async C=>{C.preventDefault(),h(!0),c("");try{const P=(await TD(Ot,e,r)).user;await _(P);const V=await Fr(jt(Le,"users",P.uid));if(V.exists()){const U=V.data().role;U==="patient"?p("/patientdashboard"):U==="doctor"?p("/doctordashboard"):c("Invalid role. Please contact support.")}else c("User data not found. Please sign up.")}catch(j){c("Invalid Credential"),console.error("Error logging in:",j.message)}finally{h(!1)}};return g.jsxs("div",{className:"min-h-screen w-[100%] h-[100vh] flex justify-center lg:justify-between bg-[#fefbfb]",children:[g.jsx("div",{className:"flex p-8",children:g.jsxs("div",{className:"flex flex-col lg:px-16 items-start",children:[g.jsx("div",{className:"flex flex-col items-center",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"w-20 h-20 2xl:w-40 2xl:h-40 rounded-full bg-[#483d8b]",children:g.jsx("img",{src:AN,"data-aos":"fade-up",alt:"Doctor Illustration",className:"rounded-full w-16 2xl:w-36 h-16 2xl:h-36 mx-auto mt-4"})}),g.jsx("h1",{className:"ml-4 text-[#483d8b] font-[inter] text-4xl",children:"Telemedix"})]})}),g.jsx("div",{className:"mt-10 md:mt-4 md:w-[70vw] lg:w-[35vw] md:ml-20",children:g.jsxs("div",{className:"flex flex-col items-center mt-12",children:[g.jsx("p",{className:"text-gray-600 font-[inter] text-md 2xl:text-2xl mt-1 text-center",children:"Welcome! Please Login ."}),g.jsxs("form",{onSubmit:S,className:"space-y-6 mt-8",children:[g.jsx("input",{className:"w-full h-[55px] text-gray-900 text-xl pl-4 font-[inter] rounded-[12px] font-medium border outline-[#483d8b]",type:"email",placeholder:"Email",value:e,onChange:C=>n(C.target.value),required:!0}),g.jsx("input",{className:"w-full h-[55px] text-xl pl-4 font-[inter] rounded-[12px] font-medium border outline-[#483d8b] text-gray-900",placeholder:"Password",type:"password",value:r,onChange:C=>s(C.target.value),required:!0}),g.jsx("div",{className:"flex flex-row justify-between",children:g.jsxs("div",{className:"flex items-center space-x-1",children:[g.jsx("input",{className:"w-4 h-4",type:"checkbox",name:"remember",id:"remember"}),g.jsx("label",{className:"font-[inter] text-md text-gray-900",htmlFor:"remember",children:"Remember Me"})]})}),o&&g.jsx("p",{className:"text-red-500 text-sm",children:o}),g.jsxs("p",{children:["Don't have an account?",g.jsx(tr,{to:"/signup",className:"text-[#483d8b] ml-1",children:"Signup"})]}),g.jsx("button",{type:"submit",disabled:d,className:"w-full py-3 px-4 text-white text-lg rounded-lg bg-[#483d8b] hover:bg-[rgba(72,61,139,0.9)] focus:ring-4 focus:ring-[#483d8b] focus:ring-opacity-50 font-[inter] font-semibold transition-colors duration-300",children:d?"Logging In...":"Login"})]})]})})]})}),g.jsx("div",{className:"hidden lg:block lg:h-[100vh] lg:w-[500px] xl:w-[600px] 2xl:w-[1100px] lg:overflow-hidden bg-[blue]",children:g.jsxs(DN,{...t,children:[g.jsx("div",{className:"w-[100%] h-[100vh]",children:g.jsx("img",{src:M9,alt:"hospital1",className:"w-[100%] h-[100%] object-cover"})}),g.jsx("div",{className:"w-[100%] h-[100vh]",children:g.jsx("img",{src:j9,alt:"hospital2",className:"w-[100%] h-[100%] object-cover"})})]})})]})},_V="/assets/doc-4-CLynUyPd.jpg",bV="/assets/doc-3-CcUgrFzD.jpg",wV=()=>{const[t,e]=Y.useState({fullName:"",phoneNumber:"",email:"",password:"",confirmPassword:"",dateOfBirth:"",role:"patient",specialization:""}),[n,r]=Y.useState(null),[s,o]=Y.useState(null),[c,d]=Y.useState(null),[h,p]=Y.useState(""),[_,S]=Y.useState(!1),C=Cs();Y.useEffect(()=>{CN.init({duration:1200,easing:"ease-in-out",once:!1})},[]);const j={dots:!1,infinite:!0,speed:1200,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:3e3,TransitionEvent:"ease-in-out",innerHeight:"100%",innerWidth:"100%"},P=z=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(String(z).toLowerCase()),V=z=>z.length>=6,U=z=>/^\d{10,15}$/.test(z),$=z=>{const{name:K,value:M}=z.target;e(O=>({...O,[K]:M}))},q=z=>{const K=z.target.files[0];if(!K)return;const M=["image/jpeg","image/png","image/webp"],O=5*1024*1024;if(!M.includes(K.type)){p("Only JPG, PNG, or WEBP images allowed");return}if(K.size>O){p("Image must be smaller than 5MB");return}r(K),o(URL.createObjectURL(K)),p("")},X=async z=>{var M;const K=new FormData;K.append("file",z),K.append("upload_preset","user_avatars"),K.append("folder","telemedix_profiles");try{const O=await fetch("https://api.cloudinary.com/v1_1/dphxycsgl/upload",{method:"POST",body:K});if(!O.ok){const x=await O.json();throw new Error(((M=x.error)==null?void 0:M.message)||"Image upload failed")}return(await O.json()).secure_url}catch(O){console.error("Cloudinary upload error:",O);let A="Image upload failed. Please try again.";throw O.message.includes("File size too large")?A="Image must be smaller than 5MB":O.message.includes("Invalid file type")&&(A="Only JPG, PNG, or WEBP images allowed"),new Error(A)}},te=async z=>{z.preventDefault(),S(!0),p("");try{if(!t.fullName.trim())throw new Error("Full name is required");if(!P(t.email))throw new Error("Please enter a valid email address");if(!V(t.password))throw new Error("Password must be at least 6 characters");if(t.password!==t.confirmPassword)throw new Error("Passwords do not match");if(!U(t.phoneNumber))throw new Error("Please enter a valid phone number");if(t.role==="doctor"&&!t.specialization.trim())throw new Error("Specialization is required for doctors");if(!t.dateOfBirth)throw new Error("Date of birth is required");if(!n)throw new Error("Profile photo is required");const K=await X(n);d(K);const M=await ED(Ot,t.email,t.password);await F0(M.user,{displayName:t.fullName,photoURL:K});const{password:O,confirmPassword:A,...x}=t;await Dk(jt(Le,"users",M.user.uid),{...x,uid:M.user.uid,photoURL:K,createdAt:new Date().toISOString(),lastLogin:new Date().toISOString(),status:"active"}),C("/login",{state:{signupSuccess:!0,email:t.email,name:t.fullName}})}catch(K){console.error("Signup error:",K),p(K.message||"An error occurred during signup. Please try again.")}finally{S(!1)}};return g.jsxs("div",{className:"min-h-screen w-[100%] h-[100vh] flex justify-center lg:justify-between bg-[#fefbfb]",children:[g.jsx("div",{className:"hidden lg:block lg:h-[100vh] lg:w-[500px] xl:w-[600px] 2xl:w-[1100px] lg:overflow-hidden bg-[blue]",children:g.jsxs(DN,{...j,children:[g.jsx("div",{className:"w-[100%] h-[100vh]",children:g.jsx("img",{src:_V,alt:"hospital1",className:"w-[100%] h-[100%] object-cover"})}),g.jsx("div",{className:"w-[100%] h-[100vh]",children:g.jsx("img",{src:bV,alt:"hospital2",className:"w-[100%] h-[100%] object-cover"})})]})}),g.jsx("div",{className:"w-full lg:w-[55%] xl:w-[50%] flex items-center justify-center p-4 md:p-8 overflow-y-auto",children:g.jsxs("div",{className:"w-full max-w-md",children:[g.jsxs("div",{className:"flex flex-col items-center mb-8",children:[g.jsxs("div",{className:"flex items-center mb-4",children:[g.jsx("div",{className:"w-16 h-16 rounded-full bg-[#483d8b] flex items-center justify-center",children:g.jsx("img",{src:AN,alt:"Telemedix Logo",className:"w-14 h-14 rounded-full","data-aos":"fade-up"})}),g.jsx("h1",{className:"ml-4 text-[#483d8b] font-bold text-3xl",children:"Telemedix"})]}),g.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Create Your Account"})]}),h&&g.jsx("div",{className:"mb-6 p-3 bg-red-100 text-red-700 rounded-lg text-sm",children:h}),g.jsxs("form",{onSubmit:te,className:"space-y-4",children:[g.jsx("div",{className:"flex flex-col items-center mb-4 ",children:g.jsxs("label",{className:"cursor-pointer group",children:[g.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-100 border-2 border-dashed border-gray-300 group-hover:border-[#483d8b] overflow-hidden flex items-center justify-center",children:s?g.jsx("img",{src:s,alt:"Profile Preview",className:"w-full h-full object-cover"}):g.jsxs("div",{className:"text-center",children:[g.jsx("svg",{className:"w-8 h-8 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),g.jsx("span",{className:"text-xs text-gray-500",children:"Upload Photo"})]})}),g.jsx("input",{type:"file",name:"profilePhoto",accept:"image/jpeg,image/png,image/webp",onChange:q,className:"hidden",required:!0})]})}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("input",{name:"fullName",type:"text",placeholder:"Full Name",value:t.fullName,onChange:$,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#483d8b] focus:border-transparent",required:!0}),g.jsx("input",{name:"phoneNumber",type:"tel",placeholder:"Phone Number",value:t.phoneNumber,onChange:$,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#483d8b] focus:border-transparent",required:!0}),g.jsx("input",{name:"email",type:"email",placeholder:"Email Address",value:t.email,onChange:$,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#483d8b] focus:border-transparent",required:!0}),g.jsx("input",{name:"password",type:"password",placeholder:"Password (min 6 characters)",value:t.password,onChange:$,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#483d8b] focus:border-transparent",required:!0,minLength:6}),g.jsx("input",{name:"confirmPassword",type:"password",placeholder:"Confirm Password",value:t.confirmPassword,onChange:$,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#483d8b] focus:border-transparent",required:!0,minLength:6}),g.jsxs("select",{name:"role",value:t.role,onChange:$,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#483d8b] focus:border-transparent",required:!0,children:[g.jsx("option",{value:"patient",children:"Patient"}),g.jsx("option",{value:"doctor",children:"Doctor"})]}),t.role==="doctor"&&g.jsx("input",{name:"specialization",type:"text",placeholder:"Specialization (e.g. Cardiologist)",value:t.specialization,onChange:$,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#483d8b] focus:border-transparent",required:t.role==="doctor"}),g.jsx("input",{name:"dateOfBirth",type:"date",value:t.dateOfBirth,onChange:$,max:new Date().toISOString().split("T")[0],className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#483d8b] focus:border-transparent",required:!0})]}),g.jsx("button",{type:"submit",disabled:_,className:`w-full py-3 px-4 text-white rounded-lg transition-colors ${_?"bg-gray-400 cursor-not-allowed":"bg-[#483d8b] hover:bg-[#3a2f6b]"}`,children:_?g.jsxs("span",{className:"flex items-center justify-center",children:[g.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Account..."]}):"Sign Up"})]}),g.jsxs("p",{className:"mt-6 text-center text-sm text-gray-600",children:["Already have an account?"," ",g.jsx(tr,{to:"/login",className:"font-medium text-[#483d8b] hover:underline",children:"Log in"})]})]})})]})};var PN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},UT=Zr.createContext&&Zr.createContext(PN),SV=["attr","size","title"];function EV(t,e){if(t==null)return{};var n=TV(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TV(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pp(){return pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pp.apply(this,arguments)}function zT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function mp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zT(Object(n),!0).forEach(function(r){xV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xV(t,e,n){return e=AV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AV(t){var e=CV(t,"string");return typeof e=="symbol"?e:e+""}function CV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LN(t){return t&&t.map((e,n)=>Zr.createElement(e.tag,mp({key:n},e.attr),LN(e.child)))}function lt(t){return e=>Zr.createElement(kV,pp({attr:mp({},t.attr)},e),LN(t.child))}function kV(t){var e=n=>{var{attr:r,size:s,title:o}=t,c=EV(t,SV),d=s||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),Zr.createElement("svg",pp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:h,style:mp(mp({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&Zr.createElement("title",null,o),t.children)};return UT!==void 0?Zr.createElement(UT.Consumer,null,n=>e(n)):e(PN)}function VN(t){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function Yy(t){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(t)}function Vo(t){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function UN(t){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 160H12c-6.627 0-12-5.373-12-12v-36c0-26.51 21.49-48 48-48h48V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h128V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h48c26.51 0 48 21.49 48 48v36c0 6.627-5.373 12-12 12zM12 192h424c6.627 0 12 5.373 12 12v260c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V204c0-6.627 5.373-12 12-12zm333.296 95.947l-28.169-28.398c-4.667-4.705-12.265-4.736-16.97-.068L194.12 364.665l-45.98-46.352c-4.667-4.705-12.266-4.736-16.971-.068l-28.397 28.17c-4.705 4.667-4.736 12.265-.068 16.97l82.601 83.269c4.667 4.705 12.265 4.736 16.97.068l142.953-141.805c4.705-4.667 4.736-12.265.068-16.97z"},child:[]}]})(t)}function zN(t){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(t)}function BN(t){return lt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function FN(t){return lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(t)}function NV(t){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function RV(t){return lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function OV(t){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(t)}function IV(t){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M288 136V0H88C74.7 0 64 10.7 64 24v232H8c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h140.9c3 0 5.8 1.7 7.2 4.4l19.9 39.8 56.8-113.7c2.9-5.9 11.4-5.9 14.3 0l34.7 69.5H352c8.8 0 16 7.2 16 16s-7.2 16-16 16h-89.9L240 275.8l-56.8 113.7c-2.9 5.9-11.4 5.9-14.3 0L134.1 320H64v168c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H312c-13.2 0-24-10.8-24-24zm153-31L343.1 7c-4.5-4.5-10.6-7-17-7H320v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(t)}function MV(t){return lt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function qN(t){return lt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm96 304c0 4.4-3.6 8-8 8h-56v56c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-56h-56c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h56v-56c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v56h56c4.4 0 8 3.6 8 8v48zm0-192c0 4.4-3.6 8-8 8H104c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h176c4.4 0 8 3.6 8 8v16z"},child:[]}]})(t)}function HN(t){return lt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M268.2 381.4l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48c-10.7 4.6-16.5 16.1-13.9 27.5l24 104c2.5 10.8 12.1 18.6 23.4 18.6 100.7 0 193.7-32.4 269.7-86.9l-80-61.8c-10.9 6.5-22.1 12.7-33.6 18.1zm365.6 76.7L475.1 335.5C537.9 256.4 576 156.9 576 48c0-11.2-7.7-20.9-18.6-23.4l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-12.2 26.1-27.9 50.3-46 72.8L45.5 3.4C38.5-2 28.5-.8 23 6.2L3.4 31.4c-5.4 7-4.2 17 2.8 22.4l588.4 454.7c7 5.4 17 4.2 22.5-2.8l19.6-25.3c5.4-6.8 4.1-16.9-2.9-22.3z"},child:[]}]})(t)}function jV(t){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function BT(t){return lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M112 32C50.1 32 0 82.1 0 144v224c0 61.9 50.1 112 112 112s112-50.1 112-112V144c0-61.9-50.1-112-112-112zm48 224H64V144c0-26.5 21.5-48 48-48s48 21.5 48 48v112zm139.7-29.7c-3.5-3.5-9.4-3.1-12.3.8-45.3 62.5-40.4 150.1 15.9 206.4 56.3 56.3 143.9 61.2 206.4 15.9 4-2.9 4.3-8.8.8-12.3L299.7 226.3zm229.8-19c-56.3-56.3-143.9-61.2-206.4-15.9-4 2.9-4.3 8.8-.8 12.3l210.8 210.8c3.5 3.5 9.4 3.1 12.3-.8 45.3-62.6 40.5-150.1-15.9-206.4z"},child:[]}]})(t)}function Xy(t){return lt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M360 0H24C10.8 0 0 10.8 0 24v48c0 13.2 10.8 24 24 24h336c13.2 0 24-10.8 24-24V24c0-13.2-10.8-24-24-24zM32 480c0 17.6 14.4 32 32 32h256c17.6 0 32-14.4 32-32V128H32v352zm64-184c0-4.4 3.6-8 8-8h56v-56c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v56h56c4.4 0 8 3.6 8 8v48c0 4.4-3.6 8-8 8h-56v56c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-56h-56c-4.4 0-8-3.6-8-8v-48z"},child:[]}]})(t)}function $N(t){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function DV(t){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function GN(t){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function Ju(t){return lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function WN(t){return lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(t)}function G_(t){return lt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function PV(t){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z"},child:[]}]})(t)}function KN(t){return lt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M610.5 373.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 400.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm201.2 226.5c-2.3-1.2-4.6-2.6-6.8-3.9l-7.9 4.6c-6 3.4-12.8 5.3-19.6 5.3-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-5.5-17.7 1.9-36.4 17.9-45.7l7.9-4.6c-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-16-9.2-23.4-28-17.9-45.7.9-2.9 2.2-5.8 3.2-8.7-3.8-.3-7.5-1.2-11.4-1.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c10.1 0 19.5-3.2 27.2-8.5-1.2-3.8-2-7.7-2-11.8v-9.2z"},child:[]}]})(t)}function QN(t){return lt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h274.9c-2.4-6.8-3.4-14-2.6-21.3l6.8-60.9 1.2-11.1 7.9-7.9 77.3-77.3c-24.5-27.7-60-45.5-99.9-45.5zm45.3 145.3l-6.8 61c-1.1 10.2 7.5 18.8 17.6 17.6l60.9-6.8 137.9-137.9-71.7-71.7-137.9 137.8zM633 268.9L595.1 231c-9.3-9.3-24.5-9.3-33.8 0l-37.8 37.8-4.1 4.1 71.8 71.7 41.8-41.8c9.3-9.4 9.3-24.5 0-33.9z"},child:[]}]})(t)}function YN(t){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M277.37 11.98C261.08 4.47 243.11 0 224 0c-53.69 0-99.5 33.13-118.51 80h81.19l90.69-68.02zM342.51 80c-7.9-19.47-20.67-36.2-36.49-49.52L239.99 80h102.52zM224 256c70.69 0 128-57.31 128-128 0-5.48-.95-10.7-1.61-16H97.61c-.67 5.3-1.61 10.52-1.61 16 0 70.69 57.31 128 128 128zM80 299.7V512h128.26l-98.45-221.52A132.835 132.835 0 0 0 80 299.7zM0 464c0 26.51 21.49 48 48 48V320.24C18.88 344.89 0 381.26 0 422.4V464zm256-48h-55.38l42.67 96H256c26.47 0 48-21.53 48-48s-21.53-48-48-48zm57.6-128h-16.71c-22.24 10.18-46.88 16-72.89 16s-50.65-5.82-72.89-16h-7.37l42.67 96H256c44.11 0 80 35.89 80 80 0 18.08-6.26 34.59-16.41 48H400c26.51 0 48-21.49 48-48v-41.6c0-74.23-60.17-134.4-134.4-134.4z"},child:[]}]})(t)}function W_(t){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zM104 424c0 13.3 10.7 24 24 24s24-10.7 24-24-10.7-24-24-24-24 10.7-24 24zm216-135.4v49c36.5 7.4 64 39.8 64 78.4v41.7c0 7.6-5.4 14.2-12.9 15.7l-32.2 6.4c-4.3.9-8.5-1.9-9.4-6.3l-3.1-15.7c-.9-4.3 1.9-8.6 6.3-9.4l19.3-3.9V416c0-62.8-96-65.1-96 1.9v26.7l19.3 3.9c4.3.9 7.1 5.1 6.3 9.4l-3.1 15.7c-.9 4.3-5.1 7.1-9.4 6.3l-31.2-4.2c-7.9-1.1-13.8-7.8-13.8-15.9V416c0-38.6 27.5-70.9 64-78.4v-45.2c-2.2.7-4.4 1.1-6.6 1.9-18 6.3-37.3 9.8-57.4 9.8s-39.4-3.5-57.4-9.8c-7.4-2.6-14.9-4.2-22.6-5.2v81.6c23.1 6.9 40 28.1 40 53.4 0 30.9-25.1 56-56 56s-56-25.1-56-56c0-25.3 16.9-46.5 40-53.4v-80.4C48.5 301 0 355.8 0 422.4v44.8C0 491.9 20.1 512 44.8 512h358.4c24.7 0 44.8-20.1 44.8-44.8v-44.8c0-72-56.8-130.3-128-133.8z"},child:[]}]})(t)}function LV(t){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function gp(t){return lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"},child:[]}]})(t)}function rm(t){return lt({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"},child:[]},{tag:"path",attr:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"},child:[]}]})(t)}function FT(t){return lt({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M464 512a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm200 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm-400 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm661.2-173.6c-22.6-53.7-55-101.9-96.3-143.3a444.35 444.35 0 0 0-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6.3-119.3 12.3-174.5 35.9a445.35 445.35 0 0 0-142 96.5c-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9A449.4 449.4 0 0 0 112 714v152a46 46 0 0 0 46 46h152.1A449.4 449.4 0 0 0 510 960h2.1c59.9 0 118-11.6 172.7-34.3a444.48 444.48 0 0 0 142.8-95.2c41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5.3-60.9-11.5-120-34.8-175.6zm-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-.6 99.6-39.7 192.9-110.1 262.7z"},child:[]}]})(t)}function qT(t){return lt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-6.43 9.57L12 15l-1.57-3.43L7 10l3.43-1.57L12 5l1.57 3.43L17 10l-3.43 1.57z"},child:[]}]})(t)}const Ec=()=>{var P,V;const[t,e]=Y.useState(null),[n,r]=Y.useState(!0),[s,o]=Y.useState(null),[c,d]=Y.useState(0),[h,p]=Y.useState(!1),_=Cs();Y.useEffect(()=>{const U=WA(Ot,$=>{e($),r(!1)});return()=>U()},[]),Y.useEffect(()=>{if(!t)return;const U=async()=>{try{const te=jt(Le,"users",t.uid),z=await Fr(te);z.exists()?(console.log("Fetched doctor data:",z.data()),o(z.data())):(console.warn("No user data found for:",t.uid),o(null))}catch(te){console.error("Error fetching doctor data:",te)}},$=At(Le,"messages"),q=$t($,Ct("receiverId","==",t.uid),Ct("read","==",!1)),X=ji(q,te=>{d(te.size)},te=>{console.error("Error listening to messages:",te)});return U(),()=>{X()}},[t]);const S=async()=>{try{await KA(Ot),_("/login")}catch(U){console.error("Logout error:",U)}};if(n)return g.jsx("div",{className:"w-64 bg-blue-900 text-white p-5 flex items-center justify-center",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})});if(!t)return g.jsx("div",{className:"w-64 bg-blue-900 text-white p-5",children:"Please log in to continue"});const C="bg-blue-700 border-l-4 border-white",j="hover:bg-blue-800 transition-colors duration-200";return g.jsxs(g.Fragment,{children:[g.jsx("button",{className:"md:hidden fixed top-4 left-4 z-50 text-blue-900 bg-white p-2 rounded",onClick:()=>p(!h),"aria-label":h?"Close menu":"Open menu",children:h?g.jsx(G_,{size:20}):g.jsx(VN,{size:20})}),g.jsxs("div",{className:`fixed md:relative z-40 w-64 min-h-screen bg-blue-900 text-white flex flex-col transition-all duration-300 ${h?"left-0 ":"-left-64"} md:left-0`,children:[g.jsxs("div",{className:"p-5 border-b border-blue-800 flex flex-col items-center space-y-3 pt-20 lg:pt-6",children:[g.jsx("div",{className:"w-36 h-36 rounded-full bg-blue-700 flex  items-center justify-center",children:s!=null&&s.photoURL?g.jsx("img",{src:s.photoURL,alt:"Profile",className:"rounded-full w-full h-full object-cover",onError:U=>{U.target.onerror=null,U.target.src=""}}):g.jsx("span",{className:"text-lg",children:((P=t==null?void 0:t.displayName)==null?void 0:P.charAt(0))||((V=t==null?void 0:t.email)==null?void 0:V.charAt(0).toUpperCase())})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold truncate",children:(t==null?void 0:t.displayName)||"Doctor"}),g.jsx("p",{className:"text-blue-200 text-sm truncate text-center",children:(s==null?void 0:s.specialization)||"General Practitioner"})]})]}),g.jsx("nav",{className:"flex-1 p-4 overflow-y-auto",children:g.jsxs("ul",{className:"space-y-2",children:[g.jsx("li",{children:g.jsxs(tr,{to:"/doctordashboard",className:({isActive:U})=>`flex items-center py-3 px-4 rounded-lg ${U?C:j}`,onClick:()=>p(!1),children:[g.jsx(WN,{className:"mr-3 flex-shrink-0"}),g.jsx("span",{className:"truncate",children:"Dashboard"})]})}),g.jsx("li",{children:g.jsxs(tr,{to:"/viewappointment",className:({isActive:U})=>`flex items-center py-3 px-4 rounded-lg ${U?C:j}`,onClick:()=>p(!1),children:[g.jsx(Vo,{className:"mr-3 flex-shrink-0"}),g.jsx("span",{className:"truncate",children:"View Appointments"})]})}),g.jsx("li",{children:g.jsxs(tr,{to:"/patient",className:({isActive:U})=>`flex items-center py-3 px-4 rounded-lg ${U?C:j}`,onClick:()=>p(!1),children:[g.jsx(YN,{className:"mr-3 flex-shrink-0"}),g.jsx("span",{className:"truncate",children:"Patients"})]})}),g.jsx("li",{children:g.jsxs(tr,{to:"/medicalrecord",className:({isActive:U})=>`flex items-center py-3 px-4 rounded-lg ${U?C:j}`,onClick:()=>p(!1),children:[g.jsx(qN,{className:"mr-3 flex-shrink-0"}),g.jsx("span",{className:"truncate",children:"Medical Records"})]})}),g.jsx("li",{children:g.jsxs(tr,{to:"/messages",className:({isActive:U})=>`flex items-center py-3 px-4 rounded-lg ${U?C:j}`,onClick:()=>p(!1),children:[g.jsx(FN,{className:"mr-3 flex-shrink-0"}),g.jsx("span",{className:"truncate",children:"Messages"}),c>0&&g.jsx("span",{className:"ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full min-w-[20px] flex items-center justify-center",children:c})]})}),g.jsx("li",{children:g.jsxs(tr,{to:"/profile",className:({isActive:U})=>`flex items-center py-3 px-4 rounded-lg ${U?C:j}`,onClick:()=>p(!1),children:[g.jsx(KN,{className:"mr-3 flex-shrink-0"}),g.jsx("span",{className:"truncate",children:"Profile "})]})})]})}),g.jsx("div",{className:"p-4 border-t border-blue-800",children:g.jsxs("button",{onClick:S,className:"flex items-center w-full py-2 px-4 text-blue-200 hover:text-white hover:bg-blue-800 rounded-lg transition-colors duration-200",children:[g.jsx(GN,{className:"mr-3 flex-shrink-0"}),g.jsx("span",{className:"truncate",children:"Logout"})]})})]})]})};var Yv={exports:{}},Xv,HT;function VV(){if(HT)return Xv;HT=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Xv=t,Xv}var Jv,$T;function UV(){if($T)return Jv;$T=1;var t=VV();function e(){}function n(){}return n.resetWarningCache=e,Jv=function(){function r(c,d,h,p,_,S){if(S!==t){var C=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw C.name="Invariant Violation",C}}r.isRequired=r;function s(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},Jv}var GT;function zV(){return GT||(GT=1,Yv.exports=UV()()),Yv.exports}var BV=zV();const Sa=Ap(BV);function Jy(){return Jy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jy.apply(this,arguments)}function FV(t,e){if(t==null)return{};var n=qV(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qV(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var K_=Y.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,s=t.size,o=s===void 0?24:s,c=FV(t,["color","size"]);return Zr.createElement("svg",Jy({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),Zr.createElement("polyline",{points:"15 18 9 12 15 6"}))});K_.propTypes={color:Sa.string,size:Sa.oneOfType([Sa.string,Sa.number])};K_.displayName="ChevronLeft";function Zy(){return Zy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zy.apply(this,arguments)}function HV(t,e){if(t==null)return{};var n=$V(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $V(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var Q_=Y.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,s=t.size,o=s===void 0?24:s,c=HV(t,["color","size"]);return Zr.createElement("svg",Zy({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),Zr.createElement("polyline",{points:"9 18 15 12 9 6"}))});Q_.propTypes={color:Sa.string,size:Sa.oneOfType([Sa.string,Sa.number])};Q_.displayName="ChevronRight";function XN(){const t=new Date,[e,n]=Y.useState(new Date(t.getFullYear(),t.getMonth(),1)),[r,s]=Y.useState(t),o=["January","February","March","April","May","June","July","August","September","October","November","December"],c=Y.useMemo(()=>{const S=e.getFullYear(),C=e.getMonth(),j=new Date(S,C+1,0).getDate(),P=new Date(S,C,1).getDay(),V=[],U=(P+6)%7,$=new Date(S,C,0).getDate();for(let M=U;M>0;M--)V.push({day:$-M+1,isCurrentMonth:!1,isToday:!1,date:new Date(S,C-1,$-M+1)});const q=[],X=new Date;for(let M=1;M<=j;M++){const O=new Date(S,C,M);q.push({day:M,isCurrentMonth:!0,isToday:O.getDate()===X.getDate()&&O.getMonth()===X.getMonth()&&O.getFullYear()===X.getFullYear(),date:O})}const te=V.length+q.length,z=te<=35?35-te:42-te,K=[];for(let M=1;M<=z;M++)K.push({day:M,isCurrentMonth:!1,isToday:!1,date:new Date(S,C+1,M)});return[...V,...q,...K]},[e]),d=["Mo","Tu","We","Th","Fr","Sa","Su"],h=()=>{n(new Date(e.getFullYear(),e.getMonth()-1,1))},p=()=>{n(new Date(e.getFullYear(),e.getMonth()+1,1))},_=(S,C)=>S.getDate()===C.getDate()&&S.getMonth()===C.getMonth()&&S.getFullYear()===C.getFullYear();return g.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden w-full",children:[g.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[g.jsx("button",{onClick:h,className:"p-1 rounded-full hover:bg-gray-100","aria-label":"Previous month",children:g.jsx(K_,{className:"w-5 h-5"})}),g.jsxs("h3",{className:"font-semibold text-gray-800",children:[o[e.getMonth()]," ",e.getFullYear()]}),g.jsx("button",{onClick:p,className:"p-1 rounded-full hover:bg-gray-100","aria-label":"Next month",children:g.jsx(Q_,{className:"w-5 h-5"})})]}),g.jsx("div",{className:"grid grid-cols-7 gap-1 text-center p-2 bg-gray-50",children:d.map((S,C)=>g.jsx("div",{className:"font-medium text-gray-500 text-sm p-1",children:S},C))}),g.jsx("div",{className:"p-2",children:g.jsx("div",{className:"grid grid-cols-7 gap-1 text-center",children:c.map((S,C)=>g.jsx("button",{onClick:()=>S.isCurrentMonth&&s(S.date),className:`p-2 rounded-full text-sm
                ${S.isCurrentMonth?"text-gray-800":"text-gray-400"}
                ${_(S.date,r)?"bg-indigo-600 text-white font-medium":""}
                ${S.isToday?"border border-blue-600":""}
                ${S.isCurrentMonth?"hover:bg-blue-900":""}
              `,disabled:!S.isCurrentMonth,"aria-label":`${S.isCurrentMonth?o[e.getMonth()]:S.date.getMonth()<e.getMonth()?o[e.getMonth()-1]:o[e.getMonth()+1]} 
                ${S.day}, ${S.date.getFullYear()}`,children:S.day},C))})})]})}const Ql=({icon:t,title:e,value:n,subtitle:r})=>g.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"p-3 bg-blue-100 rounded-full mr-4",children:t}),g.jsxs("div",{children:[g.jsx("p",{className:"text-gray-700",children:e}),g.jsx("h3",{className:"text-2xl font-bold",children:n}),g.jsx("p",{className:"text-gray-500 text-sm",children:r})]})]})}),JN=({upcomingAppointments:t,icon:e,onStartVideo:n,isCallActive:r})=>{const s=c=>{const d={hour:"2-digit",minute:"2-digit"};return new Date(c).toLocaleString("en-US",d)},o=c=>{const d={weekday:"short",month:"short",day:"numeric"};return new Date(c).toLocaleString("en-US",d)};return g.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[g.jsxs("div",{className:"flex items-center mb-4",children:[e||g.jsx(rm,{className:"text-xl mr-2 text-blue-900"}),g.jsx("h2",{className:"text-xl font-bold",children:"Next Patient"})]}),t.length===0?g.jsx("p",{className:"text-gray-500",children:"No upcoming appointments"}):g.jsx("div",{className:"border border-blue-900 rounded-lg p-3 hover:shadow-md transition-shadow",children:g.jsxs("div",{className:"flex flex-col",children:[g.jsxs("div",{className:"flex flex-col items-start mb-2",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"bg-blue-100 p-2 rounded-full mr-3",children:g.jsx(PV,{className:"text-blue-900"})}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-lg",children:t[0].patientName}),g.jsx("p",{className:"text-sm text-gray-500",children:t[0].patientId})]})]}),n&&g.jsxs("button",{onClick:()=>!r&&n(t[0]),className:`flex items-center px-3 py-1 rounded-md transition-colors ${r?"bg-gray-400 cursor-not-allowed":"bg-blue-900 text-white hover:bg-blue-800"}`,disabled:r,"aria-label":r?"Call in progress":"Start video call",children:[g.jsx(gp,{className:"mr-2"}),r?"Call in Progress":"Start Video"]})]}),g.jsxs("div",{className:"space-y-2 pl-11",children:[g.jsxs("p",{className:"text-gray-600 flex items-center",children:[g.jsx("span",{className:"inline-block w-24 font-medium",children:"Date:"}),o(t[0].date)]}),g.jsxs("p",{className:"text-gray-600 flex items-center",children:[g.jsx("span",{className:"inline-block w-24 font-medium",children:"Time:"}),s(t[0].date)]}),t[0].purpose&&g.jsxs("p",{className:"text-gray-600 flex items-center",children:[g.jsx("span",{className:"inline-block w-24 font-medium",children:"Purpose:"}),t[0].purpose]})]})]})})]})};JN.defaultProps={onStartVideo:null,upcomingAppointments:[]};const GV=({prescriptions:t,icon:e})=>{const[n,r]=Y.useState({patientId:"",medicines:[{name:"",dosage:""}],instructions:""}),[s,o]=Y.useState(!1),c=()=>{r(p=>({...p,medicines:[...p.medicines,{name:"",dosage:""}]}))},d=(p,_,S)=>{const C=[...n.medicines];C[p][_]=S,r(j=>({...j,medicines:C}))},h=async p=>{p.preventDefault();try{await Ko(At(Le,"prescriptions"),{doctorId:Ot.currentUser.uid,...n,date:new Date}),r({patientId:"",medicines:[{name:"",dosage:""}],instructions:""}),o(!1)}catch(_){console.error("Error adding prescription:",_)}};return g.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"text-xl text-blue-900 ",children:e}),g.jsx("h3",{className:"font-bold text-xl",children:"Prescriptions"})]}),g.jsx("button",{onClick:()=>o(!s),className:"bg-blue-900 text-white px-3 py-1 rounded text-sm",children:s?"Cancel":"+ New Prescription"})]}),s&&g.jsxs("form",{onSubmit:h,className:"mb-6 border border-blue-900 p-4 rounded-lg",children:[g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Patient ID"}),g.jsx("input",{type:"text",value:n.patientId,onChange:p=>r(_=>({..._,patientId:p.target.value})),className:"w-full p-2 border border-blue-900 rounded focus:outline-none",required:!0})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-sm font-medium mb-2",children:"Medicines"}),n.medicines.map((p,_)=>g.jsxs("div",{className:"flex gap-2 mb-2",children:[g.jsx("input",{type:"text",placeholder:"Medicine name",value:p.name,onChange:S=>d(_,"name",S.target.value),className:"w-[50%] p-2 border border-blue-900 rounded focus:outline-none",required:!0}),g.jsx("input",{type:"text",placeholder:"Dosage",value:p.dosage,onChange:S=>d(_,"dosage",S.target.value),className:"w-[50%] p-2 border border-blue-900 rounded focus:outline-none",required:!0})]},_)),g.jsx("button",{type:"button",onClick:c,className:"text-blue-900 text-sm mt-1",children:"+ Add another medicine"})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Instructions"}),g.jsx("textarea",{value:n.instructions,onChange:p=>r(_=>({..._,instructions:p.target.value})),className:"w-full p-2 border border-blue-900 rounded focus:outline-none",rows:"3"})]}),g.jsx("button",{type:"submit",className:"bg-blue-900 text-white px-4 py-2 rounded",children:"Save Prescription"})]}),g.jsx("div",{className:"space-y-4 max-h-64 overflow-y-auto",children:t.length===0?g.jsx("p",{className:"text-gray-500",children:"No prescriptions yet."}):t.map(p=>{var _;return g.jsxs("div",{className:"border border-blue-900 p-3 rounded-lg",children:[g.jsxs("div",{className:"flex justify-between",children:[g.jsxs("p",{className:"font-bold",children:["Patient: ",p.patientId]}),g.jsx("p",{className:"text-sm text-gray-500",children:(_=p.date)==null?void 0:_.toDate().toLocaleDateString()})]}),g.jsxs("div",{className:"mt-2",children:[g.jsx("h4",{className:"font-medium",children:"Medicines:"}),g.jsx("ul",{className:"list-disc pl-5 mt-1",children:p.medicines.map((S,C)=>g.jsxs("li",{children:[S.name," - ",S.dosage]},C))})]}),p.instructions&&g.jsxs("p",{className:"mt-2",children:[g.jsx("span",{className:"font-medium",children:"Instructions:"})," ",p.instructions]})]},p.id)})})]})},WV=({appointments:t,onApprove:e,onReject:n,icon:r})=>g.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:" text-xl text-blue-900 mb-3 ",children:r}),g.jsx("h3",{className:"font-bold text-xl mb-3",children:"Appointment Requests"})]}),t.length===0?g.jsx("p",{children:"No pending appointments."}):g.jsx("ul",{className:"space-y-2",children:t.map(s=>g.jsxs("li",{className:"border p-2 rounded",children:[g.jsx("p",{children:g.jsx("strong",{children:s.patientName})}),g.jsxs("p",{children:[s.date," at ",s.time]}),g.jsxs("div",{className:"flex gap-2 mt-2",children:[g.jsx("button",{onClick:()=>e(s.id),className:"bg-green-500 text-white px-2 py-1 rounded",children:"Approve"}),g.jsx("button",{onClick:()=>n(s.id),className:"bg-red-500 text-white px-2 py-1 rounded",children:"Reject"})]})]},s.id))})]}),KV=({reviews:t,onReply:e,onHide:n,icon:r})=>{const[s,o]=Y.useState(null),[c,d]=Y.useState(""),h=_=>{c.trim()&&(e(_,c),o(null),d(""))},p=_=>{if(!_)return"No date";try{return _.toDate?_.toDate().toLocaleDateString():typeof _=="string"||typeof _=="number"?new Date(_).toLocaleDateString():_ instanceof Date?_.toLocaleDateString():"Invalid date"}catch(S){return console.error("Date formatting error:",S),"Invalid date"}};return g.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"text-xl text-blue-900 mb-3",children:r}),g.jsx("h3",{className:"font-bold text-xl mb-4",children:"Patient Reviews"})]}),t.length===0?g.jsx("p",{className:"text-gray-500",children:"No reviews yet."}):g.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:t.map(_=>g.jsxs("div",{className:`border p-3 rounded-lg ${_.status==="hidden"?"bg-gray-100 opacity-75":""}`,children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-bold",children:_.patientName}),g.jsx("div",{className:"flex gap-1 mt-1",children:[...Array(5)].map((S,C)=>g.jsx(Ju,{className:`${C<_.rating?"text-yellow-400":"text-gray-300"}`},C))})]}),g.jsx("p",{className:"text-sm text-gray-500",children:p(_.date)})]}),g.jsx("p",{className:"mt-2",children:_.comment}),_.doctorReply&&g.jsxs("div",{className:"mt-2 p-2 bg-blue-50 rounded",children:[g.jsx("p",{className:"font-semibold",children:"Your Reply:"}),g.jsx("p",{children:_.doctorReply})]}),g.jsxs("div",{className:"flex gap-2 mt-3",children:[!_.doctorReply&&s!==_.id&&g.jsx("button",{onClick:()=>o(_.id),className:"text-sm bg-blue-100 text-blue-600 px-2 py-1 rounded hover:bg-blue-200 transition",children:"Reply"}),g.jsx("button",{onClick:()=>n(_.id),className:`text-sm px-2 py-1 rounded hover:opacity-80 transition ${_.status==="hidden"?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600"}`,children:_.status==="hidden"?"Show":"Hide"})]}),s===_.id&&g.jsxs("div",{className:"mt-3",children:[g.jsx("textarea",{value:c,onChange:S=>d(S.target.value),placeholder:"Type your response...",className:"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:"3"}),g.jsxs("div",{className:"flex gap-2 mt-2",children:[g.jsx("button",{onClick:()=>h(_.id),className:"bg-blue-500 text-white px-3 py-1 rounded text-sm hover:bg-blue-600 transition",children:"Submit"}),g.jsx("button",{onClick:()=>{o(null),d("")},className:"bg-gray-200 text-gray-700 px-3 py-1 rounded text-sm hover:bg-gray-300 transition",children:"Cancel"})]})]})]},_.id))})]})},QV=()=>{var I;const[t,e]=Y.useState(null),[n,r]=Y.useState(!0),[s,o]=Y.useState([]),[c,d]=Y.useState([]),[h,p]=Y.useState([]),[_,S]=Y.useState([]),[C,j]=Y.useState(0),[P,V]=Y.useState(null),[U,$]=Y.useState({isActive:!1,callFrame:null,appointment:null,duration:0}),q=Y.useRef(null),X=Y.useRef(null);Y.useEffect(()=>{const Q=document.createElement("script");return Q.src="https://unpkg.com/@daily-co/daily-js/dist/daily-iframe.js",Q.async=!0,document.body.appendChild(Q),()=>{document.body.removeChild(Q),q.current&&clearInterval(q.current),U.callFrame&&U.callFrame.destroy()}},[]),Y.useEffect(()=>{const Q=Ot.currentUser;if(!Q)return;(async()=>{try{const v=await Fr(jt(Le,"users",Q.uid));v.exists()&&e(v.data());const E=$t(At(Le,"appointments"),Ct("doctorId","==",Q.uid)),T=await si(E),D=new Set;T.forEach(F=>{const{patientId:ee}=F.data();ee&&D.add(ee)}),j(D.size)}catch(v){console.error("Error fetching initial data:",v)}finally{r(!1)}})();const ne=[],N=$t(At(Le,"appointments"),Ct("doctorId","==",Q.uid)),ge=ji(N,v=>{const E=v.docs.map(T=>({id:T.id,...T.data()}));c.length>0&&E.filter(D=>D.status==="pending"&&!c.some(F=>F.id===D.id)).forEach(D=>{te("New Appointment Request",`Patient ${D.patientName} requested an appointment`,"appointment")}),d(E)});ne.push(ge);const Z=$t(At(Le,"prescriptions"),Ct("doctorId","==",Q.uid)),w=ji(Z,v=>{p(v.docs.map(E=>({id:E.id,...E.data()})))});ne.push(w);const G=$t(At(Le,"reviews"),Ct("doctorId","==",Q.uid)),re=ji(G,v=>{const E=v.docs.map(T=>({id:T.id,...T.data()}));_.length>0&&E.filter(D=>!_.some(F=>F.id===D.id)).forEach(D=>{te("New Patient Review",`Patient ${D.patientName} left a ${D.rating}-star review`,"review")}),S(E)});return ne.push(re),()=>ne.forEach(v=>v())},[]);const te=async(Q,he,ne="info")=>{const N={id:Date.now(),title:Q,message:he,type:ne,timestamp:new Date().toISOString(),read:!1};if(o(ge=>[N,...ge]),Ot.currentUser)try{await Ko(At(Le,"notifications"),{userId:Ot.currentUser.uid,...N})}catch(ge){console.error("Error saving notification:",ge)}},z=Q=>{o(he=>he.map(ne=>ne.id===Q?{...ne,read:!0}:ne))},K=()=>c.filter(Q=>{var ne;return Q.status!=="approved"?!1:((ne=Q.date)!=null&&ne.toDate?Q.date.toDate():new Date(Q.date))>=new Date}).sort((Q,he)=>{var ge,Z;const ne=(ge=Q.date)!=null&&ge.toDate?Q.date.toDate():new Date(Q.date),N=(Z=he.date)!=null&&Z.toDate?he.date.toDate():new Date(he.date);return ne-N}),M=async(Q,he)=>{V(Q);try{const ne=jt(Le,"appointments",Q);await Jr(ne,{status:he,updatedAt:new Date().toISOString()});const N=c.find(ge=>ge.id===Q);N&&te("Appointment Updated",`Appointment with ${N.patientName} has been ${he}`,"appointment")}catch(ne){console.error("Error updating appointment status:",ne),te("Update Failed","Failed to update appointment status","error")}finally{V(null)}},O=async Q=>{try{if(U.isActive){te("Call In Progress","You already have an active call","warning");return}const he=new Date,ne=new Date(Q.date);if(Math.abs(he-ne)/(1e3*60)>15){te("Call Not Available","You can only start calls within 15 minutes of the appointment time","warning");return}const ge=`https://naphydeby.daily.co/Naphydeby12/${Q.id}`,Z=window.DailyIframe.createFrame({url:ge,iframeStyle:{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",border:"0",zIndex:"9999"},showLeaveButton:!0,showFullscreenButton:!0});$({isActive:!0,callFrame:Z,appointment:Q,duration:0}),X.current=new Date,q.current=setInterval(()=>{$(w=>({...w,duration:Math.floor((new Date-X.current)/1e3)}))},1e3),await Z.join({url:ge,userName:`Dr. ${(t==null?void 0:t.fullName)||"Doctor"}`}),Z.on("left-meeting",A),Z.on("error",x),te("Video Call Started",`Call with ${Q.patientName} has begun`,"video")}catch(he){console.error("Error starting video call:",he),te("Call Failed",`Could not start video call with ${Q.patientName}`,"error"),L()}},A=()=>{var Q;L(),te("Call Ended",`Video call with ${(Q=U.appointment)==null?void 0:Q.patientName} completed`,"video")},x=Q=>{var he;console.error("Call error:",Q),te("Call Error",`Technical issue during call with ${(he=U.appointment)==null?void 0:he.patientName}`,"error"),L()},L=()=>{if(U.callFrame&&U.callFrame.leave().then(()=>{U.callFrame.destroy()}),q.current&&clearInterval(q.current),U.appointment){const Q=jt(Le,"appointments",U.appointment.id);Jr(Q,{callCompleted:!0,callDuration:U.duration,updatedAt:new Date().toISOString()}).catch(he=>{console.error("Error updating appointment:",he)})}$({isActive:!1,callFrame:null,appointment:null,duration:0})},B=Q=>{const he=Math.floor(Q/3600),ne=Math.floor(Q%3600/60),N=Math.floor(Q%60);return[he,ne,N].map(ge=>ge<10?"0"+ge:ge).join(":")};return n?g.jsx("div",{className:"flex justify-center items-center h-screen",children:g.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"})}):g.jsxs("div",{className:"flex h-screen",children:[g.jsx(Ec,{}),g.jsxs("div",{className:"w-full md:w-3/4 p-4 md:p-10 lg: ml-4 overflow-y-auto   custom-scrollbar",children:[g.jsxs("div",{className:"bg-white shadow-2xl w-full rounded-lg p-5 mb-6",children:[g.jsxs("h1",{className:"text-2xl text-blue-900 md:text-3xl pt-8 font-bold",children:["Welcome, Dr. ",(t==null?void 0:t.fullName)||"Doctor","!"]}),g.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your appointments, patients, and messages."})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[g.jsx(Ql,{icon:g.jsx(YN,{className:"text-2xl text-blue-600"}),title:"Total Patients",value:C,subtitle:"Unique Patients"}),g.jsx(Ql,{icon:g.jsx(UN,{className:"text-2xl text-green-600"}),title:"Today's Appointments",value:c.filter(Q=>new Date(Q.date).toDateString()===new Date().toDateString()).length,subtitle:"Scheduled Today"}),g.jsx(Ql,{icon:g.jsx(gp,{className:"text-2xl text-purple-600"}),title:"Today's Calls",value:c.filter(Q=>Q.callCompleted&&new Date(Q.date).toDateString()===new Date().toDateString()).length,subtitle:"Completed"}),g.jsx(GV,{prescriptions:h,icon:g.jsx(Xy,{className:"text-xl mr-2 text-blue-900"})}),g.jsx(KV,{icon:g.jsx(qT,{className:"text-xl mr-2 text-blue-900"}),reviews:_,onReply:(Q,he)=>Jr(jt(Le,"reviews",Q),{doctorReply:he}),onHide:Q=>{const he=_.find(ne=>ne.id===Q);he&&Jr(jt(Le,"reviews",Q),{status:he.status==="hidden"?"published":"hidden"})}}),g.jsx(WV,{icon:g.jsx(FT,{className:"text-xl mr-2 text-blue-900"}),appointments:c.filter(Q=>Q.status==="pending"),onApprove:Q=>M(Q,"approved"),onReject:Q=>M(Q,"rejected"),loadingId:P}),g.jsx(JN,{icon:g.jsx(rm,{className:"text-xl mr-2"}),upcomingAppointments:K(),onStartVideo:O,isCallActive:U.isActive}),g.jsxs("div",{className:"md:col-span-3 bg-white p-4 rounded-lg shadow-sm",children:[g.jsxs("div",{className:"flex items-center mb-4",children:[g.jsx(Yy,{className:"text-xl mr-2 text-blue-900"}),g.jsx("h2",{className:"text-xl font-bold",children:"Notifications"}),s.filter(Q=>!Q.read).length>0&&g.jsx("span",{className:"ml-2 bg-blue-900 text-white text-xs font-bold px-2 py-1 rounded-full",children:s.filter(Q=>!Q.read).length})]}),s.length===0?g.jsx("p",{className:"text-gray-500",children:"No new notifications."}):g.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto  custom-scrollbar",children:s.map(Q=>g.jsxs("div",{onClick:()=>z(Q.id),className:`p-3 rounded-lg flex items-start cursor-pointer ${Q.read?"bg-gray-50":"bg-blue-50"}`,children:[Q.type==="appointment"?g.jsx(Vo,{className:"text-lg mt-1 mr-3 text-green-500"}):Q.type==="review"?g.jsx(qT,{className:"text-lg mt-1 mr-3 text-yellow-500"}):Q.type==="video"?g.jsx(gp,{className:"text-lg mt-1 mr-3 text-purple-500"}):g.jsx(FT,{className:"text-lg mt-1 mr-3 text-blue-500"}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold",children:Q.title}),g.jsx("p",{className:"text-gray-600",children:Q.message}),g.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(Q.timestamp).toLocaleString()})]})]},Q.id))})]}),g.jsxs("div",{className:"md:col-span-3",children:[g.jsxs("div",{className:"flex items-center mb-4",children:[g.jsx(Vo,{className:"text-xl mr-2 text-blue-900"}),g.jsx("h2",{className:"text-xl font-bold",children:"Appointment Calendar"})]}),g.jsx(XN,{appointments:c})]})]}),U.isActive&&g.jsxs("div",{className:"fixed inset-0 bg-gray-900 z-50 flex flex-col",children:[g.jsxs("div",{className:"bg-white p-4 flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsxs("h2",{className:"text-xl font-bold",children:["Video Call with ",((I=U.appointment)==null?void 0:I.patientName)||"Patient"]}),g.jsxs("p",{className:"text-gray-600",children:["Duration: ",B(U.duration)]})]}),g.jsxs("button",{onClick:L,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 flex items-center",children:[g.jsx(HN,{className:"mr-2"}),"End Call"]})]}),g.jsx("div",{className:"flex-1 relative",children:g.jsx("div",{id:"daily-call-frame",className:"w-full h-full"})})]})]})]})};function YV({title:t,titleId:e,...n},r){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?Y.createElement("title",{id:e},t):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const Zv=Y.forwardRef(YV);function XV({title:t,titleId:e,...n},r){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?Y.createElement("title",{id:e},t):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const JV=Y.forwardRef(XV);function ZV({title:t,titleId:e,...n},r){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?Y.createElement("title",{id:e},t):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const eU=Y.forwardRef(ZV);function tU({title:t,titleId:e,...n},r){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?Y.createElement("title",{id:e},t):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const WT=Y.forwardRef(tU);function nU({title:t,titleId:e,...n},r){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?Y.createElement("title",{id:e},t):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ZN=Y.forwardRef(nU);function rU({title:t,titleId:e,...n},r){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?Y.createElement("title",{id:e},t):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const iU=Y.forwardRef(rU);function sU({title:t,titleId:e,...n},r){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?Y.createElement("title",{id:e},t):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const eR=Y.forwardRef(sU),aU=()=>{const[t,e]=Y.useState([]),[n,r]=Y.useState(!0),[s,o]=Y.useState(""),[c,d]=Y.useState(""),[h,p]=Y.useState("upcoming"),[_,S]=Y.useState(null);Y.useEffect(()=>{(async()=>{const q=Ot.currentUser;if(!q){o("You must be logged in to view appointments."),r(!1);return}try{const X=jt(Le,"users",q.uid),te=await Fr(X);if(!te.exists()){o("User data not found."),r(!1);return}const z=te.data();d(z.role);const K=At(Le,"appointments");let M;if(z.role==="doctor")M=$t(K,Ct("doctorId","==",q.uid));else if(z.role==="patient")M=$t(K,Ct("patientId","==",q.uid));else{o("Invalid user role."),r(!1);return}const O=await si(M),A=[];O.forEach(x=>{var B;const L={id:x.id,...x.data()};(B=L.timestamp)!=null&&B.toDate&&(L.dateTime=L.timestamp.toDate()),A.push(L)}),A.sort((x,L)=>x.dateTime-L.dateTime),e(A)}catch(X){console.error("Error fetching appointments: ",X),o("Failed to fetch appointments. Please try again.")}finally{r(!1)}})()},[]);const C=()=>{const $=new Date;return t.filter(q=>q.dateTime?h==="upcoming"?q.dateTime>=$:h==="past"?q.dateTime<$:!0:!1)},j=$=>$==null?void 0:$.toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}),P=$=>$==null?void 0:$.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),V=$=>{switch($.toLowerCase()){case"confirmed":return"bg-emerald-100 text-emerald-800";case"cancelled":return"bg-rose-100 text-rose-800";case"completed":return"bg-blue-100 text-blue-800";case"pending":return"bg-amber-100 text-amber-800";default:return"bg-gray-100 text-gray-800"}};if(n)return g.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-600"})});if(s)return g.jsx("div",{className:"max-w-4xl mx-auto p-6",children:g.jsx("div",{className:"bg-rose-50 border-l-4 border-rose-500 p-4 rounded",children:g.jsxs("div",{className:"flex",children:[g.jsx("div",{className:"flex-shrink-0",children:g.jsx("svg",{className:"h-5 w-5 text-rose-500",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),g.jsx("div",{className:"ml-3",children:g.jsx("p",{className:"text-sm text-rose-700",children:s})})]})})});const U=C();return g.jsxs("div",{className:"flex h-screen",children:[g.jsx(Ec,{}),g.jsxs("div",{className:"lg:w-3/4 p-5",children:[g.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 rounded-xl shadow-lg mt-8 lg:mt-0 p-6 mb-8",children:g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white",children:c==="doctor"?"My Appointments":"My Bookings"}),g.jsxs("p",{className:"text-purple-100 mt-1",children:[U.length," ",h," appointment",U.length!==1?"s":""]})]}),g.jsxs("div",{className:"inline-flex rounded-md shadow-sm mt-4 md:mt-0",role:"patient",children:[g.jsx("button",{onClick:()=>p("upcoming"),className:`px-4 py-2 text-sm font-medium rounded-l-lg ${h==="upcoming"?"bg-white text-purple-600":"bg-purple-700 text-white hover:bg-purple-800"}`,children:"Upcoming"}),g.jsx("button",{onClick:()=>p("past"),className:`px-4 py-2 text-sm font-medium rounded-r-lg ${h==="past"?"bg-white text-purple-600":"bg-purple-700 text-white hover:bg-purple-800"}`,children:"Past"})]})]})}),U.length===0?g.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden p-8 text-center",children:[g.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),g.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No appointments found"}),g.jsxs("p",{className:"mt-1 text-gray-500",children:["You don't have any ",h," appointments scheduled yet."]})]}):g.jsx("div",{className:"grid gap-6",children:U.map($=>g.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-all duration-200 cursor-pointer",onClick:()=>S($),children:g.jsxs("div",{className:"p-6",children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:[g.jsxs("div",{className:"flex items-start space-x-4",children:[g.jsx("div",{className:"flex-shrink-0 bg-purple-100 p-3 rounded-lg",children:g.jsx(Zv,{className:"h-6 w-6 text-purple-600"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:c==="doctor"?$.patientName:$.doctorName}),g.jsxs("p",{className:"text-gray-500",children:[c==="doctor"?"Patient":"Doctor"," Appointment"]})]})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[g.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[g.jsx(ZN,{className:"h-5 w-5 text-gray-400"}),g.jsx("span",{children:P($.dateTime)})]}),g.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${V($.status)}`,children:$.status})]})]}),g.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[g.jsx(Zv,{className:"h-5 w-5 text-gray-400"}),g.jsx("span",{children:j($.dateTime)})]}),$.notes&&g.jsxs("div",{className:"flex items-start space-x-2 text-gray-600",children:[g.jsx(WT,{className:"h-5 w-5 text-gray-400 flex-shrink-0"}),g.jsx("span",{className:"line-clamp-1",children:$.notes})]})]})]})},$.id))}),_&&g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:g.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:g.jsxs("div",{className:"p-6",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Appointment Details"}),g.jsx("button",{onClick:()=>S(null),className:"text-gray-400 hover:text-gray-500",children:g.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),g.jsxs("div",{className:"mt-6 space-y-4",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:"bg-purple-100 p-2 rounded-lg",children:g.jsx(eR,{className:"h-5 w-5 text-purple-600"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm text-gray-500",children:c==="doctor"?"Patient":"Doctor"}),g.jsx("p",{className:"font-medium text-gray-900",children:c==="doctor"?_.patientName:_.doctorName})]})]}),g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:"bg-purple-100 p-2 rounded-lg",children:g.jsx(Zv,{className:"h-5 w-5 text-purple-600"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm text-gray-500",children:"Date & Time"}),g.jsxs("p",{className:"font-medium text-gray-900",children:[j(_.dateTime)," at ",P(_.dateTime)]})]})]}),g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:"bg-purple-100 p-2 rounded-lg",children:g.jsx("svg",{className:"h-5 w-5 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),g.jsx("p",{className:"font-medium text-gray-900",children:g.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${V(_.status)}`,children:_.status})})]})]}),_.notes&&g.jsxs("div",{className:"flex items-start space-x-3",children:[g.jsx("div",{className:"bg-purple-100 p-2 rounded-lg",children:g.jsx(WT,{className:"h-5 w-5 text-purple-600"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm text-gray-500",children:"Notes"}),g.jsx("p",{className:"font-medium text-gray-900 whitespace-pre-line",children:_.notes})]})]})]}),g.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 flex justify-end space-x-3",children:[g.jsx("button",{type:"button",className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none",onClick:()=>S(null),children:"Close"}),_.status.toLowerCase()==="confirmed"&&g.jsx("button",{type:"button",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-rose-600 hover:bg-rose-700 focus:outline-none",children:"Cancel Appointment"})]})]})})})]})]})},oU=()=>{const[t,e]=Y.useState([]),[n,r]=Y.useState(!0),[s,o]=Y.useState(""),[c,d]=Y.useState(null),h=async()=>{var S;try{if(!Ot.currentUser){d("Authentication required. Please login."),r(!1);return}const j=At(Le,"users");let P,V=!1;try{P=$t(j,Ct("role","==","patient"),Xp("fullName")),await si(P)}catch(q){if(q.message.includes("index"))console.warn("Index not ready, falling back to simple query"),V=!0,P=$t(j,Ct("role","==","patient"));else throw q}let $=(await si(P)).docs.map(q=>({id:q.id,...q.data()}));V&&($=$.sort((q,X)=>(q.fullName||"").localeCompare(X.fullName||""))),e($),d(null)}catch(C){console.error("Fetch error:",C);let j=C.message;if(C.message.includes("index")){const P=(S=C.message.match(/https:\/\/[^\s]+/))==null?void 0:S[0];j=g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{children:"Database needs configuration for this query."}),P&&g.jsxs("a",{href:P,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800",children:[g.jsx(OV,{className:"mr-1"}),"Click here to create required index"]}),g.jsx("p",{className:"text-sm text-gray-600",children:"This may take 2-10 minutes to activate after creation."})]})}d(j)}finally{r(!1)}};Y.useEffect(()=>{h()},[]);const p=t.filter(S=>(S.fullName||"").toLowerCase().includes(s.toLowerCase())),_=()=>{r(!0),d(null),h()};return n?g.jsx("div",{className:"flex justify-center items-center h-screen",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):g.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[g.jsx(Ec,{}),g.jsx("main",{className:"flex-1 p-6 overflow-auto",children:g.jsxs("div",{className:"max-w-6xl mx-auto",children:[g.jsx("h1",{className:" text-2xl lg:text-3xl font-bold text-gray-800 mb-6 mt-6 lg:mt-0",children:"Patient Management"}),g.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-6",children:g.jsx("input",{type:"text",placeholder:"Search patients by name...",value:s,onChange:S=>o(S.target.value),className:"w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"})}),c&&g.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6 rounded",children:g.jsxs("div",{className:"flex",children:[g.jsx("div",{className:"flex-shrink-0",children:g.jsx(RV,{className:"h-5 w-5 text-red-400"})}),g.jsxs("div",{className:"ml-3",children:[g.jsx("div",{className:"text-sm text-red-700",children:c}),g.jsx("button",{onClick:_,className:"mt-2 inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none",children:"Retry"})]})]})}),!c&&p.length===0?g.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm text-center",children:[g.jsx("p",{className:"text-gray-500 text-lg",children:s?"No matching patients found":"No patients available"}),t.length>0&&g.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["Your search didn't match any of the ",t.length," patients."]})]}):g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(S=>g.jsx(lU,{patient:S},S.id))})]})})]})},lU=({patient:t})=>{var e;return g.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-md hover:shadow-lg transition",children:[g.jsxs("div",{className:"flex items-start space-x-4 mb-4",children:[g.jsx("div",{className:"bg-blue-100 text-blue-800 rounded-full p-3",children:g.jsx(LV,{className:"h-6 w-6"})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:t.fullName||"Unknown Patient"}),g.jsxs("p",{className:"text-gray-600 text-sm",children:["ID: ",(e=t.id)==null?void 0:e.substring(0,8),"..."]})]})]}),g.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[g.jsxs("p",{className:"flex items-center",children:[g.jsx(NV,{className:"h-4 w-4 mr-2"}),t.email||"No email provided"]}),t.phoneNumber&&g.jsxs("p",{className:"flex items-center",children:[g.jsx(jV,{className:"h-4 w-4 mr-2"}),t.phoneNumber]})]}),g.jsxs(O0,{to:"/patientmedicalhistory",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:["View Medical Records",g.jsx(BN,{className:"h-4 w-4 ml-2"})]})]})},cU=()=>{const[t,e]=Y.useState(""),[n,r]=Y.useState([]),[s,o]=Y.useState([]),[c,d]=Y.useState(""),[h,p]=Y.useState(!0),[_,S]=Y.useState(!0),[C,j]=Y.useState(""),P=Y.useRef(null),V=Ot.currentUser;Y.useEffect(()=>{if(!V){j("User not authenticated. Please log in.");return}(async()=>{try{const X=At(Le,"users"),te=$t(X,Ct("role","==","patient")),z=await si(te),K=[];z.forEach(M=>{K.push({id:M.id,...M.data()})}),o(K)}catch(X){console.error("Error fetching patients: ",X),j("Failed to fetch patients. Please try again.")}finally{p(!1)}})()},[V]),Y.useEffect(()=>{if(!c)return;const q=At(Le,"messages"),X=$t(q,Ct("senderId","in",[V.uid,c]),Ct("receiverId","in",[V.uid,c]),Xp("timestamp","asc")),te=ji(X,z=>{const K=[];z.forEach(M=>{K.push({id:M.id,...M.data()})}),r(K),S(!1)});return()=>te()},[c,V.uid]);const U=()=>{var q;(q=P.current)==null||q.scrollIntoView({behavior:"smooth"})};Y.useEffect(()=>{U()},[n]);const $=async q=>{if(q.preventDefault(),!t.trim()||!c){j("Please select a patient and enter a message.");return}try{await Ko(At(Le,"messages"),{senderId:V.uid,receiverId:c,message:t,timestamp:new Date().toISOString()}),e(""),j("")}catch(X){console.error("Error sending message: ",X),j("Failed to send message. Please try again.")}};return h?g.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-r from-blue-50 to-purple-50",children:g.jsxs("div",{className:"text-center",children:[g.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Messages"}),g.jsx("div",{className:"flex justify-center items-center h-screen",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})]})}):C?g.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-r from-blue-50 to-purple-50",children:g.jsxs("div",{className:"text-center",children:[g.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Messages"}),g.jsx("p",{className:"text-red-500",children:C})]})}):g.jsxs("div",{className:"min-h-screen flex bg-gradient-to-r from-blue-50 to-purple-50 p-5 ",children:[g.jsx(Ec,{}),g.jsxs("div",{className:"w-full lg:w-3/4 p-5 bg-white rounded-lg shadow-lg overflow-hidden",children:[g.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 mt-8 lg:mt-0 p-6",children:g.jsx("h2",{className:"text-2xl font-bold text-white",children:"Messages"})}),g.jsx("div",{className:"p-6 border-b border-gray-200",children:g.jsxs("select",{value:c,onChange:q=>d(q.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-label":"Select a patient",required:!0,children:[g.jsx("option",{value:"",children:"Select a patient"}),s.map(q=>g.jsx("option",{value:q.id,children:q.fullName},q.id))]})}),g.jsxs("div",{className:"p-6 h-[400px] overflow-y-auto",children:[n.length===0&&!_&&g.jsx("p",{className:"text-gray-500 text-center",children:"No messages yet. Start the conversation!"}),n.map(q=>g.jsx(uU,{msg:q,isSender:q.senderId===V.uid},q.id)),g.jsx("div",{ref:P})]}),g.jsx("div",{className:"p-6 bg-gray-50",children:g.jsxs("form",{onSubmit:$,className:"flex gap-2",children:[g.jsx("input",{type:"text",placeholder:"Type a message...",value:t,onChange:q=>e(q.target.value),className:"flex-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),g.jsx("button",{type:"submit",className:"bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition duration-200",children:"Send"})]})})]})]})},uU=({msg:t,isSender:e})=>g.jsx("div",{className:`flex ${e?"justify-end":"justify-start"} mb-4`,children:g.jsxs("div",{className:`max-w-[70%] p-4 rounded-lg ${e?"bg-blue-600 text-white rounded-br-none":"bg-gray-100 text-gray-800 rounded-bl-none"}`,children:[g.jsx("p",{children:t.message}),g.jsx("p",{className:"text-xs mt-1 opacity-75",children:new Date(t.timestamp).toLocaleTimeString()})]})}),dU=()=>{const[t,e]=Y.useState(null),[n,r]=Y.useState(null),[s,o]=Y.useState(!0),[c,d]=Y.useState(!1),[h,p]=Y.useState({fullName:"",phoneNumber:"",email:"",dateOfBirth:"",role:"doctor",specialization:""}),[_,S]=Y.useState(""),[C,j]=Y.useState(null),[P,V]=Y.useState(""),U=Cs();Y.useEffect(()=>{const te=Ot.onAuthStateChanged(async z=>{if(!z){U("/login");return}e(z),S(z.photoURL||"");try{const K=jt(Le,"users",z.uid),M=await Fr(K);if(M.exists()){const O=M.data();r(O),p({fullName:O.fullName||z.displayName||"",phoneNumber:O.phoneNumber||"",specialization:O.specialization||"",role:O.role||"",dateOfBirth:O.dateOfBirth||""})}}catch(K){console.error("Error fetching user data:",K),V("Failed to load profile data")}finally{o(!1)}});return()=>te()},[U]);const $=te=>{const{name:z,value:K}=te.target;p(M=>({...M,[z]:K}))},q=te=>{te.target.files[0]&&(j(te.target.files[0]),S(URL.createObjectURL(te.target.files[0])))},X=async te=>{te.preventDefault(),V(""),o(!0);try{let z=_;if(C){const O=tN(storage,`profilePhotos/${t.uid}`);await Zk(O,C),z=await eN(O)}await F0(t,{displayName:h.fullName,photoURL:z});const K=jt(Le,"users",t.uid);await Jr(K,{fullName:h.fullName,phoneNumber:h.phoneNumber,...(n==null?void 0:n.role)==="doctor"&&{specialization:h.specialization},bio:h.bio,...z&&{photoURL:z}});const M=await Fr(K);r(M.data()),d(!1)}catch(z){console.error("Error updating profile:",z),V("Failed to update profile. Please try again.")}finally{o(!1)}};return s?g.jsx("div",{className:"flex justify-center items-center h-screen",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):g.jsxs("div",{className:"flex h-screen",children:[g.jsx(Ec,{}),g.jsx("div",{className:"w-full lg:w-3/4 mt-8 p-4",children:g.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[g.jsxs("div",{className:"flex justify-between items-center lg:mt-8 lg:mt-0 mb-6",children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Profile"}),g.jsxs("button",{onClick:()=>d(!c),className:"flex items-center gap-2 bg-blue-900 text-white px-4 py-2 rounded hover:bg-blue-800 transition",children:[c?g.jsx($N,{}):g.jsx(QN,{}),c?"Save Changes":"Edit Profile"]})]}),P&&g.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded",children:P}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[g.jsxs("div",{className:"md:w-1/3 flex flex-col items-center",children:[g.jsxs("div",{className:"relative mb-4",children:[g.jsx("img",{src:_||"/default-avatar.png",alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-4 border-blue-200"}),c&&g.jsxs("label",{className:"absolute bottom-0 right-0 bg-blue-600 text-white p-2 rounded-full cursor-pointer hover:bg-blue-700",children:[g.jsx(zN,{}),g.jsx("input",{type:"file",accept:"image/*",onChange:q,className:"hidden"})]})]}),g.jsx("h2",{className:"text-xl font-semibold",children:t==null?void 0:t.displayName}),(n==null?void 0:n.role)==="doctor"&&g.jsx("p",{className:"text-blue-600",children:n==null?void 0:n.specialization})]}),g.jsx("div",{className:"md:w-2/3",children:g.jsxs("form",{onSubmit:X,children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-700 mb-1",children:"Full Name"}),c?g.jsx("input",{type:"text",name:"fullName",value:h.fullName,onChange:$,className:"w-full p-2 border rounded border border-blue-900 focus:outline-none",required:!0}):g.jsx("p",{className:"p-2 bg-gray-100 rounded",children:h.fullName})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-700 mb-1",children:"Email"}),g.jsx("p",{className:"p-2 bg-gray-100 rounded border border-blue-900 focus:outline-none",children:t==null?void 0:t.email})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-700 mb-1",children:"Phone Number"}),c?g.jsx("input",{type:"tel",name:"phoneNumber",value:h.phoneNumber,onChange:$,className:"w-full p-2 border rounded border border-blue-900 focus:outline-none"}):g.jsx("p",{className:"p-2 bg-gray-100 rounded",children:h.phoneNumber||"Not provided"})]}),(n==null?void 0:n.role)==="doctor"&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-700 mb-1",children:"Specialization"}),c?g.jsx("input",{type:"text",name:"specialization",value:h.specialization,onChange:$,className:"w-full p-2 border rounded border border-blue-900 focus:outline-none"}):g.jsx("p",{className:"p-2 bg-gray-100 rounded",children:h.specialization||"Not specified"})]})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-gray-700 mb-1",children:"Bio"}),c?g.jsx("textarea",{name:"bio",value:h.bio,onChange:$,className:"w-full p-2 border rounded h-24 border border-blue-900 focus:outline-none"}):g.jsx("p",{className:"p-2 bg-gray-100 rounded min-h-24",children:h.bio||"No bio provided"})]}),c&&g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400 transition",children:"Cancel"}),g.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition disabled:bg-blue-400",children:s?"Saving...":"Save Changes"})]})]})})]})]})})]})},hU=()=>{const[t,e]=Y.useState([]),[n,r]=Y.useState(!0),[s,o]=Y.useState({patientId:"",date:"",description:"",patientName:"",doctorName:""});Y.useEffect(()=>{(async()=>{const h=Ot.currentUser;if(h)try{const p=At(Le,"medicalHistory"),_=$t(p,Ct("doctorId","==",h.uid)),S=await si(_),C=[];S.forEach(j=>{C.push({id:j.id,...j.data()})}),e(C)}catch(p){console.error("Error fetching medical history: ",p)}r(!1)})()},[]);const c=async d=>{d.preventDefault();const h=Ot.currentUser;if(h)try{await Ko(At(Le,"medicalHistory"),{patientId:s.patientId,doctorId:h.uid,date:s.date,description:s.description,patientName:s.patientName,doctorName:s.doctorName}),o({patientId:"",date:"",description:"",patientName:"",doctorName:""}),alert("Medical record added successfully!");const p=At(Le,"medicalHistory"),_=$t(p,Ct("doctorId","==",h.uid)),S=await si(_),C=[];S.forEach(j=>{C.push({id:j.id,...j.data()})}),e(C)}catch(p){console.error("Error adding medical record: ",p),alert("Failed to add medical record.")}};return n?g.jsx("div",{className:"flex justify-center items-center h-screen",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):g.jsxs("div",{className:"flex h-screen",children:[g.jsx(Ec,{}),g.jsxs("div",{className:"lg:w-3/4 p-5",children:[g.jsx("h1",{className:" text-2xl lg:text-3xl font-bold mt-8 lg:mt-0 mb-5 text-center",children:"Medical History"}),t.length===0?g.jsx("p",{className:"text-center",children:"No medical history found."}):g.jsx("div",{className:"space-y-4",children:t.map(d=>g.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[g.jsx("h2",{className:"text-xl font-semibold",children:d.date}),g.jsx("p",{className:"text-gray-700",children:d.description}),g.jsxs("p",{className:"text-sm text-gray-500",children:["Patient: ",d.patientName]}),g.jsxs("p",{className:"text-sm text-gray-500",children:["Doctor: ",d.doctorName]})]},d.id))}),g.jsxs("div",{className:"mt-8",children:[g.jsx("h2",{className:"text-2xl font-bold mb-5",children:"Add Medical Record"}),g.jsxs("form",{onSubmit:c,className:"space-y-4",children:[g.jsx("input",{type:"text",placeholder:"Patient ID",value:s.patientId,onChange:d=>o({...s,patientId:d.target.value}),required:!0,className:"w-full p-2 border border-gray-300 rounded focus:outline-none"}),g.jsx("input",{type:"text",placeholder:"Patient Name",value:s.patientName,onChange:d=>o({...s,patientName:d.target.value}),required:!0,className:"w-full p-2 border border-gray-300 rounded focus:outline-none"}),g.jsx("input",{type:"date",placeholder:"Date",value:s.date,onChange:d=>o({...s,date:d.target.value}),required:!0,className:"w-full p-2 border border-gray-300 rounded focus:outline-none"}),g.jsx("textarea",{placeholder:"Description",value:s.description,onChange:d=>o({...s,description:d.target.value}),required:!0,className:"w-full p-2 border border-gray-300 rounded focus:outline-none"}),g.jsx("input",{type:"text",placeholder:"Doctor Name",value:s.doctorName,onChange:d=>o({...s,doctorName:d.target.value}),required:!0,className:"w-full p-2 border border-gray-300 rounded focus:outline-none"}),g.jsx("button",{type:"submit",className:"bg-blue-900 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Add Record"})]})]})]})]})},Od=()=>{var P,V;const[t,e]=Y.useState(null),[n,r]=Y.useState(!0),[s,o]=Y.useState(null),[c,d]=Y.useState(0),[h,p]=Y.useState(!1),_=Cs();Y.useEffect(()=>{const U=WA(Ot,$=>{e($),r(!1)});return()=>U()},[]),Y.useEffect(()=>{if(!t)return;const U=async()=>{try{const te=jt(Le,"users",t.uid),z=await Fr(te);z.exists()&&o(z.data())}catch(te){console.error("Error fetching patient data:",te)}},$=At(Le,"messages"),q=$t($,Ct("receiverId","==",t.uid),Ct("read","==",!1)),X=ji(q,te=>{d(te.size)},te=>{console.error("Error listening to messages:",te)});return U(),()=>{X()}},[t]);const S=async()=>{try{await KA(Ot),_("/login")}catch(U){console.error("Logout error:",U)}};if(n)return g.jsx("div",{className:"w-64 bg-blue-900 text-white p-5 flex items-center justify-center",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})});if(!t)return g.jsx("div",{className:"w-64 bg-blue-900 text-white p-5",children:"Please log in to continue"});const C="bg-blue-700 border-l-4 border-white",j="hover:bg-blue-800 transition-colors duration-200";return g.jsxs(g.Fragment,{children:[g.jsx("button",{className:"md:hidden fixed top-4 left-4 z-50 text-blue-900 bg-white p-2 rounded",onClick:()=>p(!h),"aria-label":h?"Close menu":"Open menu",children:h?g.jsx(G_,{size:20}):g.jsx(VN,{size:20})}),g.jsxs("div",{className:`fixed md:relative z-40 w-64 min-h-screen bg-blue-900 text-white flex flex-col transition-all duration-300 ${h?"left-0 ":"-left-64"} md:left-0`,children:[g.jsxs("div",{className:"p-5 border-b border-blue-800 flex flex-col items-center space-y-3 pt-20 lg:pt-6",children:[g.jsx("div",{className:"w-36 h-36 rounded-full bg-blue-700 flex items-center justify-center",children:s!=null&&s.photoURL?g.jsx("img",{src:s.photoURL,alt:"Profile",className:"rounded-full w-full h-full object-cover",onError:U=>{U.target.onerror=null,U.target.src=""}}):g.jsx("span",{className:"text-lg",children:((P=t==null?void 0:t.displayName)==null?void 0:P.charAt(0))||((V=t==null?void 0:t.email)==null?void 0:V.charAt(0).toUpperCase())})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold truncate",children:(t==null?void 0:t.displayName)||"Patient"}),g.jsx("p",{className:"text-blue-200 text-sm truncate text-center",children:(s==null?void 0:s.healthPlan)||"Standard Plan"})]})]}),g.jsx("nav",{className:"flex-1 p-4 overflow-y-auto",children:g.jsxs("ul",{className:"space-y-2",children:[g.jsx("li",{children:g.jsxs(tr,{to:"/patientdashboard",className:({isActive:U})=>`flex items-center py-3 px-4 rounded-lg ${U?C:j}`,onClick:()=>p(!1),children:[g.jsx(WN,{className:"mr-3 flex-shrink-0"}),g.jsx("span",{className:"truncate",children:"Dashboard"})]})}),g.jsx("li",{children:g.jsxs(tr,{to:"/bookappointment",className:({isActive:U})=>`flex items-center py-3 px-4 rounded-lg ${U?C:j}`,onClick:()=>p(!1),children:[g.jsx(Vo,{className:"mr-3 flex-shrink-0"}),g.jsx("span",{className:"truncate",children:"Book Appointment"})]})}),g.jsx("li",{children:g.jsxs(tr,{to:"/patientmedicalhistory",className:({isActive:U})=>`flex items-center py-3 px-4 rounded-lg ${U?C:j}`,onClick:()=>p(!1),children:[g.jsx(IV,{className:"mr-3 flex-shrink-0"}),g.jsx("span",{className:"truncate",children:"Medical Records"})]})}),g.jsx("li",{children:g.jsxs(tr,{to:"/patientmessage",className:({isActive:U})=>`flex items-center py-3 px-4 rounded-lg ${U?C:j}`,onClick:()=>p(!1),children:[g.jsx(FN,{className:"mr-3 flex-shrink-0"}),g.jsx("span",{className:"truncate",children:"Messages"}),c>0&&g.jsx("span",{className:"ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full min-w-[20px] flex items-center justify-center",children:c})]})}),g.jsx("li",{children:g.jsxs(tr,{to:"/patientprofile",className:({isActive:U})=>`flex items-center py-3 px-4 rounded-lg ${U?C:j}`,onClick:()=>p(!1),children:[g.jsx(KN,{className:"mr-3 flex-shrink-0"}),g.jsx("span",{className:"truncate",children:"Profile"})]})})]})}),g.jsx("div",{className:"p-4 border-t border-blue-800",children:g.jsxs("button",{onClick:S,className:"flex items-center w-full py-2 px-4 text-blue-200 hover:text-white hover:bg-blue-800 rounded-lg transition-colors duration-200",children:[g.jsx(GN,{className:"mr-3 flex-shrink-0"}),g.jsx("span",{className:"truncate",children:"Logout"})]})})]})]})},fU=({appointments:t,onReschedule:e,onCancel:n,onStartVideo:r,isCallActive:s})=>{const o=d=>{const h={weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(d).toLocaleString("en-US",h)},c=t.reduce((d,h)=>(d[h.status]||(d[h.status]=[]),d[h.status].push(h),d),{});return g.jsxs("div",{className:"bg-white  rounded-lg shadow-sm p-4  ",children:[g.jsxs("div",{className:"flex items-center mb-4",children:[g.jsx(rm,{className:"text-xl mr-2 text-blue-900"}),g.jsx("h2",{className:"text-xl font-bold",children:"Upcoming Appointments"})]}),t.length===0?g.jsx("p",{className:"text-gray-500",children:"No upcoming appointments"}):g.jsx("div",{className:"space-y-4  ",children:Object.entries(c).map(([d,h])=>g.jsxs("div",{children:[g.jsxs("h3",{className:"font-semibold text-gray-700 mb-2 capitalize",children:[d," (",h.length,")"]}),g.jsx("div",{className:"space-y-3",children:h.map(p=>g.jsxs("div",{className:"border border-blue-900 rounded-lg p-3 hover:shadow-md transition-shadow",children:[g.jsxs("div",{className:"flex flex-col space-y-2  justify-between items-start",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-lg",children:p.doctorName}),g.jsxs("p",{className:"text-gray-600 flex items-center mt-1",children:[g.jsx(Vo,{className:"mr-2 text-blue-500"}),o(p.date)]}),g.jsxs("p",{className:"text-gray-600 flex items-center mt-1",children:[g.jsx(MV,{className:"mr-2 text-green-500"}),p.location||"Clinic Main Building"]}),g.jsxs("p",{className:"text-gray-600 flex items-center mt-1",children:[g.jsx(W_,{className:"mr-2 text-purple-500"}),p.specialty||"General Checkup"]})]}),g.jsxs("div",{className:"flex space-x-2",children:[d==="approved"&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>!s&&r(p),className:`p-2 rounded-full ${s?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-blue-100 text-blue-600 hover:bg-blue-200"}`,title:s?"Call in progress":"Start Video Call",disabled:s,children:g.jsx(gp,{size:16})}),g.jsx("button",{onClick:()=>e(p.id),className:"px-3 py-1 text-sm border border-yellow-500 text-yellow-600 rounded hover:bg-yellow-50",children:"Reschedule"})]}),g.jsx("button",{onClick:()=>n(p.id),className:"px-3 py-1 text-sm border border-red-500 text-red-600 rounded hover:bg-red-50",children:"Cancel"})]})]}),p.notes&&g.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded text-sm",children:[g.jsx("p",{className:"font-medium",children:"Notes:"}),g.jsx("p",{className:"text-gray-600",children:p.notes})]})]},p.id))})]},d))})]})};function pU(t){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M196 16a30 30 0 0 0-30 30v120H46a30 30 0 0 0-30 30v120a30 30 0 0 0 30 30h120v120a30 30 0 0 0 30 30h120a30 30 0 0 0 30-30V346h120a30 30 0 0 0 30-30V196a30 30 0 0 0-30-30H346V46a30 30 0 0 0-30-30H196z"},child:[]}]})(t)}const mU=({prescriptions:t})=>g.jsxs("div",{className:"bg-white flex flex-col items-center gap-2 rounded-xl shadow-sm p-6",children:[g.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[g.jsx(BT,{className:"text-indigo-600 mr-3"}),"My Medications"]}),g.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:g.jsx("div",{className:"flex flex-wrap gap-2",children:["All","Active","Completed","Expired"].map(e=>g.jsx("button",{className:`px-3 py-1 text-sm rounded-full capitalize ${e==="All"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:e},e))})}),t.length===0?g.jsxs("div",{className:"text-center py-10",children:[g.jsx(pU,{className:"mx-auto text-5xl text-gray-300 mb-4"}),g.jsx("p",{className:"text-gray-500",children:"No prescriptions found"})]}):g.jsx("div",{className:"space-y-4",children:t.map(e=>g.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[g.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 border-b border-gray-200",children:[g.jsx("h3",{className:"font-medium text-gray-800",children:e.medicationName}),g.jsx("span",{className:`px-3 py-1 text-xs rounded-full capitalize ${e.status==="active"?"bg-green-100 text-green-800":e.status==="completed"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:e.status})]}),g.jsx("div",{className:"p-4",children:g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-start",children:[g.jsx(W_,{className:"text-gray-400 mt-1 mr-3 flex-shrink-0"}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-gray-500",children:"Prescribed by"}),g.jsxs("p",{className:"text-sm",children:["Dr. ",e.doctorName]})]})]}),g.jsxs("div",{className:"flex items-start",children:[g.jsx(Vo,{className:"text-gray-400 mt-1 mr-3 flex-shrink-0"}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-gray-500",children:"Dates"}),g.jsxs("p",{className:"text-sm",children:[new Date(e.datePrescribed).toLocaleDateString()," - "," ",new Date(e.expiryDate).toLocaleDateString()]})]})]})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-start",children:[g.jsx(BT,{className:"text-gray-400 mt-1 mr-3 flex-shrink-0"}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-gray-500",children:"Dosage"}),g.jsxs("p",{className:"text-sm",children:[e.dosage,"  ",e.frequency]})]})]}),e.instructions&&g.jsxs("div",{className:"flex items-start",children:[g.jsx(qN,{className:"text-gray-400 mt-1 mr-3 flex-shrink-0"}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-gray-500",children:"Instructions"}),g.jsx("p",{className:"text-sm",children:e.instructions})]})]})]})]})}),g.jsxs("div",{className:"flex justify-end p-3 bg-gray-50 border-t border-gray-200 gap-3",children:[g.jsx("button",{className:"px-4 py-2 bg-indigo-600 text-white text-sm rounded-md hover:bg-indigo-700",children:"Request Refill"}),g.jsx("button",{className:"px-4 py-2 bg-white text-indigo-600 text-sm border border-indigo-600 rounded-md hover:bg-indigo-50",children:"Download"})]})]},e.id))})]}),gU=({doctor:t,onClose:e,onReviewSubmitted:n,initialRating:r=0,initialComment:s=""})=>{const[o,c]=Y.useState(r),[d,h]=Y.useState(s),[p,_]=Y.useState(!1),[S,C]=Y.useState(null),j=async V=>{V.preventDefault(),C(null),_(!0);try{if(!Ot.currentUser)throw new Error("You must be logged in to submit a review");const U={doctorId:t.id,doctorName:t.fullName,patientId:Ot.currentUser.uid,patientName:Ot.currentUser.displayName||"Anonymous",rating:o,comment:d,date:new Date().toISOString(),status:"published"};await Ko(At(Le,"reviews"),U),await P(t.id,o),n&&n(),e()}catch(U){console.error("Error submitting review:",U),C(U.message||"Failed to submit review")}finally{_(!1)}},P=async(V,U)=>{const $=jt(Le,"users",V),q=await Fr($);if(q.exists()){const X=q.data(),te=X.reviews||0,z=X.averageRating||0,K=te>0?(z*te+U)/(te+1):U;await Jr($,{reviews:te+1,averageRating:K})}};return t?g.jsx("div",{className:"fixed inset-0 bg-blue-900 bg-opacity-50 flex items-center justify-center z-50 p-4",children:g.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("h3",{className:"text-xl font-bold",children:["Review Dr. ",t.fullName]}),g.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 text-xl",disabled:p,children:""})]}),S&&g.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-3 mb-4",children:g.jsx("p",{className:"text-red-700",children:S})}),g.jsxs("form",{onSubmit:j,children:[g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-gray-700 mb-2 font-medium",children:"Rating"}),g.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(V=>g.jsx("button",{type:"button",className:`text-3xl focus:outline-none ${V<=o?"text-yellow-400":"text-gray-300"}`,onClick:()=>c(V),disabled:p,children:g.jsx(Ju,{})},V))})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-gray-700 mb-2 font-medium",children:"Review"}),g.jsx("textarea",{className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:"4",value:d,onChange:V=>h(V.target.value),placeholder:"Share your experience with this doctor...",disabled:p})]}),g.jsxs("div",{className:"flex justify-end space-x-3",children:[g.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition",disabled:p,children:"Cancel"}),g.jsx("button",{type:"submit",className:`px-4 py-2 rounded-lg text-white transition ${p||o===0?"bg-blue-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,disabled:p||o===0,children:p?"Submitting...":"Submit Review"})]})]})]})}):null};function KT(t,e){if(t==null)return{};var n,r,s=function(c,d){if(c==null)return{};var h={};for(var p in c)if({}.hasOwnProperty.call(c,p)){if(d.indexOf(p)!==-1)continue;h[p]=c[p]}return h}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function yr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ut(t){return ut=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ut(t)}function tR(t){var e=function(n,r){if(ut(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var o=s.call(n,r);if(ut(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(t,"string");return ut(e)=="symbol"?e:e+""}function QT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tR(r.key),r)}}function _r(t,e,n){return e&&QT(t.prototype,e),n&&QT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function im(t,e){if(e&&(ut(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ai(t){return ai=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ai(t)}function fd(t,e){return fd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},fd(t,e)}function sm(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fd(t,e)}function ki(t,e,n){return(e=tR(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YT(t,e,n,r,s,o,c){try{var d=t[o](c),h=d.value}catch(p){return void n(p)}d.done?e(h):Promise.resolve(h).then(r,s)}function Be(t){return function(){var e=this,n=arguments;return new Promise(function(r,s){var o=t.apply(e,n);function c(h){YT(o,r,s,c,d,"next",h)}function d(h){YT(o,r,s,c,d,"throw",h)}c(void 0)})}}function XT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Xn(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var o,c,d,h,p=[],_=!0,S=!1;try{if(d=(s=s.call(n)).next,r===0){if(Object(s)!==s)return;_=!1}else for(;!(_=(o=d.call(s)).done)&&(p.push(o.value),p.length!==r);_=!0);}catch(C){S=!0,c=C}finally{try{if(!_&&s.return!=null&&(h=s.return(),Object(h)!==h))return}finally{if(S)throw c}}return p}}(t,e)||function(n,r){if(n){if(typeof n=="string")return XT(n,r);var s={}.toString.call(n).slice(8,-1);return s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set"?Array.from(n):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?XT(n,r):void 0}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function vU(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nR,e0={exports:{}},Yl=typeof Reflect=="object"?Reflect:null,JT=Yl&&typeof Yl.apply=="function"?Yl.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};nR=Yl&&typeof Yl.ownKeys=="function"?Yl.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var ZT=Number.isNaN||function(t){return t!=t};function bt(){bt.init.call(this)}e0.exports=bt,e0.exports.once=function(t,e){return new Promise(function(n,r){function s(c){t.removeListener(e,o),r(c)}function o(){typeof t.removeListener=="function"&&t.removeListener("error",s),n([].slice.call(arguments))}sx(t,e,o,{once:!0}),e!=="error"&&function(c,d,h){typeof c.on=="function"&&sx(c,"error",d,h)}(t,s,{once:!0})})},bt.EventEmitter=bt,bt.prototype._events=void 0,bt.prototype._eventsCount=0,bt.prototype._maxListeners=void 0;var ex=10;function Uf(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function rR(t){return t._maxListeners===void 0?bt.defaultMaxListeners:t._maxListeners}function tx(t,e,n,r){var s,o,c,d;if(Uf(n),(o=t._events)===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),c=o[e]),c===void 0)c=o[e]=n,++t._eventsCount;else if(typeof c=="function"?c=o[e]=r?[n,c]:[c,n]:r?c.unshift(n):c.push(n),(s=rR(t))>0&&c.length>s&&!c.warned){c.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=t,h.type=e,h.count=c.length,d=h,console&&console.warn&&console.warn(d)}return t}function yU(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function nx(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},s=yU.bind(r);return s.listener=n,r.wrapFn=s,s}function rx(t,e,n){var r=t._events;if(r===void 0)return[];var s=r[e];return s===void 0?[]:typeof s=="function"?n?[s.listener||s]:[s]:n?function(o){for(var c=new Array(o.length),d=0;d<c.length;++d)c[d]=o[d].listener||o[d];return c}(s):iR(s,s.length)}function ix(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}function iR(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function sx(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else{if(typeof t.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,function s(o){r.once&&t.removeEventListener(e,s),n(o)})}}Object.defineProperty(bt,"defaultMaxListeners",{enumerable:!0,get:function(){return ex},set:function(t){if(typeof t!="number"||t<0||ZT(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");ex=t}}),bt.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},bt.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||ZT(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},bt.prototype.getMaxListeners=function(){return rR(this)},bt.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r=t==="error",s=this._events;if(s!==void 0)r=r&&s.error===void 0;else if(!r)return!1;if(r){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var c=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw c.context=o,c}var d=s[t];if(d===void 0)return!1;if(typeof d=="function")JT(d,this,e);else{var h=d.length,p=iR(d,h);for(n=0;n<h;++n)JT(p[n],this,e)}return!0},bt.prototype.addListener=function(t,e){return tx(this,t,e,!1)},bt.prototype.on=bt.prototype.addListener,bt.prototype.prependListener=function(t,e){return tx(this,t,e,!0)},bt.prototype.once=function(t,e){return Uf(e),this.on(t,nx(this,t,e)),this},bt.prototype.prependOnceListener=function(t,e){return Uf(e),this.prependListener(t,nx(this,t,e)),this},bt.prototype.removeListener=function(t,e){var n,r,s,o,c;if(Uf(e),(r=this._events)===void 0)return this;if((n=r[t])===void 0)return this;if(n===e||n.listener===e)--this._eventsCount==0?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){c=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():function(d,h){for(;h+1<d.length;h++)d[h]=d[h+1];d.pop()}(n,s),n.length===1&&(r[t]=n[0]),r.removeListener!==void 0&&this.emit("removeListener",t,c||e)}return this},bt.prototype.off=bt.prototype.removeListener,bt.prototype.removeAllListeners=function(t){var e,n,r;if((n=this._events)===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var s,o=Object.keys(n);for(r=0;r<o.length;++r)(s=o[r])!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(e=n[t])=="function")this.removeListener(t,e);else if(e!==void 0)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},bt.prototype.listeners=function(t){return rx(this,t,!0)},bt.prototype.rawListeners=function(t){return rx(this,t,!1)},bt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):ix.call(t,e)},bt.prototype.listenerCount=ix,bt.prototype.eventNames=function(){return this._eventsCount>0?nR(this._events):[]};var t0=e0.exports,hf=vU(t0),ax=Object.prototype.hasOwnProperty;function ox(t,e,n){for(n of t.keys())if(Qn(n,e))return n}function Qn(t,e){var n,r,s;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&Qn(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if((s=r)&&typeof s=="object"&&!(s=ox(e,s))||!e.has(s))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if((s=r[0])&&typeof s=="object"&&!(s=ox(e,s))||!Qn(r[1],e.get(s)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){for(n in r=0,t)if(ax.call(t,n)&&++r&&!ax.call(e,n)||!(n in e)||!Qn(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!=t&&e!=e}const _U={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},sR={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},Yt={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},Kn={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},pa={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class we{static getFirstMatch(e,n){const r=n.match(e);return r&&r.length>0&&r[1]||""}static getSecondMatch(e,n){const r=n.match(e);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(e,n,r){if(e.test(n))return r}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const n=e.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const n=e.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),!(n[0]===1&&n[1]<5))return n[0]===1&&n[1]<6?"Cupcake":n[0]===1&&n[1]>=6?"Donut":n[0]===2&&n[1]<2?"Eclair":n[0]===2&&n[1]===2?"Froyo":n[0]===2&&n[1]>2?"Gingerbread":n[0]===3?"Honeycomb":n[0]===4&&n[1]<1?"Ice Cream Sandwich":n[0]===4&&n[1]<4?"Jelly Bean":n[0]===4&&n[1]>=4?"KitKat":n[0]===5?"Lollipop":n[0]===6?"Marshmallow":n[0]===7?"Nougat":n[0]===8?"Oreo":n[0]===9?"Pie":void 0}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,n,r=!1){const s=we.getVersionPrecision(e),o=we.getVersionPrecision(n);let c=Math.max(s,o),d=0;const h=we.map([e,n],p=>{const _=c-we.getVersionPrecision(p),S=p+new Array(_+1).join(".0");return we.map(S.split("."),C=>new Array(20-C.length).join("0")+C).reverse()});for(r&&(d=c-Math.min(s,o)),c-=1;c>=d;){if(h[0][c]>h[1][c])return 1;if(h[0][c]===h[1][c]){if(c===d)return 0;c-=1}else if(h[0][c]<h[1][c])return-1}}static map(e,n){const r=[];let s;if(Array.prototype.map)return Array.prototype.map.call(e,n);for(s=0;s<e.length;s+=1)r.push(n(e[s]));return r}static find(e,n){let r,s;if(Array.prototype.find)return Array.prototype.find.call(e,n);for(r=0,s=e.length;r<s;r+=1){const o=e[r];if(n(o,r))return o}}static assign(e,...n){const r=e;let s,o;if(Object.assign)return Object.assign(e,...n);for(s=0,o=n.length;s<o;s+=1){const c=n[s];typeof c=="object"&&c!==null&&Object.keys(c).forEach(d=>{r[d]=c[d]})}return e}static getBrowserAlias(e){return _U[e]}static getBrowserTypeByAlias(e){return sR[e]||""}}const Tt=/version\/(\d+(\.?_?\d+)+)/i,bU=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},n=we.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||we.getFirstMatch(Tt,t);return n&&(e.version=n),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},n=we.getFirstMatch(Tt,t)||we.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},n=we.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||we.getFirstMatch(Tt,t);return n&&(e.version=n),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},n=we.getFirstMatch(Tt,t)||we.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},n=we.getFirstMatch(Tt,t)||we.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},n=we.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||we.getFirstMatch(Tt,t);return n&&(e.version=n),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},n=we.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||we.getFirstMatch(Tt,t);return n&&(e.version=n),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},n=we.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||we.getFirstMatch(Tt,t);return n&&(e.version=n),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},n=we.getFirstMatch(Tt,t)||we.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},n=we.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||we.getFirstMatch(Tt,t);return n&&(e.version=n),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},n=we.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||we.getFirstMatch(Tt,t);return n&&(e.version=n),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},n=we.getFirstMatch(Tt,t)||we.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},n=we.getFirstMatch(Tt,t)||we.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},n=we.getFirstMatch(Tt,t)||we.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},n=we.getFirstMatch(Tt,t)||we.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},n=we.getFirstMatch(Tt,t)||we.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},n=we.getFirstMatch(Tt,t)||we.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},n=we.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||we.getFirstMatch(Tt,t);return n&&(e.version=n),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},n=we.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||we.getFirstMatch(Tt,t);return n&&(e.version=n),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},n=we.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},n=we.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},n=we.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},n=we.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},n=we.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},n=we.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return n&&(e.version=n),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},n=we.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},n=we.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},n=we.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},n=we.getFirstMatch(Tt,t)||we.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},n=we.getFirstMatch(Tt,t)||we.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},n=we.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},n=we.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||we.getFirstMatch(Tt,t);return n&&(e.version=n),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},n=we.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||we.getFirstMatch(Tt,t);return n&&(e.version=n),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},n=we.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},n=we.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},n=we.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},n=we.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||we.getFirstMatch(Tt,t);return n&&(e.version=n),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},n=we.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},n=we.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e={name:"Android Browser"},n=we.getFirstMatch(Tt,t);return n&&(e.version=n),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},n=we.getFirstMatch(Tt,t);return n&&(e.version=n),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},n=we.getFirstMatch(Tt,t);return n&&(e.version=n),e}},{test:[/.*/i],describe(t){const e=t.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:we.getFirstMatch(e,t),version:we.getSecondMatch(e,t)}}}];var wU=[{test:[/Roku\/DVP/],describe(t){const e=we.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:Kn.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=we.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:Kn.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=we.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),n=we.getWindowsVersionName(e);return{name:Kn.Windows,version:e,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:Kn.iOS},n=we.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return n&&(e.version=n),e}},{test:[/macintosh/i],describe(t){const e=we.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),n=we.getMacOSVersionName(e),r={name:Kn.MacOS,version:e};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=we.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:Kn.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e=we.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),n=we.getAndroidVersionName(e),r={name:Kn.Android,version:e};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=we.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),n={name:Kn.WebOS};return e&&e.length&&(n.version=e),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=we.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||we.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||we.getFirstMatch(/\bbb(\d+)/i,t);return{name:Kn.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=we.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:Kn.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=we.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:Kn.Tizen,version:e}}},{test:[/linux/i],describe:()=>({name:Kn.Linux})},{test:[/CrOS/],describe:()=>({name:Kn.ChromeOS})},{test:[/PlayStation 4/],describe(t){const e=we.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:Kn.PlayStation4,version:e}}}],SU=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(t){const e=we.getFirstMatch(/(can-l01)/i,t)&&"Nova",n={type:Yt.mobile,vendor:"Huawei"};return e&&(n.model=e),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:Yt.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:Yt.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:Yt.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:Yt.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:Yt.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:Yt.tablet})},{test(t){const e=t.test(/ipod|iphone/i),n=t.test(/like (ipod|iphone)/i);return e&&!n},describe(t){const e=we.getFirstMatch(/(ipod|iphone)/i,t);return{type:Yt.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:Yt.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:Yt.mobile})},{test:t=>t.getBrowserName(!0)==="blackberry",describe:()=>({type:Yt.mobile,vendor:"BlackBerry"})},{test:t=>t.getBrowserName(!0)==="bada",describe:()=>({type:Yt.mobile})},{test:t=>t.getBrowserName()==="windows phone",describe:()=>({type:Yt.mobile,vendor:"Microsoft"})},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe:()=>({type:Yt.tablet})},{test:t=>t.getOSName(!0)==="android",describe:()=>({type:Yt.mobile})},{test:t=>t.getOSName(!0)==="macos",describe:()=>({type:Yt.desktop,vendor:"Apple"})},{test:t=>t.getOSName(!0)==="windows",describe:()=>({type:Yt.desktop})},{test:t=>t.getOSName(!0)==="linux",describe:()=>({type:Yt.desktop})},{test:t=>t.getOSName(!0)==="playstation 4",describe:()=>({type:Yt.tv})},{test:t=>t.getOSName(!0)==="roku",describe:()=>({type:Yt.tv})}],EU=[{test:t=>t.getBrowserName(!0)==="microsoft edge",describe(t){if(/\sedg\//i.test(t))return{name:pa.Blink};const e=we.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:pa.EdgeHTML,version:e}}},{test:[/trident/i],describe(t){const e={name:pa.Trident},n=we.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:t=>t.test(/presto/i),describe(t){const e={name:pa.Presto},n=we.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=t.test(/gecko/i),n=t.test(/like gecko/i);return e&&!n},describe(t){const e={name:pa.Gecko},n=we.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:pa.Blink})},{test:[/(apple)?webkit/i],describe(t){const e={name:pa.WebKit},n=we.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}}];class lx{constructor(e,n=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=we.find(bU,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=we.find(wU,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:n}=this.getOS();return e?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:n}=this.getPlatform();return e?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const e=we.find(SU,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=we.find(EU,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return we.assign({},this.parsedResult)}satisfies(e){const n={};let r=0;const s={};let o=0;if(Object.keys(e).forEach(c=>{const d=e[c];typeof d=="string"?(s[c]=d,o+=1):typeof d=="object"&&(n[c]=d,r+=1)}),r>0){const c=Object.keys(n),d=we.find(c,p=>this.isOS(p));if(d){const p=this.satisfies(n[d]);if(p!==void 0)return p}const h=we.find(c,p=>this.isPlatform(p));if(h){const p=this.satisfies(n[h]);if(p!==void 0)return p}}if(o>0){const c=Object.keys(s),d=we.find(c,h=>this.isBrowser(h,!0));if(d!==void 0)return this.compareVersion(s[d])}}isBrowser(e,n=!1){const r=this.getBrowserName().toLowerCase();let s=e.toLowerCase();const o=we.getBrowserTypeByAlias(s);return n&&o&&(s=o.toLowerCase()),s===r}compareVersion(e){let n=[0],r=e,s=!1;const o=this.getBrowserVersion();if(typeof o=="string")return e[0]===">"||e[0]==="<"?(r=e.substr(1),e[1]==="="?(s=!0,r=e.substr(2)):n=[],e[0]===">"?n.push(1):n.push(-1)):e[0]==="="?r=e.substr(1):e[0]==="~"&&(s=!0,r=e.substr(1)),n.indexOf(we.compareVersions(o,r,s))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,n=!1){return this.isBrowser(e,n)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(n=>this.is(n))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class TU{static getParser(e,n=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new lx(e,n)}static parse(e){return new lx(e).getResult()}static get BROWSER_MAP(){return sR}static get ENGINE_MAP(){return pa}static get OS_MAP(){return Kn}static get PLATFORMS_MAP(){return Yt}}function am(){return Date.now()+Math.random().toString()}function Pu(){throw new Error("Method must be implemented in subclass")}function aR(t,e){return e!=null&&e.proxyUrl?e.proxyUrl+(e.proxyUrl.slice(-1)==="/"?"":"/")+t.substring(8):t}function vp(t){return t!=null&&t.callObjectBundleUrlOverride?t.callObjectBundleUrlOverride:aR("https://c.daily.co/call-machine/versioned/".concat("0.77.0","/static/call-machine-object-bundle.js"),t)}function yp(t){try{new URL(t)}catch{return!1}return!0}const Rt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Co="8.55.0",mt=globalThis;function _p(t,e,n){const r=mt,s=r.__SENTRY__=r.__SENTRY__||{},o=s[Co]=s[Co]||{};return o[t]||(o[t]=e())}const Qo=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,n0=["debug","info","warn","error","log","assert","trace"],bp={};function Id(t){if(!("console"in mt))return t();const e=mt.console,n={},r=Object.keys(bp);r.forEach(s=>{const o=bp[s];n[s]=e[s],e[s]=o});try{return t()}finally{r.forEach(s=>{e[s]=n[s]})}}const $e=_p("logger",function(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return Qo?n0.forEach(n=>{e[n]=(...r)=>{t&&Id(()=>{mt.console[n](`Sentry Logger [${n}]:`,...r)})}}):n0.forEach(n=>{e[n]=()=>{}}),e}),xo="?",cx=/\(error: (.*)\)/,ux=/captureMessage|captureException/;function ff(t){return t[t.length-1]||{}}const dx="<anonymous>";function Ia(t){try{return t&&typeof t=="function"&&t.name||dx}catch{return dx}}function hx(t){const e=t.exception;if(e){const n=[];try{return e.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const zf={},fx={};function ko(t,e){zf[t]=zf[t]||[],zf[t].push(e)}function No(t,e){if(!fx[t]){fx[t]=!0;try{e()}catch(n){Qo&&$e.error(`Error while instrumenting ${t}`,n)}}}function ei(t,e){const n=t&&zf[t];if(n)for(const r of n)try{r(e)}catch(s){Qo&&$e.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Ia(r)}
Error:`,s)}}let ey=null;function xU(){ey=mt.onerror,mt.onerror=function(t,e,n,r,s){return ei("error",{column:r,error:s,line:n,msg:t,url:e}),!!ey&&ey.apply(this,arguments)},mt.onerror.__SENTRY_INSTRUMENTED__=!0}let ty=null;function AU(){ty=mt.onunhandledrejection,mt.onunhandledrejection=function(t){return ei("unhandledrejection",t),!ty||ty.apply(this,arguments)},mt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function om(){return Y_(mt),mt}function Y_(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||Co,e[Co]=e[Co]||{}}const oR=Object.prototype.toString;function X_(t){switch(oR.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Uo(t,Error)}}function Tc(t,e){return oR.call(t)===`[object ${e}]`}function lR(t){return Tc(t,"ErrorEvent")}function px(t){return Tc(t,"DOMError")}function ps(t){return Tc(t,"String")}function J_(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function r0(t){return t===null||J_(t)||typeof t!="object"&&typeof t!="function"}function lc(t){return Tc(t,"Object")}function lm(t){return typeof Event<"u"&&Uo(t,Event)}function cm(t){return!!(t&&t.then&&typeof t.then=="function")}function Uo(t,e){try{return t instanceof e}catch{return!1}}function cR(t){return!(typeof t!="object"||t===null||!t.__isVue&&!t._isVue)}const Z_=mt;function uR(t,e={}){if(!t)return"<unknown>";try{let n=t;const r=5,s=[];let o=0,c=0;const d=" > ",h=d.length;let p;const _=Array.isArray(e)?e:e.keyAttrs,S=!Array.isArray(e)&&e.maxStringLength||80;for(;n&&o++<r&&(p=CU(n,_),!(p==="html"||o>1&&c+s.length*h+p.length>=S));)s.push(p),c+=p.length,n=n.parentNode;return s.reverse().join(d)}catch{return"<unknown>"}}function CU(t,e){const n=t,r=[];if(!n||!n.tagName)return"";if(Z_.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const s=e&&e.length?e.filter(c=>n.getAttribute(c)).map(c=>[c,n.getAttribute(c)]):null;if(s&&s.length)s.forEach(c=>{r.push(`[${c[0]}="${c[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const c=n.className;if(c&&ps(c)){const d=c.split(/\s+/);for(const h of d)r.push(`.${h}`)}}const o=["aria-label","type","name","title","alt"];for(const c of o){const d=n.getAttribute(c);d&&r.push(`[${c}="${d}"]`)}return r.join("")}function Xl(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function mx(t,e){if(!Array.isArray(t))return"";const n=[];for(let r=0;r<t.length;r++){const s=t[r];try{cR(s)?n.push("[VueViewModel]"):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(e)}function kU(t,e,n=!1){return!!ps(t)&&(Tc(e,"RegExp")?e.test(t):!!ps(e)&&(n?t===e:t.includes(e)))}function pf(t,e=[],n=!1){return e.some(r=>kU(t,r,n))}function vr(t,e,n){if(!(e in t))return;const r=t[e],s=n(r);typeof s=="function"&&dR(s,r);try{t[e]=s}catch{Qo&&$e.log(`Failed to replace method "${e}" in object`,t)}}function zo(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch{Qo&&$e.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function dR(t,e){try{const n=e.prototype||{};t.prototype=e.prototype=n,zo(t,"__sentry_original__",e)}catch{}}function eb(t){return t.__sentry_original__}function hR(t){if(X_(t))return{message:t.message,name:t.name,stack:t.stack,...vx(t)};if(lm(t)){const e={type:t.type,target:gx(t.target),currentTarget:gx(t.currentTarget),...vx(t)};return typeof CustomEvent<"u"&&Uo(t,CustomEvent)&&(e.detail=t.detail),e}return t}function gx(t){try{return e=t,typeof Element<"u"&&Uo(e,Element)?uR(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}var e}function vx(t){if(typeof t=="object"&&t!==null){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}return{}}function Ur(t){return i0(t,new Map)}function i0(t,e){if(function(n){if(!lc(n))return!1;try{const r=Object.getPrototypeOf(n).constructor.name;return!r||r==="Object"}catch{return!0}}(t)){const n=e.get(t);if(n!==void 0)return n;const r={};e.set(t,r);for(const s of Object.getOwnPropertyNames(t))t[s]!==void 0&&(r[s]=i0(t[s],e));return r}if(Array.isArray(t)){const n=e.get(t);if(n!==void 0)return n;const r=[];return e.set(t,r),t.forEach(s=>{r.push(i0(s,e))}),r}return t}function Md(){return Date.now()/1e3}const bs=function(){const{performance:t}=mt;if(!t||!t.now)return Md;const e=Date.now()-t.now(),n=t.timeOrigin==null?e:t.timeOrigin;return()=>(n+t.now())/1e3}();function zr(){const t=mt,e=t.crypto||t.msCrypto;let n=()=>16*Math.random();try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return e.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(15&n())>>r/4).toString(16))}function fR(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function ma(t){const{message:e,event_id:n}=t;if(e)return e;const r=fR(t);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function s0(t,e,n){const r=t.exception=t.exception||{},s=r.values=r.values||[],o=s[0]=s[0]||{};o.value||(o.value=e||""),o.type||(o.type="Error")}function cc(t,e){const n=fR(t);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...e},e&&"data"in e){const s={...r&&r.data,...e.data};n.mechanism.data=s}}function yx(t){if(function(e){try{return e.__sentry_captured__}catch{}}(t))return!0;try{zo(t,"__sentry_captured__",!0)}catch{}return!1}var cs;function Bo(t){return new Vr(e=>{e(t)})}function wp(t){return new Vr((e,n)=>{n(t)})}(()=>{const{performance:t}=mt;!t||!t.now||(t.now(),t.timing&&t.timing.navigationStart)})(),function(t){t[t.PENDING=0]="PENDING",t[t.RESOLVED=1]="RESOLVED",t[t.REJECTED=2]="REJECTED"}(cs||(cs={}));class Vr{constructor(e){Vr.prototype.__init.call(this),Vr.prototype.__init2.call(this),Vr.prototype.__init3.call(this),Vr.prototype.__init4.call(this),this._state=cs.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}then(e,n){return new Vr((r,s)=>{this._handlers.push([!1,o=>{if(e)try{r(e(o))}catch(c){s(c)}else r(o)},o=>{if(n)try{r(n(o))}catch(c){s(c)}else s(o)}]),this._executeHandlers()})}catch(e){return this.then(n=>n,e)}finally(e){return new Vr((n,r)=>{let s,o;return this.then(c=>{o=!1,s=c,e&&e()},c=>{o=!0,s=c,e&&e()}).then(()=>{o?r(s):n(s)})})}__init(){this._resolve=e=>{this._setResult(cs.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(cs.REJECTED,e)}}__init3(){this._setResult=(e,n)=>{this._state===cs.PENDING&&(cm(n)?n.then(this._resolve,this._reject):(this._state=e,this._value=n,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===cs.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(n=>{n[0]||(this._state===cs.RESOLVED&&n[1](this._value),this._state===cs.REJECTED&&n[2](this._value),n[0]=!0)})}}}function NU(t){const e=bs(),n={sid:zr(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(r){return Ur({sid:`${r.sid}`,init:r.init,started:new Date(1e3*r.started).toISOString(),timestamp:new Date(1e3*r.timestamp).toISOString(),status:r.status,errors:r.errors,did:typeof r.did=="number"||typeof r.did=="string"?`${r.did}`:void 0,duration:r.duration,abnormal_mechanism:r.abnormal_mechanism,attrs:{release:r.release,environment:r.environment,ip_address:r.ipAddress,user_agent:r.userAgent}})}(n)};return t&&uc(n,t),n}function uc(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),t.did||e.did||(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||bs(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:zr()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function _x(){return zr()}function a0(){return zr().substring(16)}function um(t,e,n=2){if(!e||typeof e!="object"||n<=0)return e;if(t&&e&&Object.keys(e).length===0)return t;const r={...t};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=um(r[s],e[s],n-1));return r}const o0="_sentrySpan";function bx(t,e){e?zo(t,o0,e):delete t[o0]}function wx(t){return t[o0]}class tb{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:_x(),spanId:a0()}}clone(){const e=new tb;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,bx(e,wx(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&uc(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const n=typeof e=="function"?e(this):e,[r,s]=n instanceof Ma?[n.getScopeData(),n.getRequestSession()]:lc(n)?[e,e.requestSession]:[],{tags:o,extra:c,user:d,contexts:h,level:p,fingerprint:_=[],propagationContext:S}=r||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...c},this._contexts={...this._contexts,...h},d&&Object.keys(d).length&&(this._user=d),p&&(this._level=p),_.length&&(this._fingerprint=_),S&&(this._propagationContext=S),s&&(this._requestSession=s),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,bx(this,void 0),this._attachments=[],this.setPropagationContext({traceId:_x()}),this._notifyScopeListeners(),this}addBreadcrumb(e,n){const r=typeof n=="number"?n:100;if(r<=0)return this;const s={timestamp:Md(),...e};return this._breadcrumbs.push(s),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:wx(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=um(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext={spanId:a0(),...e},this}getPropagationContext(){return this._propagationContext}captureException(e,n){const r=n&&n.event_id?n.event_id:zr();if(!this._client)return $e.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:s,...n,event_id:r},this),r}captureMessage(e,n,r){const s=r&&r.event_id?r.event_id:zr();if(!this._client)return $e.warn("No client configured on scope - will not capture message!"),s;const o=new Error(e);return this._client.captureMessage(e,n,{originalException:e,syntheticException:o,...r,event_id:s},this),s}captureEvent(e,n){const r=n&&n.event_id?n.event_id:zr();return this._client?(this._client.captureEvent(e,{...n,event_id:r},this),r):($e.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}const Ma=tb;class RU{constructor(e,n){let r,s;r=e||new Ma,s=n||new Ma,this._stack=[{scope:r}],this._isolationScope=s}withScope(e){const n=this._pushScope();let r;try{r=e(n)}catch(s){throw this._popScope(),s}return cm(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function dc(){const t=Y_(om());return t.stack=t.stack||new RU(_p("defaultCurrentScope",()=>new Ma),_p("defaultIsolationScope",()=>new Ma))}function OU(t){return dc().withScope(t)}function IU(t,e){const n=dc();return n.withScope(()=>(n.getStackTop().scope=t,e(t)))}function Sx(t){return dc().withScope(()=>t(dc().getIsolationScope()))}function nb(t){const e=Y_(t);return e.acs?e.acs:{withIsolationScope:Sx,withScope:OU,withSetScope:IU,withSetIsolationScope:(n,r)=>Sx(r),getCurrentScope:()=>dc().getScope(),getIsolationScope:()=>dc().getIsolationScope()}}function Yo(){return nb(om()).getCurrentScope()}function jd(){return nb(om()).getIsolationScope()}function Ln(){return Yo().getClient()}function MU(t){const e=t.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:s}=e;return Ur({trace_id:n,span_id:r,parent_span_id:s})}function jU(t){const e=t._sentryMetrics;if(!e)return;const n={};for(const[,[r,s]]of e)(n[r]||(n[r]=[])).push(Ur(s));return n}const DU=/^sentry-/;function PU(t){const e=function(r){if(!(!r||!ps(r)&&!Array.isArray(r)))return Array.isArray(r)?r.reduce((s,o)=>{const c=Ex(o);return Object.entries(c).forEach(([d,h])=>{s[d]=h}),s},{}):Ex(r)}(t);if(!e)return;const n=Object.entries(e).reduce((r,[s,o])=>(s.match(DU)&&(r[s.slice(7)]=o),r),{});return Object.keys(n).length>0?n:void 0}function Ex(t){return t.split(",").map(e=>e.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((e,[n,r])=>(n&&r&&(e[n]=r),e),{})}let Tx=!1;function LU(t){const{spanId:e,traceId:n,isRemote:r}=t.spanContext();return Ur({parent_span_id:r?e:rb(t).parent_span_id,span_id:r?a0():e,trace_id:n})}function xx(t){return typeof t=="number"?Ax(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?Ax(t.getTime()):bs()}function Ax(t){return t>9999999999?t/1e3:t}function rb(t){if(function(e){return typeof e.getSpanJSON=="function"}(t))return t.getSpanJSON();try{const{spanId:e,traceId:n}=t.spanContext();if(function(r){const s=r;return!!(s.attributes&&s.startTime&&s.name&&s.endTime&&s.status)}(t)){const{attributes:r,startTime:s,name:o,endTime:c,parentSpanId:d,status:h}=t;return Ur({span_id:e,trace_id:n,data:r,description:o,parent_span_id:d,start_timestamp:xx(s),timestamp:xx(c)||void 0,status:VU(h),op:r["sentry.op"],origin:r["sentry.origin"],_metrics_summary:jU(t)})}return{span_id:e,trace_id:n}}catch{return{}}}function VU(t){if(t&&t.code!==0)return t.code===1?"ok":t.message||"unknown_error"}function pR(t){return t._sentryRootSpan||t}function UU(){Tx||(Id(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),Tx=!0)}const ib="production";function mR(t,e){const n=e.getOptions(),{publicKey:r}=e.getDsn()||{},s=Ur({environment:n.environment||ib,release:n.release,public_key:r,trace_id:t});return e.emit("createDsc",s),s}function zU(t){const e=Ln();if(!e)return{};const n=pR(t),r=n._frozenDsc;if(r)return r;const s=n.spanContext().traceState,o=s&&s.get("sentry.dsc"),c=o&&PU(o);if(c)return c;const d=mR(t.spanContext().traceId,e),h=rb(n),p=h.data||{},_=p["sentry.sample_rate"];_!=null&&(d.sample_rate=`${_}`);const S=p["sentry.source"],C=h.description;return S!=="url"&&C&&(d.transaction=C),function(j){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const P=Ln(),V=P&&P.getOptions();return!!V&&(V.enableTracing||"tracesSampleRate"in V||"tracesSampler"in V)}()&&(d.sampled=String(function(j){const{traceFlags:P}=j.spanContext();return P===1}(n))),e.emit("createDsc",d,n),d}const BU=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Sp(t,e=!1){const{host:n,path:r,pass:s,port:o,projectId:c,protocol:d,publicKey:h}=t;return`${d}://${h}${e&&s?`:${s}`:""}@${n}${o?`:${o}`:""}/${r&&`${r}/`}${c}`}function Cx(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function FU(t){const e=typeof t=="string"?function(n){const r=BU.exec(n);if(!r)return void Id(()=>{console.error(`Invalid Sentry Dsn: ${n}`)});const[s,o,c="",d="",h="",p=""]=r.slice(1);let _="",S=p;const C=S.split("/");if(C.length>1&&(_=C.slice(0,-1).join("/"),S=C.pop()),S){const j=S.match(/^\d+/);j&&(S=j[0])}return Cx({host:d,pass:c,path:_,projectId:S,port:h,protocol:s,publicKey:o})}(t):Cx(t);if(e&&function(n){if(!Qo)return!0;const{port:r,projectId:s,protocol:o}=n;return!(["protocol","publicKey","host","projectId"].find(c=>!n[c]&&($e.error(`Invalid Sentry Dsn: ${c} missing`),!0))||(s.match(/^\d+$/)?function(c){return c==="http"||c==="https"}(o)?r&&isNaN(parseInt(r,10))&&($e.error(`Invalid Sentry Dsn: Invalid port ${r}`),1):($e.error(`Invalid Sentry Dsn: Invalid protocol ${o}`),1):($e.error(`Invalid Sentry Dsn: Invalid projectId ${s}`),1)))}(e))return e}function us(t,e=100,n=1/0){try{return l0("",t,e,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function gR(t,e=3,n=102400){const r=us(t,e);return s=r,function(o){return~-encodeURI(o).split(/%..|./).length}(JSON.stringify(s))>n?gR(t,e-1,n):r;var s}function l0(t,e,n=1/0,r=1/0,s=function(){const o=typeof WeakSet=="function",c=o?new WeakSet:[];return[function(d){if(o)return!!c.has(d)||(c.add(d),!1);for(let h=0;h<c.length;h++)if(c[h]===d)return!0;return c.push(d),!1},function(d){if(o)c.delete(d);else for(let h=0;h<c.length;h++)if(c[h]===d){c.splice(h,1);break}}]}()){const[o,c]=s;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const d=function(j,P){try{if(j==="domain"&&P&&typeof P=="object"&&P._events)return"[Domain]";if(j==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&P===global)return"[Global]";if(typeof window<"u"&&P===window)return"[Window]";if(typeof document<"u"&&P===document)return"[Document]";if(cR(P))return"[VueViewModel]";if(lc(V=P)&&"nativeEvent"in V&&"preventDefault"in V&&"stopPropagation"in V)return"[SyntheticEvent]";if(typeof P=="number"&&!Number.isFinite(P))return`[${P}]`;if(typeof P=="function")return`[Function: ${Ia(P)}]`;if(typeof P=="symbol")return`[${String(P)}]`;if(typeof P=="bigint")return`[BigInt: ${String(P)}]`;const U=function($){const q=Object.getPrototypeOf($);return q?q.constructor.name:"null prototype"}(P);return/^HTML(\w*)Element$/.test(U)?`[HTMLElement: ${U}]`:`[object ${U}]`}catch(U){return`**non-serializable** (${U})`}var V}(t,e);if(!d.startsWith("[object "))return d;if(e.__sentry_skip_normalization__)return e;const h=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:n;if(h===0)return d.replace("object ","");if(o(e))return"[Circular ~]";const p=e;if(p&&typeof p.toJSON=="function")try{return l0("",p.toJSON(),h-1,r,s)}catch{}const _=Array.isArray(e)?[]:{};let S=0;const C=hR(e);for(const j in C){if(!Object.prototype.hasOwnProperty.call(C,j))continue;if(S>=r){_[j]="[MaxProperties ~]";break}const P=C[j];_[j]=l0(j,P,h-1,r,s),S++}return c(e),_}function pd(t,e=[]){return[t,e]}function qU(t,e){const[n,r]=t;return[n,[...r,e]]}function kx(t,e){const n=t[1];for(const r of n)if(e(r,r[0].type))return!0;return!1}function c0(t){return mt.__SENTRY__&&mt.__SENTRY__.encodePolyfill?mt.__SENTRY__.encodePolyfill(t):new TextEncoder().encode(t)}function HU(t){const[e,n]=t;let r=JSON.stringify(e);function s(o){typeof r=="string"?r=typeof o=="string"?r+o:[c0(r),o]:r.push(typeof o=="string"?c0(o):o)}for(const o of n){const[c,d]=o;if(s(`
${JSON.stringify(c)}
`),typeof d=="string"||d instanceof Uint8Array)s(d);else{let h;try{h=JSON.stringify(d)}catch{h=JSON.stringify(us(d))}s(h)}}return typeof r=="string"?r:function(o){const c=o.reduce((p,_)=>p+_.length,0),d=new Uint8Array(c);let h=0;for(const p of o)d.set(p,h),h+=p.length;return d}(r)}function $U(t){const e=typeof t.data=="string"?c0(t.data):t.data;return[Ur({type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),e]}const GU={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function Nx(t){return GU[t]}function vR(t){if(!t||!t.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}function WU(t,e,n,r){const s=vR(n),o=t.type&&t.type!=="replay_event"?t.type:"event";(function(d,h){h&&(d.sdk=d.sdk||{},d.sdk.name=d.sdk.name||h.name,d.sdk.version=d.sdk.version||h.version,d.sdk.integrations=[...d.sdk.integrations||[],...h.integrations||[]],d.sdk.packages=[...d.sdk.packages||[],...h.packages||[]])})(t,n&&n.sdk);const c=function(d,h,p,_){const S=d.sdkProcessingMetadata&&d.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:d.event_id,sent_at:new Date().toISOString(),...h&&{sdk:h},...!!p&&_&&{dsn:Sp(_)},...S&&{trace:Ur({...S})}}}(t,s,r,e);return delete t.sdkProcessingMetadata,pd(c,[[{type:o},t]])}function u0(t,e,n,r=0){return new Vr((s,o)=>{const c=t[r];if(e===null||typeof c!="function")s(e);else{const d=c({...e},n);Rt&&c.id&&d===null&&$e.log(`Event processor "${c.id}" dropped event`),cm(d)?d.then(h=>u0(t,h,n,r+1).then(s)).then(null,o):u0(t,d,n,r+1).then(s).then(null,o)}})}let mf,Rx,ny;function KU(t,e){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:o}=e;(function(c,d){const{extra:h,tags:p,user:_,contexts:S,level:C,transactionName:j}=d,P=Ur(h);P&&Object.keys(P).length&&(c.extra={...P,...c.extra});const V=Ur(p);V&&Object.keys(V).length&&(c.tags={...V,...c.tags});const U=Ur(_);U&&Object.keys(U).length&&(c.user={...U,...c.user});const $=Ur(S);$&&Object.keys($).length&&(c.contexts={...$,...c.contexts}),C&&(c.level=C),j&&c.type!=="transaction"&&(c.transaction=j)})(t,e),r&&function(c,d){c.contexts={trace:LU(d),...c.contexts},c.sdkProcessingMetadata={dynamicSamplingContext:zU(d),...c.sdkProcessingMetadata};const h=pR(d),p=rb(h).description;p&&!c.transaction&&c.type==="transaction"&&(c.transaction=p)}(t,r),function(c,d){c.fingerprint=c.fingerprint?Array.isArray(c.fingerprint)?c.fingerprint:[c.fingerprint]:[],d&&(c.fingerprint=c.fingerprint.concat(d)),c.fingerprint&&!c.fingerprint.length&&delete c.fingerprint}(t,n),function(c,d){const h=[...c.breadcrumbs||[],...d];c.breadcrumbs=h.length?h:void 0}(t,s),function(c,d){c.sdkProcessingMetadata={...c.sdkProcessingMetadata,...d}}(t,o)}function Ox(t,e){const{extra:n,tags:r,user:s,contexts:o,level:c,sdkProcessingMetadata:d,breadcrumbs:h,fingerprint:p,eventProcessors:_,attachments:S,propagationContext:C,transactionName:j,span:P}=e;gf(t,"extra",n),gf(t,"tags",r),gf(t,"user",s),gf(t,"contexts",o),t.sdkProcessingMetadata=um(t.sdkProcessingMetadata,d,2),c&&(t.level=c),j&&(t.transactionName=j),P&&(t.span=P),h.length&&(t.breadcrumbs=[...t.breadcrumbs,...h]),p.length&&(t.fingerprint=[...t.fingerprint,...p]),_.length&&(t.eventProcessors=[...t.eventProcessors,..._]),S.length&&(t.attachments=[...t.attachments,...S]),t.propagationContext={...t.propagationContext,...C}}function gf(t,e,n){t[e]=um(t[e],n,1)}function QU(t,e,n,r,s,o){const{normalizeDepth:c=3,normalizeMaxBreadth:d=1e3}=t,h={...e,event_id:e.event_id||n.event_id||zr(),timestamp:e.timestamp||Md()},p=n.integrations||t.integrations.map(P=>P.name);(function(P,V){const{environment:U,release:$,dist:q,maxValueLength:X=250}=V;P.environment=P.environment||U||ib,!P.release&&$&&(P.release=$),!P.dist&&q&&(P.dist=q),P.message&&(P.message=Xl(P.message,X));const te=P.exception&&P.exception.values&&P.exception.values[0];te&&te.value&&(te.value=Xl(te.value,X));const z=P.request;z&&z.url&&(z.url=Xl(z.url,X))})(h,t),function(P,V){V.length>0&&(P.sdk=P.sdk||{},P.sdk.integrations=[...P.sdk.integrations||[],...V])}(h,p),s&&s.emit("applyFrameMetadata",e),e.type===void 0&&function(P,V){const U=function($){const q=mt._sentryDebugIds;if(!q)return{};const X=Object.keys(q);return ny&&X.length===Rx||(Rx=X.length,ny=X.reduce((te,z)=>{mf||(mf={});const K=mf[z];if(K)te[K[0]]=K[1];else{const M=$(z);for(let O=M.length-1;O>=0;O--){const A=M[O],x=A&&A.filename,L=q[z];if(x&&L){te[x]=L,mf[z]=[x,L];break}}}return te},{})),ny}(V);try{P.exception.values.forEach($=>{$.stacktrace.frames.forEach(q=>{U&&q.filename&&(q.debug_id=U[q.filename])})})}catch{}}(h,t.stackParser);const _=function(P,V){if(!V)return P;const U=P?P.clone():new Ma;return U.update(V),U}(r,n.captureContext);n.mechanism&&cc(h,n.mechanism);const S=s?s.getEventProcessors():[],C=_p("globalScope",()=>new Ma).getScopeData();o&&Ox(C,o.getScopeData()),_&&Ox(C,_.getScopeData());const j=[...n.attachments||[],...C.attachments];return j.length&&(n.attachments=j),KU(h,C),u0([...S,...C.eventProcessors],h,n).then(P=>(P&&function(V){const U={};try{V.exception.values.forEach(q=>{q.stacktrace.frames.forEach(X=>{X.debug_id&&(X.abs_path?U[X.abs_path]=X.debug_id:X.filename&&(U[X.filename]=X.debug_id),delete X.debug_id)})})}catch{}if(Object.keys(U).length===0)return;V.debug_meta=V.debug_meta||{},V.debug_meta.images=V.debug_meta.images||[];const $=V.debug_meta.images;Object.entries(U).forEach(([q,X])=>{$.push({type:"sourcemap",code_file:q,debug_id:X})})}(P),typeof c=="number"&&c>0?function(V,U,$){if(!V)return null;const q={...V,...V.breadcrumbs&&{breadcrumbs:V.breadcrumbs.map(X=>({...X,...X.data&&{data:us(X.data,U,$)}}))},...V.user&&{user:us(V.user,U,$)},...V.contexts&&{contexts:us(V.contexts,U,$)},...V.extra&&{extra:us(V.extra,U,$)}};return V.contexts&&V.contexts.trace&&q.contexts&&(q.contexts.trace=V.contexts.trace,V.contexts.trace.data&&(q.contexts.trace.data=us(V.contexts.trace.data,U,$))),V.spans&&(q.spans=V.spans.map(X=>({...X,...X.data&&{data:us(X.data,U,$)}}))),V.contexts&&V.contexts.flags&&q.contexts&&(q.contexts.flags=us(V.contexts.flags,3,$)),q}(P,c,d):P))}function Ix(t,e){return Yo().captureEvent(t,e)}function Mx(t){const e=Ln(),n=jd(),r=Yo(),{release:s,environment:o=ib}=e&&e.getOptions()||{},{userAgent:c}=mt.navigator||{},d=NU({release:s,environment:o,user:r.getUser()||n.getUser(),...c&&{userAgent:c},...t}),h=n.getSession();return h&&h.status==="ok"&&uc(h,{status:"exited"}),yR(),n.setSession(d),r.setSession(d),d}function yR(){const t=jd(),e=Yo(),n=e.getSession()||t.getSession();n&&function(r,s){let o={};r.status==="ok"&&(o={status:"exited"}),uc(r,o)}(n),_R(),t.setSession(),e.setSession()}function _R(){const t=jd(),e=Yo(),n=Ln(),r=e.getSession()||t.getSession();r&&n&&n.captureSession(r)}function jx(t=!1){t?yR():_R()}function YU(t,e,n){return e||`${function(r){return`${function(s){const o=s.protocol?`${s.protocol}:`:"",c=s.port?`:${s.port}`:"";return`${o}//${s.host}${c}${s.path?`/${s.path}`:""}/api/`}(r)}${r.projectId}/envelope/`}(t)}?${function(r,s){const o={sentry_version:"7"};return r.publicKey&&(o.sentry_key=r.publicKey),s&&(o.sentry_client=`${s.name}/${s.version}`),new URLSearchParams(o).toString()}(t,n)}`}const Dx=[];function Px(t,e){for(const n of e)n&&n.afterAllSetup&&n.afterAllSetup(t)}function Lx(t,e,n){if(n[e.name])Rt&&$e.log(`Integration skipped because it was already installed: ${e.name}`);else{if(n[e.name]=e,Dx.indexOf(e.name)===-1&&typeof e.setupOnce=="function"&&(e.setupOnce(),Dx.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){const r=e.preprocessEvent.bind(e);t.on("preprocessEvent",(s,o)=>r(s,o,t))}if(typeof e.processEvent=="function"){const r=e.processEvent.bind(e),s=Object.assign((o,c)=>r(o,c,t),{id:e.name});t.addEventProcessor(s)}Rt&&$e.log(`Integration installed: ${e.name}`)}}class Xr extends Error{constructor(e,n="warn"){super(e),this.message=e,this.logLevel=n}}const Vx="Not capturing exception because it's already been captured.";class XU{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=FU(e.dsn):Rt&&$e.warn("No DSN provided, client will not send events."),this._dsn){const r=YU(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:r})}const n=["enableTracing","tracesSampleRate","tracesSampler"].find(r=>r in e&&e[r]==null);n&&Id(()=>{console.warn(`[Sentry] Deprecation warning: \`${n}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(e,n,r){const s=zr();if(yx(e))return Rt&&$e.log(Vx),s;const o={event_id:s,...n};return this._process(this.eventFromException(e,o).then(c=>this._captureEvent(c,o,r))),o.event_id}captureMessage(e,n,r,s){const o={event_id:zr(),...r},c=J_(e)?e:String(e),d=r0(e)?this.eventFromMessage(c,n,o):this.eventFromException(e,o);return this._process(d.then(h=>this._captureEvent(h,o,s))),o.event_id}captureEvent(e,n,r){const s=zr();if(n&&n.originalException&&yx(n.originalException))return Rt&&$e.log(Vx),s;const o={event_id:s,...n},c=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,o,c||r)),o.event_id}captureSession(e){typeof e.release!="string"?Rt&&$e.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),uc(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(e).then(r=>n.flush(e).then(s=>r&&s))):Bo(!0)}close(e){return this.flush(e).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const n=this._integrations[e.name];Lx(this,e,this._integrations),n||Px(this,[e])}sendEvent(e,n={}){this.emit("beforeSendEvent",e,n);let r=WU(e,this._dsn,this._options._metadata,this._options.tunnel);for(const o of n.attachments||[])r=qU(r,$U(o));const s=this.sendEnvelope(r);s&&s.then(o=>this.emit("afterSendEvent",e,o),null)}sendSession(e){const n=function(r,s,o,c){const d=vR(o);return pd({sent_at:new Date().toISOString(),...d&&{sdk:d},...!!c&&s&&{dsn:Sp(s)}},["aggregates"in r?[{type:"sessions"},r]:[{type:"session"},r.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(e,n,r){if(this._options.sendClientReports){const s=typeof r=="number"?r:1,o=`${e}:${n}`;Rt&&$e.log(`Recording outcome: "${o}"${s>1?` (${s} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+s}}on(e,n){const r=this._hooks[e]=this._hooks[e]||[];return r.push(n),()=>{const s=r.indexOf(n);s>-1&&r.splice(s,1)}}emit(e,...n){const r=this._hooks[e];r&&r.forEach(s=>s(...n))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,n=>(Rt&&$e.error("Error while sending envelope:",n),n)):(Rt&&$e.error("Transport disabled"),Bo({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=function(n,r){const s={};return r.forEach(o=>{o&&Lx(n,o,s)}),s}(this,e),Px(this,e)}_updateSessionFromEvent(e,n){let r=n.level==="fatal",s=!1;const o=n.exception&&n.exception.values;if(o){s=!0;for(const d of o){const h=d.mechanism;if(h&&h.handled===!1){r=!0;break}}}const c=e.status==="ok";(c&&e.errors===0||c&&r)&&(uc(e,{...r&&{status:"crashed"},errors:e.errors||Number(s||r)}),this.captureSession(e))}_isClientDoneProcessing(e){return new Vr(n=>{let r=0;const s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=1,e&&r>=e&&(clearInterval(s),n(!1)))},1)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,n,r=Yo(),s=jd()){const o=this.getOptions(),c=Object.keys(this._integrations);return!n.integrations&&c.length>0&&(n.integrations=c),this.emit("preprocessEvent",e,n),e.type||s.setLastEventId(e.event_id||n.event_id),QU(o,e,n,r,this,s).then(d=>{if(d===null)return d;d.contexts={trace:MU(r),...d.contexts};const h=function(p,_){const S=_.getPropagationContext();return S.dsc||mR(S.traceId,p)}(this,r);return d.sdkProcessingMetadata={dynamicSamplingContext:h,...d.sdkProcessingMetadata},d})}_captureEvent(e,n={},r){return this._processEvent(e,n,r).then(s=>s.event_id,s=>{Rt&&(s instanceof Xr&&s.logLevel==="log"?$e.log(s.message):$e.warn(s))})}_processEvent(e,n,r){const s=this.getOptions(),{sampleRate:o}=s,c=zx(e),d=Ux(e),h=e.type||"error",p=`before send for type \`${h}\``,_=o===void 0?void 0:function(j){if(typeof j=="boolean")return Number(j);const P=typeof j=="string"?parseFloat(j):j;if(!(typeof P!="number"||isNaN(P)||P<0||P>1))return P;Rt&&$e.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(j)} of type ${JSON.stringify(typeof j)}.`)}(o);if(d&&typeof _=="number"&&Math.random()>_)return this.recordDroppedEvent("sample_rate","error",e),wp(new Xr(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const S=h==="replay_event"?"replay":h,C=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,n,r,C).then(j=>{if(j===null)throw this.recordDroppedEvent("event_processor",S,e),new Xr("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return j;const P=function(V,U,$,q){const{beforeSend:X,beforeSendTransaction:te,beforeSendSpan:z}=U;if(Ux($)&&X)return X($,q);if(zx($)){if($.spans&&z){const K=[];for(const M of $.spans){const O=z(M);O?K.push(O):(UU(),V.recordDroppedEvent("before_send","span"))}$.spans=K}if(te){if($.spans){const K=$.spans.length;$.sdkProcessingMetadata={...$.sdkProcessingMetadata,spanCountBeforeProcessing:K}}return te($,q)}}return $}(this,s,j,n);return function(V,U){const $=`${U} must return \`null\` or a valid event.`;if(cm(V))return V.then(q=>{if(!lc(q)&&q!==null)throw new Xr($);return q},q=>{throw new Xr(`${U} rejected with ${q}`)});if(!lc(V)&&V!==null)throw new Xr($);return V}(P,p)}).then(j=>{if(j===null){if(this.recordDroppedEvent("before_send",S,e),c){const U=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",U)}throw new Xr(`${p} returned \`null\`, will not send event.`,"log")}const P=r&&r.getSession();if(!c&&P&&this._updateSessionFromEvent(P,j),c){const U=(j.sdkProcessingMetadata&&j.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(j.spans?j.spans.length:0);U>0&&this.recordDroppedEvent("before_send","span",U)}const V=j.transaction_info;if(c&&V&&j.transaction!==e.transaction){const U="custom";j.transaction_info={...V,source:U}}return this.sendEvent(j,n),j}).then(null,j=>{throw j instanceof Xr?j:(this.captureException(j,{data:{__sentry__:!0},originalException:j}),new Xr(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${j}`))})}_process(e){this._numProcessing++,e.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map(([n,r])=>{const[s,o]=n.split(":");return{reason:s,category:o,quantity:r}})}_flushOutcomes(){Rt&&$e.log("Flushing outcomes...");const e=this._clearOutcomes();if(e.length===0)return void(Rt&&$e.log("No outcomes to send"));if(!this._dsn)return void(Rt&&$e.log("No dsn provided, will not send outcomes"));Rt&&$e.log("Sending outcomes:",e);const n=(r=e,pd((s=this._options.tunnel&&Sp(this._dsn))?{dsn:s}:{},[[{type:"client_report"},{timestamp:o||Md(),discarded_events:r}]]));var r,s,o;this.sendEnvelope(n)}}function Ux(t){return t.type===void 0}function zx(t){return t.type==="transaction"}function JU(t){const e=[];function n(r){return e.splice(e.indexOf(r),1)[0]||Promise.resolve(void 0)}return{$:e,add:function(r){if(!(t===void 0||e.length<t))return wp(new Xr("Not adding Promise because buffer limit was reached."));const s=r();return e.indexOf(s)===-1&&e.push(s),s.then(()=>n(s)).then(null,()=>n(s).then(null,()=>{})),s},drain:function(r){return new Vr((s,o)=>{let c=e.length;if(!c)return s(!0);const d=setTimeout(()=>{r&&r>0&&s(!1)},r);e.forEach(h=>{Bo(h).then(()=>{--c||(clearTimeout(d),s(!0))},o)})})}}}function ZU(t,{statusCode:e,headers:n},r=Date.now()){const s={...t},o=n&&n["x-sentry-rate-limits"],c=n&&n["retry-after"];if(o)for(const d of o.trim().split(",")){const[h,p,,,_]=d.split(":",5),S=parseInt(h,10),C=1e3*(isNaN(S)?60:S);if(p)for(const j of p.split(";"))j==="metric_bucket"&&_&&!_.split(";").includes("custom")||(s[j]=r+C);else s.all=r+C}else c?s.all=r+function(d,h=Date.now()){const p=parseInt(`${d}`,10);if(!isNaN(p))return 1e3*p;const _=Date.parse(`${d}`);return isNaN(_)?6e4:_-h}(c,r):e===429&&(s.all=r+6e4);return s}function e7(t,e,n=JU(t.bufferSize||64)){let r={};return{send:function(s){const o=[];if(kx(s,(h,p)=>{const _=Nx(p);if(function(S,C,j=Date.now()){return function(P,V){return P[V]||P.all||0}(S,C)>j}(r,_)){const S=Bx(h,p);t.recordDroppedEvent("ratelimit_backoff",_,S)}else o.push(h)}),o.length===0)return Bo({});const c=pd(s[0],o),d=h=>{kx(c,(p,_)=>{const S=Bx(p,_);t.recordDroppedEvent(h,Nx(_),S)})};return n.add(()=>e({body:HU(c)}).then(h=>(h.statusCode!==void 0&&(h.statusCode<200||h.statusCode>=300)&&Rt&&$e.warn(`Sentry responded with status code ${h.statusCode} to sent event.`),r=ZU(r,h),h),h=>{throw d("network_error"),h})).then(h=>h,h=>{if(h instanceof Xr)return Rt&&$e.error("Skipped sending event because buffer is full."),d("queue_overflow"),Bo({});throw h})},flush:s=>n.drain(s)}}function Bx(t,e){if(e==="event"||e==="transaction")return Array.isArray(t)?t[1]:void 0}const t7=100;function vo(t,e){const n=Ln(),r=jd();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:o=t7}=n.getOptions();if(o<=0)return;const c={timestamp:Md(),...t},d=s?Id(()=>s(c,e)):c;d!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",d,e),r.addBreadcrumb(d,o))}let Fx;const qx=new WeakMap,n7=()=>({name:"FunctionToString",setupOnce(){Fx=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=eb(this),n=qx.has(Ln())&&e!==void 0?e:this;return Fx.apply(n,t)}}catch{}},setup(t){qx.set(t,!0)}}),r7=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],i7=(t={})=>({name:"InboundFilters",processEvent(e,n,r){const s=r.getOptions(),o=function(c={},d={}){return{allowUrls:[...c.allowUrls||[],...d.allowUrls||[]],denyUrls:[...c.denyUrls||[],...d.denyUrls||[]],ignoreErrors:[...c.ignoreErrors||[],...d.ignoreErrors||[],...c.disableErrorDefaults?[]:r7],ignoreTransactions:[...c.ignoreTransactions||[],...d.ignoreTransactions||[]],ignoreInternal:c.ignoreInternal===void 0||c.ignoreInternal}}(t,s);return function(c,d){return d.ignoreInternal&&function(h){try{return h.exception.values[0].type==="SentryError"}catch{}return!1}(c)?(Rt&&$e.warn(`Event dropped due to being internal Sentry Error.
Event: ${ma(c)}`),!0):function(h,p){return h.type||!p||!p.length?!1:function(_){const S=[];_.message&&S.push(_.message);let C;try{C=_.exception.values[_.exception.values.length-1]}catch{}return C&&C.value&&(S.push(C.value),C.type&&S.push(`${C.type}: ${C.value}`)),S}(h).some(_=>pf(_,p))}(c,d.ignoreErrors)?(Rt&&$e.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${ma(c)}`),!0):function(h){return h.type||!h.exception||!h.exception.values||h.exception.values.length===0?!1:!h.message&&!h.exception.values.some(p=>p.stacktrace||p.type&&p.type!=="Error"||p.value)}(c)?(Rt&&$e.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${ma(c)}`),!0):function(h,p){if(h.type!=="transaction"||!p||!p.length)return!1;const _=h.transaction;return!!_&&pf(_,p)}(c,d.ignoreTransactions)?(Rt&&$e.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${ma(c)}`),!0):function(h,p){if(!p||!p.length)return!1;const _=vf(h);return!!_&&pf(_,p)}(c,d.denyUrls)?(Rt&&$e.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${ma(c)}.
Url: ${vf(c)}`),!0):function(h,p){if(!p||!p.length)return!0;const _=vf(h);return!_||pf(_,p)}(c,d.allowUrls)?!1:(Rt&&$e.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${ma(c)}.
Url: ${vf(c)}`),!0)}(e,o)?null:e}});function vf(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?function(n=[]){for(let r=n.length-1;r>=0;r--){const s=n[r];if(s&&s.filename!=="<anonymous>"&&s.filename!=="[native code]")return s.filename||null}return null}(e):null}catch{return Rt&&$e.error(`Cannot extract url for event ${ma(t)}`),null}}function s7(t,e,n=250,r,s,o,c){if(!(o.exception&&o.exception.values&&c&&Uo(c.originalException,Error)))return;const d=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;var h,p;d&&(o.exception.values=(h=d0(t,e,s,c.originalException,r,o.exception.values,d,0),p=n,h.map(_=>(_.value&&(_.value=Xl(_.value,p)),_))))}function d0(t,e,n,r,s,o,c,d){if(o.length>=n+1)return o;let h=[...o];if(Uo(r[s],Error)){Hx(c,d);const p=t(e,r[s]),_=h.length;$x(p,s,_,d),h=d0(t,e,n,r[s],s,[p,...h],p,_)}return Array.isArray(r.errors)&&r.errors.forEach((p,_)=>{if(Uo(p,Error)){Hx(c,d);const S=t(e,p),C=h.length;$x(S,`errors[${_}]`,C,d),h=d0(t,e,n,p,s,[S,...h],S,C)}}),h}function Hx(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}function $x(t,e,n,r){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:n,parent_id:r}}function ry(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:r,relative:e[5]+n+r}}function a7(){"console"in mt&&n0.forEach(function(t){t in mt.console&&vr(mt.console,t,function(e){return bp[t]=e,function(...n){ei("console",{args:n,level:t});const r=bp[t];r&&r.apply(mt.console,n)}})})}function o7(t){return t==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}const l7=()=>{let t;return{name:"Dedupe",processEvent(e){if(e.type)return e;try{if(function(n,r){return r?!!(function(s,o){const c=s.message,d=o.message;return!(!c&&!d||c&&!d||!c&&d||c!==d||!Wx(s,o)||!Gx(s,o))}(n,r)||function(s,o){const c=Kx(o),d=Kx(s);return!(!c||!d||c.type!==d.type||c.value!==d.value||!Wx(s,o)||!Gx(s,o))}(n,r)):!1}(e,t))return Rt&&$e.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}};function Gx(t,e){let n=hx(t),r=hx(e);if(!n&&!r)return!0;if(n&&!r||!n&&r||r.length!==n.length)return!1;for(let s=0;s<r.length;s++){const o=r[s],c=n[s];if(o.filename!==c.filename||o.lineno!==c.lineno||o.colno!==c.colno||o.function!==c.function)return!1}return!0}function Wx(t,e){let n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return n.join("")===r.join("")}catch{return!1}}function Kx(t){return t.exception&&t.exception.values&&t.exception.values[0]}function Qx(t){return t===void 0?void 0:t>=400&&t<500?"warning":t>=500?"error":void 0}const iy=mt;function h0(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function c7(){if(typeof EdgeRuntime=="string")return!0;if(!function(){if(!("fetch"in iy))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}())return!1;if(h0(iy.fetch))return!0;let t=!1;const e=iy.document;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=h0(n.contentWindow.fetch)),e.head.removeChild(n)}catch(n){Qo&&$e.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return t}function u7(t,e){const n="fetch";ko(n,t),No(n,()=>function(r,s=!1){s&&!c7()||vr(mt,"fetch",function(o){return function(...c){const d=new Error,{method:h,url:p}=function(S){if(S.length===0)return{method:"GET",url:""};if(S.length===2){const[j,P]=S;return{url:Yx(j),method:f0(P,"method")?String(P.method).toUpperCase():"GET"}}const C=S[0];return{url:Yx(C),method:f0(C,"method")?String(C.method).toUpperCase():"GET"}}(c),_={args:c,fetchData:{method:h,url:p},startTimestamp:1e3*bs(),virtualError:d};return r||ei("fetch",{..._}),o.apply(mt,c).then(async S=>(r?r(S):ei("fetch",{..._,endTimestamp:1e3*bs(),response:S}),S),S=>{throw ei("fetch",{..._,endTimestamp:1e3*bs(),error:S}),X_(S)&&S.stack===void 0&&(S.stack=d.stack,zo(S,"framesToPop",1)),S})}})}(void 0,e))}function f0(t,e){return!!t&&typeof t=="object"&&!!t[e]}function Yx(t){return typeof t=="string"?t:t?f0(t,"url")?t.url:t.toString?t.toString():"":""}const yf=mt,_n=mt;let p0=0;function Xx(){return p0>0}function hc(t,e={}){if(!function(r){return typeof r=="function"}(t))return t;try{const r=t.__sentry_wrapped__;if(r)return typeof r=="function"?r:t;if(eb(t))return t}catch{return t}const n=function(...r){try{const s=r.map(o=>hc(o,e));return t.apply(this,s)}catch(s){throw p0++,setTimeout(()=>{p0--}),function(...o){const c=nb(om());if(o.length===2){const[d,h]=o;return d?c.withSetScope(d,h):c.withScope(h)}c.withScope(o[0])}(o=>{var c;o.addEventProcessor(d=>(e.mechanism&&(s0(d,void 0),cc(d,e.mechanism)),d.extra={...d.extra,arguments:r},d)),c=s,Yo().captureException(c,void 0)}),s}};try{for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}catch{}dR(n,t),zo(t,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>t.name})}catch{}return n}const dm=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function sb(t,e){const n=ab(t,e),r={type:f7(e),value:p7(e)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function d7(t,e,n,r){const s=Ln(),o=s&&s.getOptions().normalizeDepth,c=function(p){for(const _ in p)if(Object.prototype.hasOwnProperty.call(p,_)){const S=p[_];if(S instanceof Error)return S}}(e),d={__serialized__:gR(e,o)};if(c)return{exception:{values:[sb(t,c)]},extra:d};const h={exception:{values:[{type:lm(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:m7(e,{isUnhandledRejection:r})}]},extra:d};if(n){const p=ab(t,n);p.length&&(h.exception.values[0].stacktrace={frames:p})}return h}function sy(t,e){return{exception:{values:[sb(t,e)]}}}function ab(t,e){const n=e.stacktrace||e.stack||"",r=function(o){return o&&h7.test(o.message)?1:0}(e),s=function(o){return typeof o.framesToPop=="number"?o.framesToPop:0}(e);try{return t(n,r,s)}catch{}return[]}const h7=/Minified React error #\d+;/i;function bR(t){return typeof WebAssembly<"u"&&WebAssembly.Exception!==void 0&&t instanceof WebAssembly.Exception}function f7(t){const e=t&&t.name;return!e&&bR(t)?t.message&&Array.isArray(t.message)&&t.message.length==2?t.message[0]:"WebAssembly.Exception":e}function p7(t){const e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:bR(t)&&Array.isArray(t.message)&&t.message.length==2?t.message[1]:e:"No error message"}function m0(t,e,n,r,s){let o;if(lR(e)&&e.error)return sy(t,e.error);if(px(e)||Tc(e,"DOMException")){const c=e;if("stack"in e)o=sy(t,e);else{const d=c.name||(px(c)?"DOMError":"DOMException"),h=c.message?`${d}: ${c.message}`:d;o=g0(t,h,n,r),s0(o,h)}return"code"in c&&(o.tags={...o.tags,"DOMException.code":`${c.code}`}),o}return X_(e)?sy(t,e):lc(e)||lm(e)?(o=d7(t,e,n,s),cc(o,{synthetic:!0}),o):(o=g0(t,e,n,r),s0(o,`${e}`),cc(o,{synthetic:!0}),o)}function g0(t,e,n,r){const s={};if(r&&n){const o=ab(t,n);o.length&&(s.exception={values:[{value:e,stacktrace:{frames:o}}]}),cc(s,{synthetic:!0})}if(J_(e)){const{__sentry_template_string__:o,__sentry_template_values__:c}=e;return s.logentry={message:o,params:c},s}return s.message=e,s}function m7(t,{isUnhandledRejection:e}){const n=function(s,o=40){const c=Object.keys(hR(s));c.sort();const d=c[0];if(!d)return"[object has no keys]";if(d.length>=o)return Xl(d,o);for(let h=c.length;h>0;h--){const p=c.slice(0,h).join(", ");if(!(p.length>o))return h===c.length?p:Xl(p,o)}return""}(t),r=e?"promise rejection":"exception";return lR(t)?`Event \`ErrorEvent\` captured as ${r} with message \`${t.message}\``:lm(t)?`Event \`${function(s){try{const o=Object.getPrototypeOf(s);return o?o.constructor.name:void 0}catch{}}(t)}\` (type=${t.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}class g7 extends XU{constructor(e){const n={parentSpanIsAlwaysRootSpan:!0,...e};(function(r,s,o=[s],c="npm"){const d=r._metadata||{};d.sdk||(d.sdk={name:`sentry.javascript.${s}`,packages:o.map(h=>({name:`${c}:@sentry/${h}`,version:Co})),version:Co}),r._metadata=d})(n,"browser",["browser"],_n.SENTRY_SDK_SOURCE||"npm"),super(n),n.sendClientReports&&_n.document&&_n.document.addEventListener("visibilitychange",()=>{_n.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,n){return function(r,s,o,c){const d=m0(r,s,o&&o.syntheticException||void 0,c);return cc(d),d.level="error",o&&o.event_id&&(d.event_id=o.event_id),Bo(d)}(this._options.stackParser,e,n,this._options.attachStacktrace)}eventFromMessage(e,n="info",r){return function(s,o,c="info",d,h){const p=g0(s,o,d&&d.syntheticException||void 0,h);return p.level=c,d&&d.event_id&&(p.event_id=d.event_id),Bo(p)}(this._options.stackParser,e,n,r,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(dm&&$e.warn("SDK not enabled, will not capture user feedback."));const n=function(r,{metadata:s,tunnel:o,dsn:c}){const d={event_id:r.event_id,sent_at:new Date().toISOString(),...s&&s.sdk&&{sdk:{name:s.sdk.name,version:s.sdk.version}},...!!o&&!!c&&{dsn:Sp(c)}};return pd(d,[function(p){return[{type:"user_report"},p]}(r)])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(e,n,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,n,r)}}const v7=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Yn=mt;let Jx,ay,oy,_f;function y7(){if(!Yn.document)return;const t=ei.bind(null,"dom"),e=Zx(t,!0);Yn.document.addEventListener("click",e,!1),Yn.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(n=>{const r=Yn[n],s=r&&r.prototype;s&&s.hasOwnProperty&&s.hasOwnProperty("addEventListener")&&(vr(s,"addEventListener",function(o){return function(c,d,h){if(c==="click"||c=="keypress")try{const p=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},_=p[c]=p[c]||{refCount:0};if(!_.handler){const S=Zx(t);_.handler=S,o.call(this,c,S,h)}_.refCount++}catch{}return o.call(this,c,d,h)}}),vr(s,"removeEventListener",function(o){return function(c,d,h){if(c==="click"||c=="keypress")try{const p=this.__sentry_instrumentation_handlers__||{},_=p[c];_&&(_.refCount--,_.refCount<=0&&(o.call(this,c,_.handler,h),_.handler=void 0,delete p[c]),Object.keys(p).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return o.call(this,c,d,h)}}))})}function Zx(t,e=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(o){try{return o.target}catch{return null}}(n);if(function(o,c){return o==="keypress"&&(!c||!c.tagName||c.tagName!=="INPUT"&&c.tagName!=="TEXTAREA"&&!c.isContentEditable)}(n.type,r))return;zo(n,"_sentryCaptured",!0),r&&!r._sentryId&&zo(r,"_sentryId",zr());const s=n.type==="keypress"?"input":n.type;(function(o){if(o.type!==ay)return!1;try{if(!o.target||o.target._sentryId!==oy)return!1}catch{}return!0})(n)||(t({event:n,name:s,global:e}),ay=n.type,oy=r?r._sentryId:void 0),clearTimeout(Jx),Jx=Yn.setTimeout(()=>{oy=void 0,ay=void 0},1e3)}}function wR(t){const e="history";ko(e,t),No(e,_7)}function _7(){if(!function(){const n=yf.chrome,r=n&&n.app&&n.app.runtime,s="history"in yf&&!!yf.history.pushState&&!!yf.history.replaceState;return!r&&s}())return;const t=Yn.onpopstate;function e(n){return function(...r){const s=r.length>2?r[2]:void 0;if(s){const o=_f,c=String(s);_f=c,ei("history",{from:o,to:c})}return n.apply(this,r)}}Yn.onpopstate=function(...n){const r=Yn.location.href,s=_f;if(_f=r,ei("history",{from:s,to:r}),t)try{return t.apply(this,n)}catch{}},vr(Yn.history,"pushState",e),vr(Yn.history,"replaceState",e)}const Bf={};function e2(t){Bf[t]=void 0}const Hu="__sentry_xhr_v3__";function b7(){if(!Yn.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,n,r){const s=new Error,o=1e3*bs(),c=ps(r[0])?r[0].toUpperCase():void 0,d=function(p){if(ps(p))return p;try{return p.toString()}catch{}}(r[1]);if(!c||!d)return e.apply(n,r);n[Hu]={method:c,url:d,request_headers:{}},c==="POST"&&d.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const h=()=>{const p=n[Hu];if(p&&n.readyState===4){try{p.status_code=n.status}catch{}ei("xhr",{endTimestamp:1e3*bs(),startTimestamp:o,xhr:n,virtualError:s})}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply:(p,_,S)=>(h(),p.apply(_,S))}):n.addEventListener("readystatechange",h),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(p,_,S){const[C,j]=S,P=_[Hu];return P&&ps(C)&&ps(j)&&(P.request_headers[C.toLowerCase()]=j),p.apply(_,S)}}),e.apply(n,r)}}),t.send=new Proxy(t.send,{apply(e,n,r){const s=n[Hu];return s?(r[0]!==void 0&&(s.body=r[0]),ei("xhr",{startTimestamp:1e3*bs(),xhr:n}),e.apply(n,r)):e.apply(n,r)}})}function w7(t,e=function(n){const r=Bf[n];if(r)return r;let s=Yn[n];if(h0(s))return Bf[n]=s.bind(Yn);const o=Yn.document;if(o&&typeof o.createElement=="function")try{const c=o.createElement("iframe");c.hidden=!0,o.head.appendChild(c);const d=c.contentWindow;d&&d[n]&&(s=d[n]),o.head.removeChild(c)}catch(c){v7&&$e.warn(`Could not create sandbox iframe for ${n} check, bailing to window.${n}: `,c)}return s&&(Bf[n]=s.bind(Yn))}("fetch")){let n=0,r=0;return e7(t,function(s){const o=s.body.length;n+=o,r++;const c={body:s.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:n<=6e4&&r<15,...t.fetchOptions};if(!e)return e2("fetch"),wp("No fetch implementation available");try{return e(t.url,c).then(d=>(n-=o,r--,{statusCode:d.status,headers:{"x-sentry-rate-limits":d.headers.get("X-Sentry-Rate-Limits"),"retry-after":d.headers.get("Retry-After")}}))}catch(d){return e2("fetch"),n-=o,r--,wp(d)}})}function ly(t,e,n,r){const s={filename:t,function:e==="<anonymous>"?xo:e,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const S7=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,E7=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,T7=/\((\S*)(?::(\d+))(?::(\d+))\)/,x7=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,A7=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,C7=function(...t){const e=t.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,s=0)=>{const o=[],c=n.split(`
`);for(let d=r;d<c.length;d++){const h=c[d];if(h.length>1024)continue;const p=cx.test(h)?h.replace(cx,"$1"):h;if(!p.match(/\S*Error: /)){for(const _ of e){const S=_(p);if(S){o.push(S);break}}if(o.length>=50+s)break}}return function(d){if(!d.length)return[];const h=Array.from(d);return/sentryWrapped/.test(ff(h).function||"")&&h.pop(),h.reverse(),ux.test(ff(h).function||"")&&(h.pop(),ux.test(ff(h).function||"")&&h.pop()),h.slice(0,50).map(p=>({...p,filename:p.filename||ff(h).filename,function:p.function||xo}))}(o.slice(s))}}([30,t=>{const e=S7.exec(t);if(e){const[,r,s,o]=e;return ly(r,xo,+s,+o)}const n=E7.exec(t);if(n){if(n[2]&&n[2].indexOf("eval")===0){const o=T7.exec(n[2]);o&&(n[2]=o[1],n[3]=o[2],n[4]=o[3])}const[r,s]=t2(n[1]||xo,n[2]);return ly(s,r,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,t=>{const e=x7.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const s=A7.exec(e[3]);s&&(e[1]=e[1]||"eval",e[3]=s[1],e[4]=s[2],e[5]="")}let n=e[3],r=e[1]||xo;return[r,n]=t2(r,n),ly(n,r,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}]),t2=(t,e)=>{const n=t.indexOf("safari-extension")!==-1,r=t.indexOf("safari-web-extension")!==-1;return n||r?[t.indexOf("@")!==-1?t.split("@")[0]:xo,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},n2=1024,k7=(t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:"Breadcrumbs",setup(n){var r;e.console&&function(s){const o="console";ko(o,s),No(o,a7)}(function(s){return function(o){if(Ln()!==s)return;const c={category:"console",data:{arguments:o.args,logger:"console"},level:o7(o.level),message:mx(o.args," ")};if(o.level==="assert"){if(o.args[0]!==!1)return;c.message=`Assertion failed: ${mx(o.args.slice(1)," ")||"console.assert"}`,c.data.arguments=o.args.slice(1)}vo(c,{input:o.args,level:o.level})}}(n)),e.dom&&(r=function(s,o){return function(c){if(Ln()!==s)return;let d,h,p=typeof o=="object"?o.serializeAttribute:void 0,_=typeof o=="object"&&typeof o.maxStringLength=="number"?o.maxStringLength:void 0;_&&_>n2&&(dm&&$e.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${_} was configured. Sentry will use 1024 instead.`),_=n2),typeof p=="string"&&(p=[p]);try{const C=c.event,j=function(P){return!!P&&!!P.target}(C)?C.target:C;d=uR(j,{keyAttrs:p,maxStringLength:_}),h=function(P){if(!Z_.HTMLElement)return null;let V=P;for(let U=0;U<5;U++){if(!V)return null;if(V instanceof HTMLElement){if(V.dataset.sentryComponent)return V.dataset.sentryComponent;if(V.dataset.sentryElement)return V.dataset.sentryElement}V=V.parentNode}return null}(j)}catch{d="<unknown>"}if(d.length===0)return;const S={category:`ui.${c.name}`,message:d};h&&(S.data={"ui.component_name":h}),vo(S,{event:c.event,name:c.name,global:c.global})}}(n,e.dom),ko("dom",r),No("dom",y7)),e.xhr&&function(s){ko("xhr",s),No("xhr",b7)}(function(s){return function(o){if(Ln()!==s)return;const{startTimestamp:c,endTimestamp:d}=o,h=o.xhr[Hu];if(!c||!d||!h)return;const{method:p,url:_,status_code:S,body:C}=h,j={method:p,url:_,status_code:S},P={xhr:o.xhr,input:C,startTimestamp:c,endTimestamp:d};vo({category:"xhr",data:j,type:"http",level:Qx(S)},P)}}(n)),e.fetch&&u7(function(s){return function(o){if(Ln()!==s)return;const{startTimestamp:c,endTimestamp:d}=o;if(d&&(!o.fetchData.url.match(/sentry_key/)||o.fetchData.method!=="POST"))if(o.error)vo({category:"fetch",data:o.fetchData,level:"error",type:"http"},{data:o.error,input:o.args,startTimestamp:c,endTimestamp:d});else{const h=o.response,p={...o.fetchData,status_code:h&&h.status},_={input:o.args,response:h,startTimestamp:c,endTimestamp:d};vo({category:"fetch",data:p,type:"http",level:Qx(p.status_code)},_)}}}(n)),e.history&&wR(function(s){return function(o){if(Ln()!==s)return;let c=o.from,d=o.to;const h=ry(_n.location.href);let p=c?ry(c):void 0;const _=ry(d);p&&p.path||(p=h),h.protocol===_.protocol&&h.host===_.host&&(d=_.relative),h.protocol===p.protocol&&h.host===p.host&&(c=p.relative),vo({category:"navigation",data:{from:c,to:d}})}}(n)),e.sentry&&n.on("beforeSendEvent",function(s){return function(o){Ln()===s&&vo({category:"sentry."+(o.type==="transaction"?"transaction":"event"),event_id:o.event_id,level:o.level,message:ma(o)},{event:o})}}(n))}}},N7=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],R7=(t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:"BrowserApiErrors",setupOnce(){e.setTimeout&&vr(_n,"setTimeout",r2),e.setInterval&&vr(_n,"setInterval",r2),e.requestAnimationFrame&&vr(_n,"requestAnimationFrame",O7),e.XMLHttpRequest&&"XMLHttpRequest"in _n&&vr(XMLHttpRequest.prototype,"send",I7);const n=e.eventTarget;n&&(Array.isArray(n)?n:N7).forEach(M7)}}};function r2(t){return function(...e){const n=e[0];return e[0]=hc(n,{mechanism:{data:{function:Ia(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}function O7(t){return function(e){return t.apply(this,[hc(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Ia(t)},handled:!1,type:"instrument"}})])}}function I7(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(r=>{r in n&&typeof n[r]=="function"&&vr(n,r,function(s){const o={mechanism:{data:{function:r,handler:Ia(s)},handled:!1,type:"instrument"}},c=eb(s);return c&&(o.mechanism.data.handler=Ia(c)),hc(s,o)})}),t.apply(this,e)}}function M7(t){const e=_n[t],n=e&&e.prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(vr(n,"addEventListener",function(r){return function(s,o,c){try{typeof o.handleEvent=="function"&&(o.handleEvent=hc(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Ia(o),target:t},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[s,hc(o,{mechanism:{data:{function:"addEventListener",handler:Ia(o),target:t},handled:!1,type:"instrument"}}),c])}}),vr(n,"removeEventListener",function(r){return function(s,o,c){try{const d=o.__sentry_wrapped__;d&&r.call(this,s,d,c)}catch{}return r.call(this,s,o,c)}}))}const j7=()=>({name:"BrowserSession",setupOnce(){_n.document!==void 0?(Mx({ignoreDuration:!0}),jx(),wR(({from:t,to:e})=>{t!==void 0&&t!==e&&(Mx({ignoreDuration:!0}),jx())})):dm&&$e.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),D7=(t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(n){e.onerror&&(function(r){(function(s){const o="error";ko(o,s),No(o,xU)})(s=>{const{stackParser:o,attachStacktrace:c}=s2();if(Ln()!==r||Xx())return;const{msg:d,url:h,line:p,column:_,error:S}=s,C=function(j,P,V,U){const $=j.exception=j.exception||{},q=$.values=$.values||[],X=q[0]=q[0]||{},te=X.stacktrace=X.stacktrace||{},z=te.frames=te.frames||[],K=U,M=V,O=ps(P)&&P.length>0?P:function(){try{return Z_.document.location.href}catch{return""}}();return z.length===0&&z.push({colno:K,filename:O,function:xo,in_app:!0,lineno:M}),j}(m0(o,S||d,void 0,c,!1),h,p,_);C.level="error",Ix(C,{originalException:S,mechanism:{handled:!1,type:"onerror"}})})}(n),i2("onerror")),e.onunhandledrejection&&(function(r){(function(s){const o="unhandledrejection";ko(o,s),No(o,AU)})(s=>{const{stackParser:o,attachStacktrace:c}=s2();if(Ln()!==r||Xx())return;const d=function(p){if(r0(p))return p;try{if("reason"in p)return p.reason;if("detail"in p&&"reason"in p.detail)return p.detail.reason}catch{}return p}(s),h=r0(d)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(d)}`}]}}:m0(o,d,void 0,c,!0);h.level="error",Ix(h,{originalException:d,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(n),i2("onunhandledrejection"))}}};function i2(t){dm&&$e.log(`Global Handler attached: ${t}`)}function s2(){const t=Ln();return t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const P7=()=>({name:"HttpContext",preprocessEvent(t){if(!_n.navigator&&!_n.location&&!_n.document)return;const e=t.request&&t.request.url||_n.location&&_n.location.href,{referrer:n}=_n.document||{},{userAgent:r}=_n.navigator||{},s={...t.request&&t.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},o={...t.request,...e&&{url:e},headers:s};t.request=o}}),L7=(t={})=>{const e=t.limit||5,n=t.key||"cause";return{name:"LinkedErrors",preprocessEvent(r,s,o){const c=o.getOptions();s7(sb,c.stackParser,c.maxValueLength,n,e,r,s)}}};var a2="new",o2="loading",l2="loaded",v0="joining-meeting",So="joined-meeting",yo="left-meeting",ha="error",V7="playable",cy="unknown",U7="full",z7="base",c2="no-room",B7="end-of-life",F7="connection-error",q7="iframe-ready-for-launch-config",H7="iframe-launch-config",$7="theme-updated",G7="loading",W7="load-attempt-failed",u2="loaded",K7="started-camera",Q7="camera-error",Y7="joining-meeting",X7="joined-meeting",J7="left-meeting",Z7="participant-joined",ez="participant-updated",tz="participant-left",nz="participant-counts-updated",rz="access-state-updated",iz="meeting-session-summary-updated",sz="meeting-session-state-updated",az="waiting-participant-added",oz="waiting-participant-updated",lz="waiting-participant-removed",cz="track-started",uz="track-stopped",dz="transcription-started",hz="transcription-stopped",fz="transcription-error",d2="recording-started",h2="recording-stopped",pz="recording-stats",mz="recording-error",gz="recording-upload-completed",vz="recording-data",yz="app-message",_z="transcription-message",bz="remote-media-player-started",wz="remote-media-player-updated",Sz="remote-media-player-stopped",Ez="local-screen-share-started",Tz="local-screen-share-stopped",xz="local-screen-share-canceled",Az="active-speaker-change",Cz="active-speaker-mode-change",kz="network-quality-change",Nz="network-connection",Rz="cpu-load-change",Oz="face-counts-updated",bf="fullscreen",wf="exited-fullscreen",Iz="live-streaming-started",Mz="live-streaming-updated",jz="live-streaming-stopped",Dz="live-streaming-error",Pz="lang-updated",Lz="receive-settings-updated",f2="input-settings-updated",p2="nonfatal-error",m2="error",uy=4096,g2=102400,dy="iframe-call-message",v2="local-screen-start",y2="daily-method-update-live-streaming-endpoints",Sf="transmit-log",ms="daily-custom-track",Ff={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},SR={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},y0={PLAY:"play",PAUSE:"pause"},hy=["jpg","png","jpeg"],Vz="add-endpoints",Uz="remove-endpoints",_2="sip-call-transfer";function qr(){return!ot()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function ot(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function ER(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function zz(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(function(t,e){if(!t||!e)return!0;switch(t){case"Chrome":return e.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(e.major===13&&e.minor===0&&e.point===0);case"Firefox":return e.major>=67}return!0}(Fo(),Ep())||ot())}function b2(){if(ot()||!document)return!1;var t=document.createElement("iframe");return!!t.requestFullscreen||!!t.webkitRequestFullscreen}var Bz=function(){try{var t=document.createElement("canvas"),e=(navigator.webdriver?t.getContext("webgl2"):t.getContext("webgl2",{failIfMajorPerformanceCaveat:!0}))!=null;return t.remove(),e}catch{return!1}}();function TR(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!ot()&&!!Bz&&(t?function(){return S2()?!1:["Chrome","Firefox"].includes(Fo())}():function(){if(S2())return!1;var e=Fo();if(e==="Safari"){var n=lb();if(n.major<15||n.major===15&&n.minor<4)return!1}return e==="Chrome"?ob().major>=77:e==="Firefox"?cb().major>=97:["Chrome","Firefox","Safari"].includes(e)}())}function xR(){if(ot()||AR()||typeof AudioWorkletNode>"u")return!1;switch(Fo()){case"Chrome":case"Firefox":return!0;case"Safari":var t=Ep();return t.major>17||t.major===17&&t.minor>=4}return!1}function w2(){return ER()&&!function(){var t,e=Fo();if(!qr())return!0;switch(e){case"Chrome":return(t=ob()).major&&t.major>0&&t.major<75;case"Firefox":return(t=cb()).major<91;case"Safari":return(t=lb()).major<13||t.major===13&&t.minor<1;default:return!0}}()}function AR(){return qr().match(/Linux; Android/)}function S2(){var t,e=qr(),n=e.match(/Mac/)&&(!ot()&&typeof window<"u"&&(t=window)!==null&&t!==void 0&&(t=t.navigator)!==null&&t!==void 0&&t.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(e.match(/Mobi/)||e.match(/Android/)||n)||!!qr().match(/DailyAnd\//)||void 0}function Fo(){if(typeof window<"u"){var t=qr();return CR()?"Safari":t.indexOf("Edge")>-1?"Edge":t.match(/Chrome\//)?"Chrome":t.indexOf("Safari")>-1||kR()?"Safari":t.indexOf("Firefox")>-1?"Firefox":t.indexOf("MSIE")>-1||t.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function Ep(){switch(Fo()){case"Chrome":return ob();case"Safari":return lb();case"Firefox":return cb();case"Edge":return function(){var t=0,e=0;if(typeof window<"u"){var n=qr().match(/Edge\/(\d+).(\d+)/);if(n)try{t=parseInt(n[1]),e=parseInt(n[2])}catch{}}return{major:t,minor:e}}()}}function ob(){var t=0,e=0,n=0,r=0,s=!1;if(typeof window<"u"){var o=qr(),c=o.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(c)try{t=parseInt(c[1]),e=parseInt(c[2]),n=parseInt(c[3]),r=parseInt(c[4]),s=o.indexOf("OPR/")>-1}catch{}}return{major:t,minor:e,build:n,patch:r,opera:s}}function CR(){return!!qr().match(/iPad|iPhone|iPod/i)&&ER()}function kR(){return qr().indexOf("AppleWebKit/605.1.15")>-1}function lb(){var t=0,e=0,n=0;if(typeof window<"u"){var r=qr().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(r)try{t=parseInt(r[1]),e=parseInt(r[2]),n=parseInt(r[4])}catch{}else(CR()||kR())&&(t=14,e=0,n=3)}return{major:t,minor:e,point:n}}function cb(){var t=0,e=0;if(typeof window<"u"){var n=qr().match(/Firefox\/(\d+).(\d+)/);if(n)try{t=parseInt(n[1]),e=parseInt(n[2])}catch{}}return{major:t,minor:e}}var NR=function(){return _r(function t(){yr(this,t)},[{key:"addListenerForMessagesFromCallMachine",value:function(t,e,n){Pu()}},{key:"addListenerForMessagesFromDailyJs",value:function(t,e,n){Pu()}},{key:"sendMessageToCallMachine",value:function(t,e,n,r){Pu()}},{key:"sendMessageToDailyJs",value:function(t,e){Pu()}},{key:"removeListener",value:function(t){Pu()}}])}();function E2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function fy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E2(Object(n),!0).forEach(function(r){ki(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RR=function(){return!!t})()}var Fz=function(){function t(){var e,n,r,s;return yr(this,t),n=this,r=ai(r=t),(e=im(n,RR()?Reflect.construct(r,[],ai(n).constructor):r.apply(n,s)))._wrappedListeners={},e._messageCallbacks={},e}return sm(t,NR),_r(t,[{key:"addListenerForMessagesFromCallMachine",value:function(e,n,r){var s=this,o=function(c){if(c.data&&c.data.what==="iframe-call-message"&&(!c.data.callClientId||c.data.callClientId===n)&&(!c.data.from||c.data.from!=="module")){var d=fy({},c.data);if(delete d.from,d.callbackStamp&&s._messageCallbacks[d.callbackStamp]){var h=d.callbackStamp;s._messageCallbacks[h].call(r,d),delete s._messageCallbacks[h]}delete d.what,delete d.callbackStamp,e.call(r,d)}};this._wrappedListeners[e]=o,window.addEventListener("message",o)}},{key:"addListenerForMessagesFromDailyJs",value:function(e,n,r){var s=function(o){var c;if(!(!o.data||o.data.what!==dy||!o.data.action||o.data.from&&o.data.from!=="module"||o.data.callClientId&&n&&o.data.callClientId!==n||o!=null&&(c=o.data)!==null&&c!==void 0&&c.callFrameId)){var d=o.data;e.call(r,d)}};this._wrappedListeners[e]=s,window.addEventListener("message",s)}},{key:"sendMessageToCallMachine",value:function(e,n,r,s){if(!r)throw new Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var o=fy({},e);if(o.what=dy,o.from="module",o.callClientId=r,n){var c=am();this._messageCallbacks[c]=n,o.callbackStamp=c}var d=s?s.contentWindow:window,h=this._callMachineTargetOrigin(s);h&&d.postMessage(o,h)}},{key:"sendMessageToDailyJs",value:function(e,n){e.what=dy,e.callClientId=n,e.from="embedded",window.postMessage(e,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(e){var n=this._wrappedListeners[e];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[e])}},{key:"forwardPackagedMessageToCallMachine",value:function(e,n,r){var s=fy({},e);s.callClientId=r;var o=n?n.contentWindow:window,c=this._callMachineTargetOrigin(n);c&&o.postMessage(s,c)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(e,n){var r=function(s){if(s.data&&s.data.what==="iframe-call-message"&&(!s.data.callClientId||s.data.callClientId===n)&&(!s.data.from||s.data.from!=="module")){var o=s.data;e(o)}};return this._wrappedListeners[e]=r,window.addEventListener("message",r),e}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(e){var n=this._wrappedListeners[e];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[e])}},{key:"_callMachineTargetOrigin",value:function(e){return e?e.src?new URL(e.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}])}();function T2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function OR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OR=function(){return!!t})()}var qz=function(){function t(){var e,n,r,s;return yr(this,t),n=this,r=ai(r=t),e=im(n,OR()?Reflect.construct(r,[],ai(n).constructor):r.apply(n,s)),global.callMachineToDailyJsEmitter=global.callMachineToDailyJsEmitter||new t0.EventEmitter,global.dailyJsToCallMachineEmitter=global.dailyJsToCallMachineEmitter||new t0.EventEmitter,e._wrappedListeners={},e._messageCallbacks={},e}return sm(t,NR),_r(t,[{key:"addListenerForMessagesFromCallMachine",value:function(e,n,r){this._addListener(e,global.callMachineToDailyJsEmitter,n,r,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(e,n,r){this._addListener(e,global.dailyJsToCallMachineEmitter,n,r,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(e,n,r){this._sendMessage(e,global.dailyJsToCallMachineEmitter,r,n,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(e,n){this._sendMessage(e,global.callMachineToDailyJsEmitter,n,null,"sending message to daily-js")}},{key:"removeListener",value:function(e){var n=this._wrappedListeners[e];n&&(global.callMachineToDailyJsEmitter.removeListener("message",n),global.dailyJsToCallMachineEmitter.removeListener("message",n),delete this._wrappedListeners[e])}},{key:"_addListener",value:function(e,n,r,s,o){var c=this,d=function(h){if(h.callClientId===r){if(h.callbackStamp&&c._messageCallbacks[h.callbackStamp]){var p=h.callbackStamp;c._messageCallbacks[p].call(s,h),delete c._messageCallbacks[p]}e.call(s,h)}};this._wrappedListeners[e]=d,n.addListener("message",d)}},{key:"_sendMessage",value:function(e,n,r,s,o){var c=function(h){for(var p=1;p<arguments.length;p++){var _=arguments[p]!=null?arguments[p]:{};p%2?T2(Object(_),!0).forEach(function(S){ki(h,S,_[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(_)):T2(Object(_)).forEach(function(S){Object.defineProperty(h,S,Object.getOwnPropertyDescriptor(_,S))})}return h}({},e);if(c.callClientId=r,s){var d=am();this._messageCallbacks[d]=s,c.callbackStamp=d}n.emit("message",c)}}])}(),_0="replace",b0="shallow-merge",x2=[_0,b0],Hz=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.data,r=e.mergeStrategy,s=r===void 0?_0:r;yr(this,t),t._validateMergeStrategy(s),t._validateData(n,s),this.mergeStrategy=s,this.data=n}return _r(t,[{key:"isNoOp",value:function(){return t.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(e,n){return Object.keys(e).length===0&&n===b0}},{key:"_validateMergeStrategy",value:function(e){if(!x2.includes(e))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(x2,"]"))}},{key:"_validateData",value:function(e,n){if(!function(d){if(d==null||ut(d)!=="object")return!1;var h=Object.getPrototypeOf(d);return h==null||h===Object.prototype}(e))throw Error("Meeting session data must be a plain (map-like) object");var r;try{if(r=JSON.stringify(e),n===_0){var s=JSON.parse(r);Qn(s,e)||console.warn("The meeting session data provided will be modified when serialized.",s,e)}else if(n===b0){for(var o in e)if(Object.hasOwnProperty.call(e,o)&&e[o]!==void 0){var c=JSON.parse(JSON.stringify(e[o]));Qn(e[o],c)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",c,e[o])}}}catch(d){throw Error("Meeting session data must be serializable to JSON: ".concat(d))}if(r.length>g2)throw Error("Meeting session data is too large (".concat(r.length," characters). Maximum size suppported is ").concat(g2,"."))}}])}();function IR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IR=function(){return!!t})()}function w0(t){var e=typeof Map=="function"?new Map:void 0;return w0=function(n){if(n===null||!function(s){try{return Function.toString.call(s).indexOf("[native code]")!==-1}catch{return typeof s=="function"}}(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,r)}function r(){return function(s,o,c){if(IR())return Reflect.construct.apply(null,arguments);var d=[null];d.push.apply(d,o);var h=new(s.bind.apply(s,d));return c&&fd(h,c.prototype),h}(n,arguments,ai(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),fd(r,n)},w0(t)}function MR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MR=function(){return!!t})()}function A2(t){var e,n=(e=window._daily)===null||e===void 0?void 0:e.pendings;if(n){var r=n.indexOf(t);r!==-1&&n.splice(r,1)}}var $z=function(){return _r(function t(e){yr(this,t),this._currentLoad=null,this._callClientId=e},[{key:"load",value:function(){var t,e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void r(!0);t=this._callClientId,window._daily.pendings.push(t),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new Gz(n,function(){r(!1)},function(o,c){c||A2(e._callClientId),s(o,c)}),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),A2(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}])}(),Gz=function(){return _r(function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;yr(this,t),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=e,this._successCallback=n,this._failureCallback=r},[{key:"start",value:function(){var t=this;if(!this._currentAttempt){var e=function(n){t._currentAttempt.cancelled||(t._attemptsRemaining--,t._failureCallback(n,t._attemptsRemaining>0),t._attemptsRemaining<=0||setTimeout(function(){t._currentAttempt.cancelled||(t._currentAttempt=new C2(t._dailyConfig,t._successCallback,e),t._currentAttempt.start())},3e3))};this._currentAttempt=new C2(this._dailyConfig,this._successCallback,e),this._currentAttempt.start()}}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}])}(),py=function(){function t(){return yr(this,t),e=this,r=arguments,n=ai(n=t),im(e,MR()?Reflect.construct(n,r||[],ai(e).constructor):n.apply(e,r));var e,n,r}return sm(t,w0(Error)),_r(t)}(),Tp=2e4,C2=function(){return _r(function e(n,r,s){yr(this,e),this._loadAttemptImpl=ot()||!n.avoidEval?new Wz(n,r,s):new Kz(n,r,s)},[{key:"start",value:(t=Be(function*(){return this._loadAttemptImpl.start()}),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]);var t}(),Wz=function(){return _r(function s(o,c,d){yr(this,s),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=o,this._successCallback=c,this._failureCallback=d},[{key:"start",value:(r=Be(function*(){var s=vp(this._dailyConfig);!(yield this._tryLoadFromIOSCache(s))&&this._loadFromNetwork(s)}),function(){return r.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(n=Be(function*(s){if(!this._iosCache)return!1;try{var o=yield this._iosCache.get(s);return!!this.cancelled||!!o&&(o.code?(Function('"use strict";'+o.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=o.refetchHeaders,!1))}catch{return!1}}),function(s){return n.apply(this,arguments)})},{key:"_loadFromNetwork",value:(e=Be(function*(s){var o=this;this._networkTimeout=setTimeout(function(){o._networkTimedOut=!0,o._failureCallback({msg:"Timed out (>".concat(Tp," ms) when loading call object bundle ").concat(s),type:"timeout"})},Tp);try{var c=this._refetchHeaders?{headers:this._refetchHeaders}:{},d=yield fetch(s,c);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new py;var h=yield this._getBundleCodeFromResponse(s,d);if(this.cancelled)throw new py;Function('"use strict";'+h)(),this._iosCache&&this._iosCache.set(s,h,d.headers),this.succeeded=!0,this._successCallback()}catch(p){if(clearTimeout(this._networkTimeout),p instanceof py||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(s,": ").concat(p),type:p.message})}}),function(s){return e.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(t=Be(function*(s,o){if(o.ok)return yield o.text();if(this._iosCache&&o.status===304)return(yield this._iosCache.renew(s,o.headers)).code;throw new Error("Received ".concat(o.status," response"))}),function(s,o){return t.apply(this,arguments)})}]);var t,e,n,r}(),Kz=function(){return _r(function t(e,n,r){yr(this,t),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=e,this._successCallback=n,this._failureCallback=r,this._attemptId=am(),this._networkTimeout=null,this._scriptElement=null},[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var t=vp(this._dailyConfig);(typeof document>"u"?"undefined":ut(document))==="object"?this._startLoading(t):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(t){var e=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout(function(){e._stopLoading(),e._failureCallback({msg:"Timed out (>".concat(Tp," ms) when loading call object bundle ").concat(t),type:"timeout"})},Tp);var n=document.getElementsByTagName("head")[0],r=document.createElement("script");this._scriptElement=r,r.onload=function(){e._stopLoading(),e.succeeded=!0,e._successCallback()},r.onerror=function(s){e._stopLoading(),e._failureCallback({msg:"Failed to load call object bundle ".concat(s.target.src),type:s.message})},r.src=t,n.appendChild(r)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}])}(),Ef=function(t,e,n){return Yz(t.local,e,n)===!0},Qz=function(t,e,n){return t.local.streams&&t.local.streams[e]&&t.local.streams[e].stream&&t.local.streams[e].stream["get".concat(n==="video"?"Video":"Audio","Tracks")]()[0]},Hl=function(t,e,n,r){var s=Xz(t,e,n,r);return s&&s.pendingTrack},Yz=function(t,e,n){if(!t)return!1;var r=function(o){switch(o){case"avatar":return!0;case"staged":return o;default:return!!o}},s=t.public.subscribedTracks;return s&&s[e]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(n)===-1&&s[e].custom?[!0,"staged"].includes(s[e].custom)?r(s[e].custom):r(s[e].custom[n]):r(s[e][n]):!s||r(s.ALL)},Xz=function(t,e,n,r){var s=Object.values(t.streams||{}).filter(function(o){return o.participantId===e&&o.type===n&&o.pendingTrack&&o.pendingTrack.kind===r}).sort(function(o,c){return new Date(c.starttime)-new Date(o.starttime)});return s&&s[0]},Jz=function(t,e){var n=t.local.public.customTracks;if(n&&n[e])return n[e].track};function k2(t,e){for(var n=e.getState(),r=0,s=["cam","screen"];r<s.length;r++)for(var o=s[r],c=0,d=["video","audio"];c<d.length;c++){var h=d[c],p=o==="cam"?h:"screen".concat(h.charAt(0).toUpperCase()+h.slice(1)),_=t.tracks[p];if(_){var S=t.local?Qz(n,o,h):Hl(n,t.session_id,o,h);_.state==="playable"&&(_.track=S),_.persistentTrack=S}}}function N2(t,e){try{var n=e.getState();for(var r in t.tracks)if(!Zz(r)){var s=t.tracks[r].kind;if(s){var o=t.tracks[r];if(o){var c=t.local?Jz(n,r):Hl(n,t.session_id,r,s);o.state==="playable"&&(t.tracks[r].track=c),o.persistentTrack=c}}else console.error("unknown type for custom track")}}catch(d){console.error(d)}}function Zz(t){return["video","audio","screenVideo","screenAudio"].includes(t)}function R2(t,e,n){var r=n.getState();if(t.local){if(t.audio)try{t.audioTrack=r.local.streams.cam.stream.getAudioTracks()[0],t.audioTrack||(t.audio=!1)}catch{}if(t.video)try{t.videoTrack=r.local.streams.cam.stream.getVideoTracks()[0],t.videoTrack||(t.video=!1)}catch{}if(t.screen)try{t.screenVideoTrack=r.local.streams.screen.stream.getVideoTracks()[0],t.screenAudioTrack=r.local.streams.screen.stream.getAudioTracks()[0],t.screenVideoTrack||t.screenAudioTrack||(t.screen=!1)}catch{}}else{var s=!0;try{var o=r.participants[t.session_id];o&&o.public&&o.public.rtcType&&o.public.rtcType.impl==="peer-to-peer"&&o.private&&!["connected","completed"].includes(o.private.peeringState)&&(s=!1)}catch(_){console.error(_)}if(!s)return t.audio=!1,t.audioTrack=!1,t.video=!1,t.videoTrack=!1,t.screen=!1,void(t.screenTrack=!1);try{if(r.streams,t.audio&&Ef(r,t.session_id,"cam-audio")){var c=Hl(r,t.session_id,"cam","audio");c&&(e&&e.audioTrack&&e.audioTrack.id===c.id?t.audioTrack=c:c.muted||(t.audioTrack=c)),t.audioTrack||(t.audio=!1)}if(t.video&&Ef(r,t.session_id,"cam-video")){var d=Hl(r,t.session_id,"cam","video");d&&(e&&e.videoTrack&&e.videoTrack.id===d.id?t.videoTrack=d:d.muted||(t.videoTrack=d)),t.videoTrack||(t.video=!1)}if(t.screen&&Ef(r,t.session_id,"screen-audio")){var h=Hl(r,t.session_id,"screen","audio");h&&(e&&e.screenAudioTrack&&e.screenAudioTrack.id===h.id?t.screenAudioTrack=h:h.muted||(t.screenAudioTrack=h))}if(t.screen&&Ef(r,t.session_id,"screen-video")){var p=Hl(r,t.session_id,"screen","video");p&&(e&&e.screenVideoTrack&&e.screenVideoTrack.id===p.id?t.screenVideoTrack=p:p.muted||(t.screenVideoTrack=p))}t.screenVideoTrack||t.screenAudioTrack||(t.screen=!1)}catch(_){console.error("unexpected error matching up tracks",_)}}}function eB(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(h,p){if(h){if(typeof h=="string")return O2(h,p);var _={}.toString.call(h).slice(8,-1);return _==="Object"&&h.constructor&&(_=h.constructor.name),_==="Map"||_==="Set"?Array.from(h):_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?O2(h,p):void 0}}(t))||e){n&&(t=n);var r=0,s=function(){};return{s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(h){throw h},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,c=!0,d=!1;return{s:function(){n=n.call(t)},n:function(){var h=n.next();return c=h.done,h},e:function(h){d=!0,o=h},f:function(){try{c||n.return==null||n.return()}finally{if(d)throw o}}}}function O2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Ai=new Map,Jl=null;function tB(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(h,p){if(h){if(typeof h=="string")return I2(h,p);var _={}.toString.call(h).slice(8,-1);return _==="Object"&&h.constructor&&(_=h.constructor.name),_==="Map"||_==="Set"?Array.from(h):_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?I2(h,p):void 0}}(t))||e){n&&(t=n);var r=0,s=function(){};return{s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(h){throw h},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,c=!0,d=!1;return{s:function(){n=n.call(t)},n:function(){var h=n.next();return c=h.done,h},e:function(h){d=!0,o=h},f:function(){try{c||n.return==null||n.return()}finally{if(d)throw o}}}}function I2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Ci=new Map,Zu=null;function nB(t){jR()?function(e){Ai.has(e)||(Ai.set(e,{}),navigator.mediaDevices.enumerateDevices().then(function(n){Ai.has(e)&&(Ai.get(e).lastDevicesString=JSON.stringify(n),Jl||(Jl=function(){var r=Be(function*(){var s,o=yield navigator.mediaDevices.enumerateDevices(),c=eB(Ai.keys());try{for(c.s();!(s=c.n()).done;){var d=s.value,h=JSON.stringify(o);h!==Ai.get(d).lastDevicesString&&(Ai.get(d).lastDevicesString=h,d(o))}}catch(p){c.e(p)}finally{c.f()}});return function(){return r.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener("devicechange",Jl)))}).catch(function(){}))}(t):function(e){Ci.has(e)||(Ci.set(e,{}),navigator.mediaDevices.enumerateDevices().then(function(n){Ci.has(e)&&(Ci.get(e).lastDevicesString=JSON.stringify(n),Zu||(Zu=setInterval(Be(function*(){var r,s=yield navigator.mediaDevices.enumerateDevices(),o=tB(Ci.keys());try{for(o.s();!(r=o.n()).done;){var c=r.value,d=JSON.stringify(s);d!==Ci.get(c).lastDevicesString&&(Ci.get(c).lastDevicesString=d,c(s))}}catch(h){o.e(h)}finally{o.f()}}),3e3)))}))}(t)}function rB(t){jR()?function(e){Ai.has(e)&&(Ai.delete(e),Ai.size===0&&Jl&&(navigator.mediaDevices.removeEventListener("devicechange",Jl),Jl=null))}(t):function(e){Ci.has(e)&&(Ci.delete(e),Ci.size===0&&Zu&&(clearInterval(Zu),Zu=null))}(t)}function jR(){var t;return ot()||((t=navigator.mediaDevices)===null||t===void 0?void 0:t.ondevicechange)!==void 0}var iB=new Set;function sB(t,e){return t&&t.readyState==="live"&&!function(n,r){return n.muted&&!iB.has(n.id)}(t)}function M2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function fa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M2(Object(n),!0).forEach(function(r){ki(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var $u=Object.freeze({VIDEO:"video",AUDIO:"audio",SCREEN_VIDEO:"screenVideo",SCREEN_AUDIO:"screenAudio",CUSTOM_VIDEO:"customVideo",CUSTOM_AUDIO:"customAudio"}),aB=Object.freeze({PARTICIPANTS:"participants",STREAMING:"streaming",TRANSCRIPTION:"transcription"}),ed=Object.values($u),j2=["v","a","sv","sa","cv","ca"];Object.freeze(ed.reduce(function(t,e,n){return t[e]=j2[n],t},{})),Object.freeze(j2.reduce(function(t,e,n){return t[e]=ed[n],t},{}));var oB=[$u.VIDEO,$u.AUDIO,$u.SCREEN_VIDEO,$u.SCREEN_AUDIO],D2=Object.values(aB),P2=["p","s","t"];Object.freeze(D2.reduce(function(t,e,n){return t[e]=P2[n],t},{})),Object.freeze(P2.reduce(function(t,e,n){return t[e]=D2[n],t},{}));var lB=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.base,r=e.byUserId,s=e.byParticipantId;yr(this,t),this.base=n,this.byUserId=r,this.byParticipantId=s}return _r(t,[{key:"clone",value:function(){var e=new t;if(this.base instanceof xn?e.base=this.base.clone():e.base=this.base,this.byUserId!==void 0)for(var n in e.byUserId={},this.byUserId){var r=this.byUserId[n];e.byUserId[n]=r instanceof xn?r.clone():r}if(this.byParticipantId!==void 0)for(var s in e.byParticipantId={},this.byParticipantId){var o=this.byParticipantId[s];e.byParticipantId[s]=o instanceof xn?o.clone():o}return e}},{key:"toJSONObject",value:function(){var e={};if(typeof this.base=="boolean"?e.base=this.base:this.base instanceof xn&&(e.base=this.base.toJSONObject()),this.byUserId!==void 0)for(var n in e.byUserId={},this.byUserId){var r=this.byUserId[n];e.byUserId[n]=r instanceof xn?r.toJSONObject():r}if(this.byParticipantId!==void 0)for(var s in e.byParticipantId={},this.byParticipantId){var o=this.byParticipantId[s];e.byParticipantId[s]=o instanceof xn?o.toJSONObject():o}return e}},{key:"toMinifiedJSONObject",value:function(){var e={};if(this.base!==void 0&&(typeof this.base=="boolean"?e.b=this.base:e.b=this.base.toMinifiedJSONObject()),this.byUserId!==void 0)for(var n in e.u={},this.byUserId){var r=this.byUserId[n];e.u[n]=typeof r=="boolean"?r:r.toMinifiedJSONObject()}if(this.byParticipantId!==void 0)for(var s in e.p={},this.byParticipantId){var o=this.byParticipantId[s];e.p[s]=typeof o=="boolean"?o:o.toMinifiedJSONObject()}return e}},{key:"normalize",value:function(){return this.base instanceof xn&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map(function(e){var n=Xn(e,2),r=n[0],s=n[1];return[r,s instanceof xn?s.normalize():s]}))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map(function(e){var n=Xn(e,2),r=n[0],s=n[1];return[r,s instanceof xn?s.normalize():s]}))),this}}],[{key:"fromJSONObject",value:function(e){var n,r,s;if(e.base!==void 0&&(n=typeof e.base=="boolean"?e.base:xn.fromJSONObject(e.base)),e.byUserId!==void 0)for(var o in r={},e.byUserId){var c=e.byUserId[o];r[o]=typeof c=="boolean"?c:xn.fromJSONObject(c)}if(e.byParticipantId!==void 0)for(var d in s={},e.byParticipantId){var h=e.byParticipantId[d];s[d]=typeof h=="boolean"?h:xn.fromJSONObject(h)}return new t({base:n,byUserId:r,byParticipantId:s})}},{key:"fromMinifiedJSONObject",value:function(e){var n,r,s;if(e.b!==void 0&&(n=typeof e.b=="boolean"?e.b:xn.fromMinifiedJSONObject(e.b)),e.u!==void 0)for(var o in r={},e.u){var c=e.u[o];r[o]=typeof c=="boolean"?c:xn.fromMinifiedJSONObject(c)}if(e.p!==void 0)for(var d in s={},e.p){var h=e.p[d];s[d]=typeof h=="boolean"?h:xn.fromMinifiedJSONObject(h)}return new t({base:n,byUserId:r,byParticipantId:s})}},{key:"validateJSONObject",value:function(e){if(ut(e)!=="object")return[!1,"canReceive must be an object"];for(var n=["base","byUserId","byParticipantId"],r=0,s=Object.keys(e);r<s.length;r++){var o=s[r];if(!n.includes(o))return[!1,"canReceive can only contain keys (".concat(n.join(", "),")")];if(o==="base"){var c=Xn(xn.validateJSONObject(e.base,!0),2),d=c[0],h=c[1];if(!d)return[!1,h]}else{if(ut(e[o])!=="object")return[!1,"invalid (non-object) value for field '".concat(o,"' in canReceive")];for(var p=0,_=Object.values(e[o]);p<_.length;p++){var S=_[p],C=Xn(xn.validateJSONObject(S),2),j=C[0],P=C[1];if(!j)return[!1,P]}}}return[!0]}}])}(),xn=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.video,r=e.audio,s=e.screenVideo,o=e.screenAudio,c=e.customVideo,d=e.customAudio;yr(this,t),this.video=n,this.audio=r,this.screenVideo=s,this.screenAudio=o,this.customVideo=c,this.customAudio=d}return _r(t,[{key:"clone",value:function(){var e=new t;return this.video!==void 0&&(e.video=this.video),this.audio!==void 0&&(e.audio=this.audio),this.screenVideo!==void 0&&(e.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(e.screenAudio=this.screenAudio),this.customVideo!==void 0&&(e.customVideo=fa({},this.customVideo)),this.customAudio!==void 0&&(e.customAudio=fa({},this.customAudio)),e}},{key:"toJSONObject",value:function(){var e={};return this.video!==void 0&&(e.video=this.video),this.audio!==void 0&&(e.audio=this.audio),this.screenVideo!==void 0&&(e.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(e.screenAudio=this.screenAudio),this.customVideo!==void 0&&(e.customVideo=fa({},this.customVideo)),this.customAudio!==void 0&&(e.customAudio=fa({},this.customAudio)),e}},{key:"toMinifiedJSONObject",value:function(){var e={};return this.video!==void 0&&(e.v=this.video),this.audio!==void 0&&(e.a=this.audio),this.screenVideo!==void 0&&(e.sv=this.screenVideo),this.screenAudio!==void 0&&(e.sa=this.screenAudio),this.customVideo!==void 0&&(e.cv=fa({},this.customVideo)),this.customAudio!==void 0&&(e.ca=fa({},this.customAudio)),e}},{key:"normalize",value:function(){function e(n,r){return n&&Object.keys(n).length===1&&n["*"]===r}return!(this.video!==!0||this.audio!==!0||this.screenVideo!==!0||this.screenAudio!==!0||!e(this.customVideo,!0)||!e(this.customAudio,!0))||(this.video!==!1||this.audio!==!1||this.screenVideo!==!1||this.screenAudio!==!1||!e(this.customVideo,!1)||!e(this.customAudio,!1))&&this}}],[{key:"fromBoolean",value:function(e){return new t({video:e,audio:e,screenVideo:e,screenAudio:e,customVideo:{"*":e},customAudio:{"*":e}})}},{key:"fromJSONObject",value:function(e){return new t({video:e.video,audio:e.audio,screenVideo:e.screenVideo,screenAudio:e.screenAudio,customVideo:e.customVideo!==void 0?fa({},e.customVideo):void 0,customAudio:e.customAudio!==void 0?fa({},e.customAudio):void 0})}},{key:"fromMinifiedJSONObject",value:function(e){return new t({video:e.v,audio:e.a,screenVideo:e.sv,screenAudio:e.sa,customVideo:e.cv,customAudio:e.ca})}},{key:"validateJSONObject",value:function(e,n){if(typeof e=="boolean")return[!0];if(ut(e)!=="object")return[!1,"invalid (non-object, non-boolean) value in canReceive"];for(var r=Object.keys(e),s=0,o=r;s<o.length;s++){var c=o[s];if(!ed.includes(c))return[!1,"invalid media type '".concat(c,"' in canReceive")];if(oB.includes(c)){if(typeof e[c]!="boolean")return[!1,"invalid (non-boolean) value for media type '".concat(c,"' in canReceive")]}else{if(ut(e[c])!=="object")return[!1,"invalid (non-object) value for media type '".concat(c,"' in canReceive")];for(var d=0,h=Object.values(e[c]);d<h.length;d++)if(typeof h[d]!="boolean")return[!1,"invalid (non-boolean) value for entry within '".concat(c,"' in canReceive")];if(n&&e[c]["*"]===void 0)return[!1,`canReceive "base" permission must specify "*" as an entry within '`.concat(c,"'")]}}return n&&r.length!==ed.length?[!1,'canReceive "base" permission must specify all media types: '.concat(ed.join(", ")," (or be set to a boolean shorthand)")]:[!0]}}])}(),cB=["result"],uB=["preserveIframe"];function L2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function je(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L2(Object(n),!0).forEach(function(r){ki(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DR=function(){return!!t})()}function V2(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(h,p){if(h){if(typeof h=="string")return U2(h,p);var _={}.toString.call(h).slice(8,-1);return _==="Object"&&h.constructor&&(_=h.constructor.name),_==="Map"||_==="Set"?Array.from(h):_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?U2(h,p):void 0}}(t))||e){n&&(t=n);var r=0,s=function(){};return{s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(h){throw h},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,c=!0,d=!1;return{s:function(){n=n.call(t)},n:function(){var h=n.next();return c=h.done,h},e:function(h){d=!0,o=h},f:function(){try{c||n.return==null||n.return()}finally{if(d)throw o}}}}function U2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var _o={},z2="video",dB="voice",B2=ot()?{data:{}}:{data:{},topology:"none"},F2={present:0,hidden:0},PR={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},my=Object.keys(PR),q2=["state","volume","simulcastEncodings"],H2={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},xp={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},S0={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},bo={customIntegrations:{validate:HR,help:FR()},customTrayButtons:{validate:qR,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(xp))},url:{validate:function(t){return typeof t=="string"},help:"url should be a string"},baseUrl:{validate:function(t){return typeof t=="string"},help:"baseUrl should be a string"},token:{validate:function(t){return typeof t=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(t,e){try{return e.validateDailyConfig(t),!0}catch(n){console.error("Failed to validate dailyConfig",n)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(t){return $R(t,H2)},help:"reactNativeConfig should look like ".concat(JSON.stringify(H2),", all fields optional")},lang:{validate:function(t){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(t)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(t){try{return LR(t),!0}catch(e){return console.error(e),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(t,e){if(typeof t=="boolean")return e._preloadCache.allowLocalVideo=t,!0;var n;if(t instanceof MediaStreamTrack)e._sharedTracks.videoTrack=t,n={customTrack:ms};else{if(delete e._sharedTracks.videoTrack,typeof t!="string")return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;n={deviceId:t}}return e._updatePreloadCacheInputSettings({video:{settings:n}},!1),!0}},audioSource:{validate:function(t,e){if(typeof t=="boolean")return e._preloadCache.allowLocalAudio=t,!0;var n;if(t instanceof MediaStreamTrack)e._sharedTracks.audioTrack=t,n={customTrack:ms};else{if(delete e._sharedTracks.audioTrack,typeof t!="string")return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;n={deviceId:t}}return e._updatePreloadCacheInputSettings({audio:{settings:n}},!1),!0}},subscribeToTracksAutomatically:{validate:function(t,e){return e._preloadCache.subscribeToTracksAutomatically=t,!0}},theme:{validate:function(t){var e=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],n=function(r){for(var s=0,o=Object.keys(r);s<o.length;s++){var c=o[s];if(!e.includes(c))return console.error('unsupported color "'.concat(c,'". Valid colors: ').concat(e.join(", "))),!1;if(!r[c].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(c,' theme color should be provided in valid hex color format. Received: "').concat(r[c],'"')),!1}return!0};return ut(t)==="object"&&("light"in t&&"dark"in t||"colors"in t)?"light"in t&&"dark"in t?"colors"in t.light?"colors"in t.dark?n(t.light.colors)&&n(t.dark.colors):(console.error('Dark theme is missing "colors" property.',t),!1):(console.error('Light theme is missing "colors" property.',t),!1):n(t.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',t),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(t){if("grid"in t){var e=t.grid;if("maxTilesPerPage"in e){if(!Number.isInteger(e.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(e.maxTilesPerPage,".")),!1;if(e.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in e){if(!Number.isInteger(e.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(e.minTilesPerPage,".")),!1;if(e.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in e&&e.minTilesPerPage>e.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(t){return VR(t,{allowAllParticipantsKey:!1})},help:BR({allowAllParticipantsKey:!1})},sendSettings:{validate:function(t,e){return!!function(n,r){try{return r.validateUpdateSendSettings(n),!0}catch(s){return console.error("Failed to validate send settings",s),!1}}(t,e)&&(e._preloadCache.sendSettings=t,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(t,e){var n;return!!UR(t)&&(e._inputSettings||(e._inputSettings={}),zR(t,(n=e.properties)===null||n===void 0?void 0:n.dailyConfig,e._sharedTracks),e._updatePreloadCacheInputSettings(t,!0),!0)},help:E0()},layout:{validate:function(t){return t==="custom-v1"||t==="browser"||t==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},Tf={styles:{validate:function(t){for(var e in t)if(e!=="cam"&&e!=="screen")return!1;if(t.cam){for(var n in t.cam)if(n!=="div"&&n!=="video")return!1}if(t.screen){for(var r in t.screen)if(r!=="div"&&r!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(t,e){if(e._preloadCache.subscribeToTracksAutomatically)return!1;var n=[!0,!1,"staged"];if(n.includes(t)||!ot()&&t==="avatar")return!0;var r=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"],s=function(o){var c=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var d in o)if(d==="custom"){if(!n.includes(o[d])&&!s(o[d],!0))return!1}else{var h=!c&&!r.includes(d),p=!n.includes(o[d]);if(h||p)return!1}return!0};return s(t)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(ot()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(t){return t===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(t){for(var e=0,n=Object.entries(t);e<n.length;e++){var r=Xn(n[e],2),s=r[0],o=r[1];switch(s){case"hasPresence":if(typeof o!="boolean")return!1;break;case"canSend":if(o instanceof Set||o instanceof Array||Array.isArray(o)){var c,d=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],h=V2(o);try{for(h.s();!(c=h.n()).done;){var p=c.value;if(!d.includes(p))return!1}}catch($){h.e($)}finally{h.f()}}else if(typeof o!="boolean")return!1;(o instanceof Array||Array.isArray(o))&&(t.canSend=new Set(o));break;case"canReceive":var _=Xn(lB.validateJSONObject(o),2),S=_[0],C=_[1];if(!S)return console.error(C),!1;break;case"canAdmin":if(o instanceof Set||o instanceof Array||Array.isArray(o)){var j,P=["participants","streaming","transcription"],V=V2(o);try{for(V.s();!(j=V.n()).done;){var U=j.value;if(!P.includes(U))return!1}}catch($){V.e($)}finally{V.f()}}else if(typeof o!="boolean")return!1;(o instanceof Array||Array.isArray(o))&&(t.canAdmin=new Set(o));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=function(){var t=Be(function*(e){return new Promise(function(n,r){var s=[];e.forEach(function(o){return Promise.resolve(o).then(function(c){n(c)}).catch(function(c){s.push(c),s.length===e.length&&r(s)})})})});return function(e){return t.apply(this,arguments)}}());var hB=function(){function t(v){var E,T,D,F,ee,ue,ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(yr(this,t),D=this,F=ai(F=t),ki(T=im(D,DR()?Reflect.construct(F,[],ai(D).constructor):F.apply(D,ee)),"startListeningForDeviceChanges",function(){nB(T.handleDeviceChange)}),ki(T,"stopListeningForDeviceChanges",function(){rB(T.handleDeviceChange)}),ki(T,"handleDeviceChange",function(Te){Te=Te.map(function(Se){return JSON.parse(JSON.stringify(Se))}),T.emitDailyJSEvent({action:"available-devices-updated",availableDevices:Te})}),ki(T,"handleNativeAppStateChange",function(){var Te=Be(function*(Se){if(Se==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield T.destroy());var xe=Se==="active";T.disableReactNativeAutoDeviceManagement("video")||(xe?T.camUnmutedBeforeLosingNativeActiveState&&T.setLocalVideo(!0):(T.camUnmutedBeforeLosingNativeActiveState=T.localVideo(),T.camUnmutedBeforeLosingNativeActiveState&&T.setLocalVideo(!1)))});return function(Se){return Te.apply(this,arguments)}}()),ki(T,"handleNativeAudioFocusChange",function(Te){T.disableReactNativeAutoDeviceManagement("audio")||(T._hasNativeAudioFocus=Te,T.toggleParticipantAudioBasedOnNativeAudioFocus(),T._hasNativeAudioFocus?T.micUnmutedBeforeLosingNativeAudioFocus&&T.setLocalAudio(!0):(T.micUnmutedBeforeLosingNativeAudioFocus=T.localAudio(),T.setLocalAudio(!1)))}),ki(T,"handleNativeSystemScreenCaptureStop",function(){T.stopScreenShare()}),T.strictMode=ce.strictMode===void 0||ce.strictMode,T.allowMultipleCallInstances=(E=ce.allowMultipleCallInstances)!==null&&E!==void 0&&E,Object.keys(_o).length&&(T._logDuplicateInstanceAttempt(),!T.allowMultipleCallInstances)){if(T.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),T.callClientId=am(),_o[(ue=T).callClientId]=ue,window._daily.instances[T.callClientId]={},T._sharedTracks={},window._daily.instances[T.callClientId].tracks=T._sharedTracks,ce.dailyJsVersion=t.version(),T._iframe=v,T._callObjectMode=ce.layout==="none"&&!T._iframe,T._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},ce.showLocalVideo!==void 0?T._callObjectMode?console.error("showLocalVideo is not available in call object mode"):T._showLocalVideo=!!ce.showLocalVideo:T._showLocalVideo=!0,ce.showParticipantsBar!==void 0?T._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):T._showParticipantsBar=!!ce.showParticipantsBar:T._showParticipantsBar=!0,ce.customIntegrations!==void 0?T._callObjectMode?console.error("customIntegrations is not available in call object mode"):T._customIntegrations=ce.customIntegrations:T._customIntegrations={},ce.customTrayButtons!==void 0?T._callObjectMode?console.error("customTrayButtons is not available in call object mode"):T._customTrayButtons=ce.customTrayButtons:T._customTrayButtons={},ce.activeSpeakerMode!==void 0?T._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):T._activeSpeakerMode=!!ce.activeSpeakerMode:T._activeSpeakerMode=!1,ce.receiveSettings?T._callObjectMode?T._receiveSettings=ce.receiveSettings:console.error("receiveSettings is only available in call object mode"):T._receiveSettings={},T.validateProperties(ce),T.properties=je({},ce),T._inputSettings||(T._inputSettings={}),T._callObjectLoader=T._callObjectMode?new $z(T.callClientId):null,T._callState=a2,T._isPreparingToJoin=!1,T._accessState={access:cy},T._meetingSessionSummary={},T._finalSummaryOfPrevSession={},T._meetingSessionState=yy(B2,T._callObjectMode),T._nativeInCallAudioMode=z2,T._participants={},T._isScreenSharing=!1,T._participantCounts=F2,T._rmpPlayerState={},T._waitingParticipants={},T._network={threshold:"good",quality:100,networkState:"unknown",stats:{}},T._activeSpeaker={},T._localAudioLevel=0,T._isLocalAudioLevelObserverRunning=!1,T._remoteParticipantsAudioLevel={},T._isRemoteParticipantsAudioLevelObserverRunning=!1,T._maxAppMessageSize=uy,T._messageChannel=ot()?new qz:new Fz,T._iframe&&(T._iframe.requestFullscreen?T._iframe.addEventListener("fullscreenchange",function(){document.fullscreenElement===T._iframe?(T.emitDailyJSEvent({action:bf}),T.sendMessageToCallMachine({action:bf})):(T.emitDailyJSEvent({action:wf}),T.sendMessageToCallMachine({action:wf}))}):T._iframe.webkitRequestFullscreen&&T._iframe.addEventListener("webkitfullscreenchange",function(){document.webkitFullscreenElement===T._iframe?(T.emitDailyJSEvent({action:bf}),T.sendMessageToCallMachine({action:bf})):(T.emitDailyJSEvent({action:wf}),T.sendMessageToCallMachine({action:wf}))})),ot()){var ve=T.nativeUtils();ve.addAudioFocusChangeListener&&ve.removeAudioFocusChangeListener&&ve.addAppStateChangeListener&&ve.removeAppStateChangeListener&&ve.addSystemScreenCaptureStopListener&&ve.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),T._hasNativeAudioFocus=!0,ve.addAudioFocusChangeListener(T.handleNativeAudioFocusChange),ve.addAppStateChangeListener(T.handleNativeAppStateChange),ve.addSystemScreenCaptureStopListener(T.handleNativeSystemScreenCaptureStop)}return T._callObjectMode&&T.startListeningForDeviceChanges(),T._messageChannel.addListenerForMessagesFromCallMachine(T.handleMessageFromCallMachine,T.callClientId,T),T}return sm(t,hf),_r(t,[{key:"destroy",value:(re=Be(function*(){var v;try{yield this.leave()}catch{}var E=this._iframe;if(E){var T=E.parentElement;T&&T.removeChild(E)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),ot()){var D=this.nativeUtils();D.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),D.removeAppStateChangeListener(this.handleNativeAppStateChange),D.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete _o[this.callClientId],!((v=window)===null||v===void 0||(v=v._daily)===null||v===void 0)&&v.instances&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)}),function(){return re.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(v){var E=v.bodyClass,T=v.cssFile,D=v.cssText;return nt(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(T),bodyClass:E,cssText:D}),this}},{key:"iframe",value:function(){return nt(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return Yr(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return Yr(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(v,E){for(var T in E){if(!Tf[T])throw new Error("unrecognized updateParticipant property ".concat(T));if(Tf[T].validate&&!Tf[T].validate(E[T],this,this._participants[v]))throw new Error(Tf[T].help)}}},{key:"updateParticipant",value:function(v,E){return this._participants.local&&this._participants.local.session_id===v&&(v="local"),v&&E&&(this.validateParticipantProperties(v,E),this.sendMessageToCallMachine({action:"update-participant",id:v,properties:E})),this}},{key:"updateParticipants",value:function(v){var E=this._participants.local&&this._participants.local.session_id;for(var T in v)T===E&&(T="local"),T&&v[T]&&this.validateParticipantProperties(T,v[T]);return this.sendMessageToCallMachine({action:"update-participants",participants:v}),this}},{key:"updateWaitingParticipant",value:(G=Be(function*(){var v=this,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Yr(this._callObjectMode,"updateWaitingParticipant()"),xt(this._callState,"updateWaitingParticipant()"),typeof E!="string"||ut(T)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise(function(D,F){v.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:E,updates:T},function(ee){ee.error&&F(ee.error),ee.id||F(new Error("unknown error in updateWaitingParticipant()")),D({id:ee.id})})})}),function(){return G.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(w=Be(function*(){var v=this,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Yr(this._callObjectMode,"updateWaitingParticipants()"),xt(this._callState,"updateWaitingParticipants()"),ut(E)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise(function(T,D){v.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:E},function(F){F.error&&D(F.error),F.ids||D(new Error("unknown error in updateWaitingParticipants()")),T({ids:F.ids})})})}),function(){return w.apply(this,arguments)})},{key:"requestAccess",value:(Z=Be(function*(){var v=this,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=E.access,D=T===void 0?{level:U7}:T,F=E.name,ee=F===void 0?"":F;return Yr(this._callObjectMode,"requestAccess()"),xt(this._callState,"requestAccess()"),new Promise(function(ue,ce){v.sendMessageToCallMachine({action:"daily-method-request-access",access:D,name:ee},function(ve){ve.error&&ce(ve.error),ve.access||ce(new Error("unknown error in requestAccess()")),ue({access:ve.access,granted:ve.granted})})})}),function(){return Z.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(v){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in E&&(ot()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),E={}):v&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),E={})),this.sendMessageToCallMachine({action:"local-audio",state:v,options:E}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(v){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:v}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(v){return this.sendMessageToCallMachine({action:"local-video",state:v}),this}},{key:"_setAllowLocalAudio",value:function(v){if(this._preloadCache.allowLocalAudio=v,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:v}),this}},{key:"_setAllowLocalVideo",value:function(v){if(this._preloadCache.allowLocalVideo=v,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:v}),this}},{key:"getReceiveSettings",value:(ge=Be(function*(v){var E=this,T=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,D=T!==void 0&&T;if(Yr(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(ut(v)){case"string":return new Promise(function(F){E.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:v,showInheritedValues:D},function(ee){F(ee.receiveSettings)})});case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}}),function(v){return ge.apply(this,arguments)})},{key:"updateReceiveSettings",value:(N=Be(function*(v){var E=this;if(Yr(this._callObjectMode,"updateReceiveSettings()"),!VR(v,{allowAllParticipantsKey:!0}))throw new Error(BR({allowAllParticipantsKey:!0}));return xt(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise(function(T){E.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:v},function(D){T({receiveSettings:D.receiveSettings})})})}),function(v){return N.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(v,E){if(v){var T={};if(v.audio){var D,F,ee;v.audio.settings&&(!Object.keys(v.audio.settings).length&&E||(T.audio={settings:je({},v.audio.settings)})),E&&(D=T.audio)!==null&&D!==void 0&&(D=D.settings)!==null&&D!==void 0&&D.customTrack&&(T.audio.settings={customTrack:this._sharedTracks.audioTrack});var ue=((F=v.audio.processor)===null||F===void 0?void 0:F.type)==="none"&&((ee=v.audio.processor)===null||ee===void 0?void 0:ee._isDefaultWhenNone);if(v.audio.processor&&!ue){var ce=je({},v.audio.processor);delete ce._isDefaultWhenNone,T.audio=je(je({},T.audio),{},{processor:ce})}}if(v.video){var ve,Te,Se;v.video.settings&&(!Object.keys(v.video.settings).length&&E||(T.video={settings:je({},v.video.settings)})),E&&(ve=T.video)!==null&&ve!==void 0&&(ve=ve.settings)!==null&&ve!==void 0&&ve.customTrack&&(T.video.settings={customTrack:this._sharedTracks.videoTrack});var xe=((Te=v.video.processor)===null||Te===void 0?void 0:Te.type)==="none"&&((Se=v.video.processor)===null||Se===void 0?void 0:Se._isDefaultWhenNone);if(v.video.processor&&!xe){var Ie=je({},v.video.processor);delete Ie._isDefaultWhenNone,T.video=je(je({},T.video),{},{processor:Ie})}}return T}}},{key:"getInputSettings",value:function(){var v=this;return nt(),new Promise(function(E){E(v._getInputSettings())})}},{key:"_getInputSettings",value:function(){var v,E,T,D,F,ee,ue={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(v=((T=this._inputSettings)===null||T===void 0?void 0:T.video)||ue,E=((D=this._inputSettings)===null||D===void 0?void 0:D.audio)||ue):(v=((F=this._preloadCache)===null||F===void 0||(F=F.inputSettings)===null||F===void 0?void 0:F.video)||ue,E=((ee=this._preloadCache)===null||ee===void 0||(ee=ee.inputSettings)===null||ee===void 0?void 0:ee.audio)||ue);var ce={audio:E,video:v};return this._prepInputSettingsForSharing(ce,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(v,E){var T=this._inputSettings||{},D={};if(v.video){var F,ee,ue;D.video={},v.video.settings?(D.video.settings={},E||v.video.settings.customTrack||(ue=T.video)===null||ue===void 0||!ue.settings?D.video.settings=v.video.settings:D.video.settings=je(je({},T.video.settings),v.video.settings),Object.keys(D.video.settings).length||delete D.video.settings):(F=T.video)!==null&&F!==void 0&&F.settings&&(D.video.settings=T.video.settings),v.video.processor?D.video.processor=v.video.processor:(ee=T.video)!==null&&ee!==void 0&&ee.processor&&(D.video.processor=T.video.processor)}else T.video&&(D.video=T.video);if(v.audio){var ce,ve,Te;D.audio={},v.audio.settings?(D.audio.settings={},E||v.audio.settings.customTrack||(Te=T.audio)===null||Te===void 0||!Te.settings?D.audio.settings=v.audio.settings:D.audio.settings=je(je({},T.audio.settings),v.audio.settings),Object.keys(D.audio.settings).length||delete D.audio.settings):(ce=T.audio)!==null&&ce!==void 0&&ce.settings&&(D.audio.settings=T.audio.settings),v.audio.processor?D.audio.processor=v.audio.processor:(ve=T.audio)!==null&&ve!==void 0&&ve.processor&&(D.audio.processor=T.audio.processor)}else T.audio&&(D.audio=T.audio);this._maybeUpdateInputSettings(D)}},{key:"_devicesFromInputSettings",value:function(v){var E,T,D=(v==null||(E=v.video)===null||E===void 0||(E=E.settings)===null||E===void 0?void 0:E.deviceId)||null,F=(v==null||(T=v.audio)===null||T===void 0||(T=T.settings)===null||T===void 0?void 0:T.deviceId)||null,ee=this._preloadCache.outputDeviceId||null;return{camera:D?{deviceId:D}:{},mic:F?{deviceId:F}:{},speaker:ee?{deviceId:ee}:{}}}},{key:"updateInputSettings",value:(ne=Be(function*(v){var E=this;return nt(),UR(v)?v.video||v.audio?(zR(v,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(v,!0),this._getInputSettings()):new Promise(function(T,D){E.sendMessageToCallMachine({action:"update-input-settings",inputSettings:v},function(F){if(F.error)D(F.error);else{if(F.returnPreloadCache)return E._updatePreloadCacheInputSettings(v,!0),void T(E._getInputSettings());E._maybeUpdateInputSettings(F.inputSettings),T(E._prepInputSettingsForSharing(F.inputSettings,!0))}})})):this._getInputSettings():(console.error(E0()),Promise.reject(E0()))}),function(v){return ne.apply(this,arguments)})},{key:"setBandwidth",value:function(v){var E=v.kbs,T=v.trackConstraints;if(nt(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:E,trackConstraints:T}),this}},{key:"getDailyLang",value:function(){var v=this;if(nt(),this._callMachineInitialized)return new Promise(function(E){v.sendMessageToCallMachine({action:"get-daily-lang"},function(T){delete T.action,delete T.callbackStamp,E(T)})})}},{key:"setDailyLang",value:function(v){return nt(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:v}),this}},{key:"setProxyUrl",value:function(v){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:v}),this}},{key:"setIceConfig",value:function(v){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:v}),this}},{key:"meetingSessionSummary",value:function(){return[yo,ha].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(he=Be(function*(){var v=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),xt(this._callState,"getMeetingSession()"),new Promise(function(E){v.sendMessageToCallMachine({action:"get-meeting-session"},function(T){delete T.action,delete T.callbackStamp,E(T)})})}),function(){return he.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return xt(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(v){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";Yr(this._callObjectMode,"setMeetingSessionData()"),xt(this._callState,"setMeetingSessionData");try{(function(T,D){new Hz({data:T,mergeStrategy:D})})(v,E)}catch(T){throw console.error(T),T}try{this.sendMessageToCallMachine({action:"set-session-data",data:v,mergeStrategy:E})}catch(T){throw new Error("Error setting meeting session data: ".concat(T))}}},{key:"setUserName",value:function(v,E){var T=this;return this.properties.userName=v,new Promise(function(D){T.sendMessageToCallMachine({action:"set-user-name",name:v??"",thisMeetingOnly:ot()||!!E&&!!E.thisMeetingOnly},function(F){delete F.action,delete F.callbackStamp,D(F)})})}},{key:"setUserData",value:(Q=Be(function*(v){var E=this;try{LR(v)}catch(T){throw console.error(T),T}if(this.properties.userData=v,this._callMachineInitialized)return new Promise(function(T){try{E.sendMessageToCallMachine({action:"set-user-data",userData:v},function(D){delete D.action,delete D.callbackStamp,T(D)})}catch(D){throw new Error("Error setting user data: ".concat(D))}})}),function(v){return Q.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(v){if(v&&(v<100||typeof v!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(v){var E=this;if(typeof AudioWorkletNode>"u"&&!ot())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(v),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise(function(T,D){E.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:v},function(F){E._isLocalAudioLevelObserverRunning=!F.error,F.error?D({error:F.error}):T()})});this._preloadCache.localAudioLevelObserver={enabled:!0,interval:v}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(v){var E=this;if(this.validateAudioLevelInterval(v),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise(function(T,D){E.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:v},function(F){E._isRemoteParticipantsAudioLevelObserverRunning=!F.error,F.error?D({error:F.error}):T()})});this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:v}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(I=Be(function*(){var v=this,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Yr(this._callObjectMode,"startCamera()"),gy(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(E)}catch(T){return Promise.reject(T)}else{if(this._didPreAuth){if(E.url&&E.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(E.token&&E.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(E),this.properties=je(je({},this.properties),E)}return new Promise(function(T){v._preloadCache.inputSettings=v._prepInputSettingsForSharing(v._inputSettings,!1),v.sendMessageToCallMachine({action:"start-camera",properties:Vl(v.properties,v.callClientId),preloadCache:Vl(v._preloadCache,v.callClientId)},function(D){T({camera:D.camera,mic:D.mic,speaker:D.speaker})})})}),function(){return I.apply(this,arguments)})},{key:"validateCustomTrack",value:function(v,E,T){if(T&&T.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(E&&E!=="music"&&E!=="speech"&&!(E instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(T&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(T))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(v instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var v=this,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName};return nt(),xt(this._callState,"startCustomTrack()"),this.validateCustomTrack(E.track,E.mode,E.trackName),new Promise(function(T,D){v._sharedTracks.customTrack=E.track,E.track=ms,v.sendMessageToCallMachine({action:"start-custom-track",properties:E},function(F){F.error?D({error:F.error}):T(F.mediaTag)})})}},{key:"stopCustomTrack",value:function(v){var E=this;return nt(),xt(this._callState,"stopCustomTrack()"),new Promise(function(T){E.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:v},function(D){T(D.mediaTag)})})}},{key:"setCamera",value:function(v){var E=this;return Lu(),xf(this._callMachineInitialized,"setCamera()"),new Promise(function(T){E.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:v},function(D){T({device:D.device})})})}},{key:"setAudioDevice",value:(B=Be(function*(v){return Lu(),this.nativeUtils().setAudioDevice(v),{deviceId:yield this.nativeUtils().getAudioDevice()}}),function(v){return B.apply(this,arguments)})},{key:"cycleCamera",value:function(){var v=this,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(T){v.sendMessageToCallMachine({action:"cycle-camera",properties:E},function(D){T({device:D.device})})})}},{key:"cycleMic",value:function(){var v=this;return nt(),new Promise(function(E){v.sendMessageToCallMachine({action:"cycle-mic"},function(T){E({device:T.device})})})}},{key:"getCameraFacingMode",value:function(){var v=this;return Lu(),new Promise(function(E){v.sendMessageToCallMachine({action:"get-camera-facing-mode"},function(T){E(T.facingMode)})})}},{key:"setInputDevicesAsync",value:(L=Be(function*(v){var E=this,T=v.audioDeviceId,D=v.videoDeviceId,F=v.audioSource,ee=v.videoSource;if(nt(),F!==void 0&&(T=F),ee!==void 0&&(D=ee),typeof T=="boolean"&&(this._setAllowLocalAudio(T),T=void 0),typeof D=="boolean"&&(this._setAllowLocalVideo(D),D=void 0),!T&&!D)return yield this.getInputDevices();var ue={};return T&&(T instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=T,T=ms,ue.audio={settings:{customTrack:T}}):(delete this._sharedTracks.audioTrack,ue.audio={settings:{deviceId:T}})),D&&(D instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=D,D=ms,ue.video={settings:{customTrack:D}}):(delete this._sharedTracks.videoTrack,ue.video={settings:{deviceId:D}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(ue,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise(function(ce){E.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:T,videoDeviceId:D},function(ve){if(delete ve.action,delete ve.callbackStamp,ve.returnPreloadCache)return E._updatePreloadCacheInputSettings(ue,!1),void ce(E._devicesFromInputSettings(E._inputSettings));ce(ve)})})}),function(v){return L.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(x=Be(function*(v){var E=this,T=v.outputDeviceId;return nt(),T&&(this._preloadCache.outputDeviceId=T),this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(D){E.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:T},function(F){delete F.action,delete F.callbackStamp,F.returnPreloadCache?D(E._devicesFromInputSettings(E._inputSettings)):D(F)})})}),function(v){return x.apply(this,arguments)})},{key:"getInputDevices",value:(A=Be(function*(){var v=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(E){v.sendMessageToCallMachine({action:"get-input-devices"},function(T){T.returnPreloadCache?E(v._devicesFromInputSettings(v._inputSettings)):E({camera:T.camera,mic:T.mic,speaker:T.speaker})})})}),function(){return A.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return Lu(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(v){if(Lu(),[z2,dB].includes(v)){if(v!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=v,!this.disableReactNativeAutoDeviceManagement("audio")&&qf(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",v)}},{key:"preAuth",value:(O=Be(function*(){var v=this,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Yr(this._callObjectMode,"preAuth()"),gy(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(E)),!E.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(E),this.properties=je(je({},this.properties),E),new Promise(function(T,D){v._preloadCache.inputSettings=v._prepInputSettingsForSharing(v._inputSettings,!1),v.sendMessageToCallMachine({action:"daily-method-preauth",properties:Vl(v.properties,v.callClientId),preloadCache:Vl(v._preloadCache,v.callClientId)},function(F){return F.error?D(F.error):F.access?(v._didPreAuth=!0,void T({access:F.access})):D(new Error("unknown error in preAuth()"))})})}),function(){return O.apply(this,arguments)})},{key:"load",value:(M=Be(function*(v){var E=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(v&&(this.validateProperties(v),this.properties=je(je({},this.properties),v)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");return this._updateCallState(o2),this.emitDailyJSEvent({action:G7}),this._callObjectMode?new Promise(function(T,D){E._callObjectLoader.cancel();var F=Date.now();E._callObjectLoader.load(E.properties.dailyConfig,function(ee){E._bundleLoadTime=ee?"no-op":Date.now()-F,E._updateCallState(l2),ee&&E.emitDailyJSEvent({action:u2}),T()},function(ee,ue){if(E.emitDailyJSEvent({action:W7}),!ue){E._updateCallState(ha),E.resetMeetingDependentVars();var ce={action:m2,errorMsg:ee.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:ee,bundleUrl:vp(E.properties.dailyConfig)}}};E._maybeSendToSentry(ce),E.emitDailyJSEvent(ce),D(ee.msg)}})}):(this._iframe.src=aR(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise(function(T,D){E._loadedCallback=function(F){E._callState!==ha?(E._updateCallState(l2),(E.properties.cssFile||E.properties.cssText)&&E.loadCss(E.properties),T()):D(F)}}))}}),function(v){return M.apply(this,arguments)})},{key:"join",value:(K=Be(function*(){var v=this,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var T=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(E)}catch(D){return this.updateIsPreparingToJoin(!1),Promise.reject(D)}}else{if(T=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(E.url&&E.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(E.token&&E.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(E.url&&!this._callObjectMode&&E.url&&E.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(E.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(E),this.properties=je(je({},this.properties),E)}return E.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!E.showLocalVideo),E.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!E.showParticipantsBar),this._callState===So||this._callState===v0?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(v0,!1),this.emitDailyJSEvent({action:Y7}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:Vl(this.properties,this.callClientId),preloadCache:Vl(this._preloadCache,this.callClientId)}),new Promise(function(D,F){v._joinedCallback=function(ee,ue){if(v._callState!==ha){if(v._updateCallState(So),ee)for(var ce in ee){if(v._callObjectMode){var ve=v._callMachine().store;k2(ee[ce],ve),N2(ee[ce],ve),R2(ee[ce],v._participants[ce],ve)}v._participants[ce]=je({},ee[ce]),v.toggleParticipantAudioBasedOnNativeAudioFocus()}T&&v.loadCss(v.properties),D(ee)}else F(ue)}}))}),function(){return K.apply(this,arguments)})},{key:"leave",value:(z=Be(function*(){var v=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise(function(E){v._callState===yo||v._callState===ha?E():v._callObjectLoader&&!v._callObjectLoader.loaded?(v._callObjectLoader.cancel(),v._updateCallState(yo),v.resetMeetingDependentVars(),v.emitDailyJSEvent({action:yo}),E()):(v._resolveLeave=E,v.sendMessageToCallMachine({action:"leave-meeting"}))})}),function(){return z.apply(this,arguments)})},{key:"startScreenShare",value:(te=Be(function*(){var v=this,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(xf(this._callMachineInitialized,"startScreenShare()"),E.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",E.screenVideoSendSettings),E.mediaStream&&(this._sharedTracks.screenMediaStream=E.mediaStream,E.mediaStream=ms),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var T=this.nativeUtils();if(yield T.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:p2,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});T.setSystemScreenCaptureStartCallback(function(){T.setSystemScreenCaptureStartCallback(null),v.sendMessageToCallMachine({action:v2,captureOptions:E})}),T.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:v2,captureOptions:E})}),function(){return te.apply(this,arguments)})},{key:"stopScreenShare",value:function(){xf(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=v.type;if(E&&E!=="cloud"&&E!=="raw-tracks"&&E!=="local")throw new Error("invalid type: ".concat(E,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine(je({action:"local-recording-start"},v))}},{key:"updateRecording",value:function(v){var E=v.layout,T=E===void 0?{preset:"default"}:E,D=v.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:T,instanceId:D})}},{key:"stopRecording",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(je({action:"local-recording-stop"},v))}},{key:"startLiveStreaming",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(je({action:"daily-method-start-live-streaming"},v))}},{key:"updateLiveStreaming",value:function(v){var E=v.layout,T=E===void 0?{preset:"default"}:E,D=v.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:T,instanceId:D})}},{key:"addLiveStreamingEndpoints",value:function(v){var E=v.endpoints,T=v.instanceId;this.sendMessageToCallMachine({action:y2,endpointsOp:Vz,endpoints:E,instanceId:T})}},{key:"removeLiveStreamingEndpoints",value:function(v){var E=v.endpoints,T=v.instanceId;this.sendMessageToCallMachine({action:y2,endpointsOp:Uz,endpoints:E,instanceId:T})}},{key:"stopLiveStreaming",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(je({action:"daily-method-stop-live-streaming"},v))}},{key:"validateDailyConfig",value:function(v){v.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(v.camSimulcastEncodings)),v.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),AR()&&v.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(v){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,T=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(v){if(!(v instanceof Array||Array.isArray(v)))throw new Error("encodings must be an Array");if(!K2(v.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var D=0;D<v.length;D++){var F=v[D];for(var ee in this._validateEncodingLayerHasValidProperties(F),F)if(my.includes(ee)){if(typeof F[ee]!="number")throw new Error("".concat(ee," must be a number"));if(E){var ue=E[ee],ce=ue.min,ve=ue.max;if(!K2(F[ee],ce,ve))throw new Error("".concat(ee," value not in range. valid range: ").concat(ce," to ").concat(ve))}}else if(!["active","scalabilityMode"].includes(ee))throw new Error("Invalid key ".concat(ee,", valid keys are:")+Object.values(my));if(T&&!F.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(X=Be(function*(v){var E=this,T=v.url,D=v.settings,F=D===void 0?{state:y0.PLAY}:D;try{(function(ee){if(typeof ee!="string")throw new Error('url parameter must be "string" type')})(T),W2(F),function(ee){for(var ue in ee)if(!q2.includes(ue))throw new Error("Invalid key ".concat(ue,", valid keys are: ").concat(q2));ee.simulcastEncodings&&this.validateSimulcastEncodings(ee.simulcastEncodings,PR,!0)}(F)}catch(ee){throw console.error("invalid argument Error: ".concat(ee)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),ee}return new Promise(function(ee,ue){E.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:T,settings:F},function(ce){ce.error?ue({error:ce.error,errorMsg:ce.errorMsg}):ee({session_id:ce.session_id,remoteMediaPlayerState:{state:ce.state,settings:ce.settings}})})})}),function(v){return X.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(q=Be(function*(v){var E=this;if(typeof v!="string")throw new Error(" remotePlayerID must be of type string");return new Promise(function(T,D){E.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:v},function(F){F.error?D({error:F.error,errorMsg:F.errorMsg}):T()})})}),function(v){return q.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:($=Be(function*(v){var E=this,T=v.session_id,D=v.settings;try{W2(D)}catch(F){throw console.error("invalid argument Error: ".concat(F)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),F}return new Promise(function(F,ee){E.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:T,settings:D},function(ue){ue.error?ee({error:ue.error,errorMsg:ue.errorMsg}):F({session_id:ue.session_id,remoteMediaPlayerState:{state:ue.state,settings:ue.settings}})})})}),function(v){return $.apply(this,arguments)})},{key:"startTranscription",value:function(v){xt(this._callState,"startTranscription()"),this.sendMessageToCallMachine(je({action:"daily-method-start-transcription"},v))}},{key:"updateTranscription",value:function(v){if(xt(this._callState,"updateTranscription()"),!v)throw new Error("updateTranscription Error: options is mandatory");if(ut(v)!=="object")throw new Error("updateTranscription Error: options must be object type");if(v.participants&&!Array.isArray(v.participants))throw new Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(je({action:"daily-method-update-transcription"},v))}},{key:"stopTranscription",value:function(v){if(xt(this._callState,"stopTranscription()"),v&&ut(v)!=="object")throw new Error("stopTranscription Error: options must be object type");if(v&&!v.instanceId)throw new Error('"instanceId" not provided');this.sendMessageToCallMachine(je({action:"daily-method-stop-transcription"},v))}},{key:"startDialOut",value:(U=Be(function*(v){var E=this;xt(this._callState,"startDialOut()");var T=function(D){if(D){if(!Array.isArray(D))throw new Error("Error starting dial out: audio codec must be an array");if(D.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");D.forEach(function(F){if(typeof F!="string")throw new Error("Error starting dial out: audio codec must be a string");if(F!=="OPUS"&&F!=="PCMU"&&F!=="PCMA"&&F!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")})}};if(!v.sipUri&&!v.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(v.sipUri&&v.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(v.sipUri){if(typeof v.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!v.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(v.video&&typeof v.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function(D){if(D&&(T(D.audio),D.video)){if(!Array.isArray(D.video))throw new Error("Error starting dial out: video codec must be an array");if(D.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");D.video.forEach(function(F){if(typeof F!="string")throw new Error("Error starting dial out: video codec must be a string");if(F!=="H264"&&F!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")})}})(v.codecs)}if(v.phoneNumber){if(typeof v.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(v.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");v.codecs&&T(v.codecs.audio)}if(v.callerId){if(typeof v.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(v.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(v.displayName){if(typeof v.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(v.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}if(v.userId){if(typeof v.userId!="string")throw new Error("Error starting dial out: userId must be a string");if(v.userId.length>36)throw new Error("Error starting dial out: userId length must be less than or equal to 36")}return new Promise(function(D,F){E.sendMessageToCallMachine(je({action:"dialout-start"},v),function(ee){ee.error?F(ee.error):D(ee)})})}),function(v){return U.apply(this,arguments)})},{key:"stopDialOut",value:function(v){var E=this;return xt(this._callState,"stopDialOut()"),new Promise(function(T,D){E.sendMessageToCallMachine(je({action:"dialout-stop"},v),function(F){F.error?D(F.error):T(F)})})}},{key:"sipCallTransfer",value:(V=Be(function*(v){var E=this;if(xt(this._callState,"sipCallTransfer()"),!v)throw new Error("sipCallTransfer() requires a sessionId and toEndPoint");return v.useSipRefer=!1,G2(v,"sipCallTransfer"),new Promise(function(T,D){E.sendMessageToCallMachine(je({action:_2},v),function(F){F.error?D(F.error):T(F)})})}),function(v){return V.apply(this,arguments)})},{key:"sipRefer",value:(P=Be(function*(v){var E=this;if(xt(this._callState,"sipRefer()"),!v)throw new Error("sessionId and toEndPoint are mandatory parameter");return v.useSipRefer=!0,G2(v,"sipRefer"),new Promise(function(T,D){E.sendMessageToCallMachine(je({action:_2},v),function(F){F.error?D(F.error):T(F)})})}),function(v){return P.apply(this,arguments)})},{key:"sendDTMF",value:(j=Be(function*(v){var E=this;return xt(this._callState,"sendDTMF()"),function(T){var D=T.sessionId,F=T.tones;if(!D||!F)throw new Error("sessionId and tones are mandatory parameter");if(typeof D!="string"||typeof F!="string")throw new Error("sessionId and tones should be of string type");if(F.length>20)throw new Error("tones string must be upto 20 characters");var ee=/[^0-9A-D*#]/g,ue=F.match(ee);if(ue&&ue[0])throw new Error("".concat(ue[0]," is not valid DTMF tone"))}(v),new Promise(function(T,D){E.sendMessageToCallMachine(je({action:"send-dtmf"},v),function(F){F.error?D(F.error):T(F)})})}),function(v){return j.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var v=this;return this._callState!==So?Promise.resolve(je({stats:{latest:{}}},this._network)):new Promise(function(E){v.sendMessageToCallMachine({action:"get-calc-stats"},function(T){E(je(je({},v._network),{},{stats:T.stats}))})})}},{key:"testWebsocketConnectivity",value:(C=Be(function*(){var v=this;if(vy(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(E){return Promise.reject(E)}return new Promise(function(E,T){v.sendMessageToCallMachine({action:"test-websocket-connectivity"},function(D){D.error?T(D.error):E(D.results)})})}),function(){return C.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(v){return v?v instanceof MediaStreamTrack?!!sB(v)||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(S=Be(function*(){var v=this;nt(),Yr(this._callObjectMode,"testCallQuality()"),xf(this._callMachineInitialized,"testCallQuality()",null,!0),gy(this._callState,this._isPreparingToJoin,"testCallQuality()");var E=this._testCallAlreadyInProgress,T=function(F){E||(v._testCallInProgress=F)};if(T(!0),this.needsLoad())try{var D=this._callState;yield this.load(),this._callState=D}catch(F){return T(!1),Promise.reject(F)}return new Promise(function(F){v.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:v.properties.dailyJsVersion},function(ee){var ue=ee.results,ce=ue.result,ve=KT(ue,cB);if(ce==="failed"){var Te,Se=je({},ve);(Te=ve.error)!==null&&Te!==void 0&&Te.details?(ve.error.details=JSON.parse(ve.error.details),Se.error=je(je({},Se.error),{},{details:je({},Se.error.details)}),Se.error.details.duringTest="testCallQuality"):(Se.error=Se.error?je({},Se.error):{},Se.error.details={duringTest:"testCallQuality"}),v._maybeSendToSentry(Se)}T(!1),F(je({result:ce},ve))})})}),function(){return S.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(_=Be(function*(v){var E;ot()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),E=yield this.testPeerToPeerCallQuality(v)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),E=yield this.testCallQuality());var T={result:E.result,secondsElapsed:E.secondsElapsed};return E.data&&(T.data={maxRTT:E.data.maxRoundTripTime,packetLoss:E.data.avgRecvPacketLoss}),T}),function(v){return _.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(p=Be(function*(v){var E=this;if(vy(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(F){return Promise.reject(F)}var T=v.videoTrack,D=v.duration;if(!this._validateVideoTrackForNetworkTests(T))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=T,new Promise(function(F,ee){E.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:D},function(ue){ue.error?ee(ue.error):F(ue.results)})})}),function(v){return p.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){ot()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(h=Be(function*(v){var E=this;if(vy(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(T){return Promise.reject(T)}if(!this._validateVideoTrackForNetworkTests(v))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=v,new Promise(function(T,D){E.sendMessageToCallMachine({action:"test-network-connectivity"},function(F){F.error?D(F.error):T(F.results)})})}),function(v){return h.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var v=this;return new Promise(function(E){v._callState===So?v.sendMessageToCallMachine({action:"get-cpu-load-stats"},function(T){E(T.cpuStats)}):E({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})})}},{key:"_validateEncodingLayerHasValidProperties",value:function(v){var E;if(!(((E=Object.keys(v))===null||E===void 0?void 0:E.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(my))}},{key:"_validateVideoSendSettings",value:function(v,E){var T=v==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],D="Video send settings should be either an object or one of the supported presets: ".concat(T.join());if(typeof E=="string"){if(!T.includes(E))throw new Error(D)}else{if(ut(E)!=="object")throw new Error(D);if(!E.maxQuality&&!E.encodings&&E.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(E.maxQuality&&["low","medium","high"].indexOf(E.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(E.encodings){var F=!1;switch(Object.keys(E.encodings).length){case 1:F=!E.encodings.low;break;case 2:F=!E.encodings.low||!E.encodings.medium;break;case 3:F=!E.encodings.low||!E.encodings.medium||!E.encodings.high;break;default:F=!0}if(F)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");E.encodings.low&&this._validateEncodingLayerHasValidProperties(E.encodings.low),E.encodings.medium&&this._validateEncodingLayerHasValidProperties(E.encodings.medium),E.encodings.high&&this._validateEncodingLayerHasValidProperties(E.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(v){var E=this;if(!v||Object.keys(v).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(v).forEach(function(T){var D=Xn(T,2),F=D[0],ee=D[1];E._validateVideoSendSettings(F,ee)})}},{key:"updateSendSettings",value:function(v){var E=this;return this.validateUpdateSendSettings(v),this.needsLoad()?(this._preloadCache.sendSettings=v,{sendSettings:this._preloadCache.sendSettings}):new Promise(function(T,D){E.sendMessageToCallMachine({action:"update-send-settings",sendSettings:v},function(F){F.error?D(F.error):T(F.sendSettings)})})}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return nt(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(v){return nt(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:v}),this}},{key:"activeSpeakerMode",value:function(){return nt(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(v){return xt(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=v,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:v}),this}},{key:"enumerateDevices",value:(d=Be(function*(){var v=this;if(this._callObjectMode){var E=yield navigator.mediaDevices.enumerateDevices();return Fo()==="Firefox"&&Ep().major>115&&Ep().major<123&&(E=E.filter(function(T){return T.kind!=="audiooutput"})),{devices:E.map(function(T){var D=JSON.parse(JSON.stringify(T));if(!ot()&&T.kind==="videoinput"&&T.getCapabilities){var F,ee=T.getCapabilities();D.facing=(ee==null||(F=ee.facingMode)===null||F===void 0?void 0:F.length)>=1?ee.facingMode[0]:void 0}return D})}}return new Promise(function(T){v.sendMessageToCallMachine({action:"enumerate-devices"},function(D){T({devices:D.devices})})})}),function(){return d.apply(this,arguments)})},{key:"sendAppMessage",value:function(v){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if(xt(this._callState,"sendAppMessage()"),JSON.stringify(v).length>this._maxAppMessageSize)throw new Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:v,to:E}),this}},{key:"addFakeParticipant",value:function(v){return nt(),xt(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(je({action:"add-fake-participant"},v)),this}},{key:"setShowNamesMode",value:function(v){return fr(this._callObjectMode,"setShowNamesMode()"),nt(),v&&v!=="always"&&v!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:v}),this)}},{key:"setShowLocalVideo",value:function(){var v=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return fr(this._callObjectMode,"setShowLocalVideo()"),nt(),xt(this._callState,"setShowLocalVideo()"),typeof v!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:v}),this._showLocalVideo=v,this)}},{key:"showLocalVideo",value:function(){return fr(this._callObjectMode,"showLocalVideo()"),nt(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var v=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return fr(this._callObjectMode,"setShowParticipantsBar()"),nt(),xt(this._callState,"setShowParticipantsBar()"),typeof v!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:v}),this._showParticipantsBar=v,this)}},{key:"showParticipantsBar",value:function(){return fr(this._callObjectMode,"showParticipantsBar()"),nt(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return nt(),fr(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(v){return nt(),fr(this._callObjectMode,"setCustomIntegrations()"),xt(this._callState,"setCustomIntegrations()"),HR(v)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:v}),this._customIntegrations=v,this):this}},{key:"startCustomIntegrations",value:function(v){var E=this;if(nt(),fr(this._callObjectMode,"startCustomIntegrations()"),xt(this._callState,"startCustomIntegrations()"),Array.isArray(v)&&v.some(function(F){return typeof F!="string"})||!Array.isArray(v)&&typeof v!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var T=typeof v=="string"?[v]:v,D=T.filter(function(F){return!(F in E._customIntegrations)});return D.length?(console.error(`Can't find custom integration(s): "`.concat(D.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:T}),this)}},{key:"stopCustomIntegrations",value:function(v){var E=this;if(nt(),fr(this._callObjectMode,"stopCustomIntegrations()"),xt(this._callState,"stopCustomIntegrations()"),Array.isArray(v)&&v.some(function(F){return typeof F!="string"})||!Array.isArray(v)&&typeof v!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var T=typeof v=="string"?[v]:v,D=T.filter(function(F){return!(F in E._customIntegrations)});return D.length?(console.error(`Can't find custom integration(s): "`.concat(D.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:T}),this)}},{key:"customTrayButtons",value:function(){return fr(this._callObjectMode,"customTrayButtons()"),nt(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(v){return fr(this._callObjectMode,"updateCustomTrayButtons()"),nt(),xt(this._callState,"updateCustomTrayButtons()"),qR(v)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:v}),this._customTrayButtons=v,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(xp))),this)}},{key:"theme",value:function(){return fr(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(v){var E=this;return fr(this._callObjectMode,"setTheme()"),new Promise(function(T,D){try{E.validateProperties({theme:v}),E.properties.theme=je({},v),E.sendMessageToCallMachine({action:"set-theme",theme:E.properties.theme});try{E.emitDailyJSEvent({action:$7,theme:E.properties.theme})}catch(F){console.log("could not emit 'theme-updated'",F)}T(E.properties.theme)}catch(F){D(F)}})}},{key:"requestFullscreen",value:(c=Be(function*(){if(nt(),this._iframe&&!document.fullscreenElement&&b2())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(v){console.log("could not make video call fullscreen",v)}}),function(){return c.apply(this,arguments)})},{key:"exitFullscreen",value:function(){nt(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(o=Be(function*(){var v=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise(function(E){v.sendMessageToCallMachine({action:"get-sidebar-view"},function(T){E(T.view)})})}),function(){return o.apply(this,arguments)})},{key:"setSidebarView",value:function(v){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:v}),this)}},{key:"room",value:(s=Be(function*(){var v=this,E=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,T=E===void 0||E;return this._accessState.access===cy||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise(function(D){v.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:T},function(F){delete F.action,delete F.callbackStamp,D(F)})})}),function(){return s.apply(this,arguments)})},{key:"geo",value:(r=Be(function*(){try{var v=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield v.json()).geo}}catch(E){return console.error("geo lookup failed",E),{current:""}}}),function(){return r.apply(this,arguments)})},{key:"setNetworkTopology",value:(n=Be(function*(v){var E=this;return nt(),xt(this._callState,"setNetworkTopology()"),new Promise(function(T,D){E.sendMessageToCallMachine({action:"set-network-topology",opts:v},function(F){F.error?D({error:F.error}):T({workerId:F.workerId})})})}),function(v){return n.apply(this,arguments)})},{key:"getNetworkTopology",value:(e=Be(function*(){var v=this;return new Promise(function(E,T){v.needsLoad()&&E({topology:"none"}),v.sendMessageToCallMachine({action:"get-network-topology"},function(D){D.error?T({error:D.error}):E({topology:D.topology})})})}),function(){return e.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(v){if(nt(),typeof v!="number"&&v!==!0&&v!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(v));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:v})}},{key:"on",value:function(v,E){return hf.prototype.on.call(this,v,E)}},{key:"once",value:function(v,E){return hf.prototype.once.call(this,v,E)}},{key:"off",value:function(v,E){return hf.prototype.off.call(this,v,E)}},{key:"validateProperties",value:function(v){var E,T;if(v!=null&&(E=v.dailyConfig)!==null&&E!==void 0&&E.userMediaAudioConstraints){var D,F;ot()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var ee=v.inputSettings||{};ee.audio=((D=v.inputSettings)===null||D===void 0?void 0:D.audio)||{},ee.audio.settings=((F=v.inputSettings)===null||F===void 0||(F=F.audio)===null||F===void 0?void 0:F.settings)||{},ee.audio.settings=je(je({},ee.audio.settings),v.dailyConfig.userMediaAudioConstraints),v.inputSettings=ee,delete v.dailyConfig.userMediaAudioConstraints}if(v!=null&&(T=v.dailyConfig)!==null&&T!==void 0&&T.userMediaVideoConstraints){var ue,ce;ot()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var ve=v.inputSettings||{};ve.video=((ue=v.inputSettings)===null||ue===void 0?void 0:ue.video)||{},ve.video.settings=((ce=v.inputSettings)===null||ce===void 0||(ce=ce.video)===null||ce===void 0?void 0:ce.settings)||{},ve.video.settings=je(je({},ve.video.settings),v.dailyConfig.userMediaVideoConstraints),v.inputSettings=ve,delete v.dailyConfig.userMediaVideoConstraints}for(var Te in v){if(!bo[Te])throw new Error("unrecognized property '".concat(Te,"'"));if(bo[Te].validate&&!bo[Te].validate(v[Te],this))throw new Error("property '".concat(Te,"': ").concat(bo[Te].help))}}},{key:"assembleMeetingUrl",value:function(){var v,E,T=je(je({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:(v=this.properties.dailyConfig)!==null&&v!==void 0&&v.proxyUrl?encodeURIComponent((E=this.properties.dailyConfig)===null||E===void 0?void 0:E.proxyUrl):void 0}),D=T.url.match(/\?/)?"&":"?";return T.url+D+Object.keys(bo).filter(function(F){return bo[F].queryString&&T[F]!==void 0}).map(function(F){return"".concat(bo[F].queryString,"=").concat(T[F])}).join("&")}},{key:"needsLoad",value:function(){return[a2,o2,yo,ha].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(v,E){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(v,E,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(v){this._messageChannel.forwardPackagedMessageToCallMachine(v,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(v){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(v,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(v){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(v)}},{key:"handleMessageFromCallMachine",value:function(v){switch(v.action){case q7:this.sendMessageToCallMachine(je({action:H7},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var E={action:Sf,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:vp(this.properties.dailyConfig)}};this.sendMessageToCallMachine(E),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case u2:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(v);break;case X7:var T,D=je({},v);delete D.internal,this._maxAppMessageSize=((T=v.internal)===null||T===void 0?void 0:T._maxAppMessageSize)||uy,this._joinedCallback&&(this._joinedCallback(v.participants),this._joinedCallback=null),this.emitDailyJSEvent(D);break;case Z7:case ez:if(this._callState===yo)return;if(v.participant&&v.participant.session_id){var F=v.participant.local?"local":v.participant.session_id;if(this._callObjectMode){var ee=this._callMachine().store;k2(v.participant,ee),N2(v.participant,ee),R2(v.participant,this._participants[F],ee)}try{this.maybeParticipantTracksStopped(this._participants[F],v.participant),this.maybeParticipantTracksStarted(this._participants[F],v.participant),this.maybeEventRecordingStopped(this._participants[F],v.participant),this.maybeEventRecordingStarted(this._participants[F],v.participant)}catch(Pt){console.error("track events error",Pt)}this.compareEqualForParticipantUpdateEvent(v.participant,this._participants[F])||(this._participants[F]=je({},v.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(v))}break;case tz:if(v.participant&&v.participant.session_id){var ue=this._participants[v.participant.session_id];ue&&this.maybeParticipantTracksStopped(ue,null),delete this._participants[v.participant.session_id],this.emitDailyJSEvent(v)}break;case nz:Qn(this._participantCounts,v.participantCounts)||(this._participantCounts=v.participantCounts,this.emitDailyJSEvent(v));break;case rz:var ce={access:v.access};v.awaitingAccess&&(ce.awaitingAccess=v.awaitingAccess),Qn(this._accessState,ce)||(this._accessState=ce,this.emitDailyJSEvent(v));break;case iz:if(v.meetingSession){this._meetingSessionSummary=v.meetingSession,this.emitDailyJSEvent(v);var ve=je(je({},v),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(ve)}break;case m2:var Te;this._iframe&&!v.preserveIframe&&(this._iframe.src=""),this._updateCallState(ha),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(v.errorMsg),this._loadedCallback=null),v.preserveIframe;var Se=KT(v,uB);Se!=null&&(Te=Se.error)!==null&&Te!==void 0&&Te.details&&(Se.error.details=JSON.parse(Se.error.details)),this._maybeSendToSentry(v),this._joinedCallback&&(this._joinedCallback(null,Se),this._joinedCallback=null),this.emitDailyJSEvent(Se);break;case J7:this._callState!==ha&&this._updateCallState(yo),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(v);break;case"selected-devices-updated":v.devices&&this.emitDailyJSEvent(v);break;case kz:var xe=v.state,Ie=v.threshold,qe=v.quality,Re=xe.state,Ke=xe.reasons;Re===this._network.networkState&&Qn(Ke,this._network.networkStateReasons)&&Ie===this._network.threshold&&qe===this._network.quality||(this._network.networkState=Re,this._network.networkStateReasons=Ke,this._network.quality=qe,this._network.threshold=Ie,v.networkState=Re,Ke.length&&(v.networkStateReasons=Ke),delete v.state,this.emitDailyJSEvent(v));break;case Rz:v&&v.cpuLoadState&&this.emitDailyJSEvent(v);break;case Oz:v&&v.faceCounts!==void 0&&this.emitDailyJSEvent(v);break;case Az:var ct=v.activeSpeaker;this._activeSpeaker.peerId!==ct.peerId&&(this._activeSpeaker.peerId=ct.peerId,this.emitDailyJSEvent({action:v.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var pt=v.show;this._showLocalVideo=pt,this.emitDailyJSEvent({action:v.action,show:pt});break;case Cz:var It=v.enabled;this._activeSpeakerMode!==It&&(this._activeSpeakerMode=It,this.emitDailyJSEvent({action:v.action,enabled:this._activeSpeakerMode}));break;case az:case oz:case lz:this._waitingParticipants=v.allWaitingParticipants,this.emitDailyJSEvent({action:v.action,participant:v.participant});break;case Lz:Qn(this._receiveSettings,v.receiveSettings)||(this._receiveSettings=v.receiveSettings,this.emitDailyJSEvent({action:v.action,receiveSettings:v.receiveSettings}));break;case f2:this._maybeUpdateInputSettings(v.inputSettings);break;case"send-settings-updated":Qn(this._sendSettings,v.sendSettings)||(this._sendSettings=v.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:v.action,sendSettings:v.sendSettings}));break;case"local-audio-level":this._localAudioLevel=v.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(v);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=v.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(v);break;case bz:var bn=v.session_id;this._rmpPlayerState[bn]=v.playerState,this.emitDailyJSEvent(v);break;case Sz:delete this._rmpPlayerState[v.session_id],this.emitDailyJSEvent(v);break;case wz:var Rn=v.session_id,Jt=this._rmpPlayerState[Rn];Jt&&this.compareEqualForRMPUpdateEvent(Jt,v.remoteMediaPlayerState)||(this._rmpPlayerState[Rn]=v.remoteMediaPlayerState,this.emitDailyJSEvent(v));break;case"custom-button-click":case"sidebar-view-changed":this.emitDailyJSEvent(v);break;case sz:var br=this._meetingSessionState.topology!==(v.meetingSessionState&&v.meetingSessionState.topology);this._meetingSessionState=yy(v.meetingSessionState,this._callObjectMode),(this._callObjectMode||br)&&this.emitDailyJSEvent(v);break;case Ez:this._isScreenSharing=!0,this.emitDailyJSEvent(v);break;case Tz:case xz:this._isScreenSharing=!1,this.emitDailyJSEvent(v);break;case d2:case h2:case pz:case mz:case gz:case dz:case hz:case fz:case K7:case Q7:case yz:case _z:case"test-completed":case Nz:case vz:case Iz:case Mz:case jz:case Dz:case p2:case Pz:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(v);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(v,E){var T="record";v&&(E.local||E[T]!==!1||v[T]===E[T]||this.emitDailyJSEvent({action:h2}))}},{key:"maybeEventRecordingStarted",value:function(v,E){var T="record";v&&(E.local||E[T]!==!0||v[T]===E[T]||this.emitDailyJSEvent({action:d2}))}},{key:"_trackStatePlayable",value:function(v){return!(!v||v.state!==V7)}},{key:"_trackChanged",value:function(v,E){return(v==null?void 0:v.id)!==(E==null?void 0:E.id)}},{key:"maybeEventTrackStopped",value:function(v,E,T){var D,F,ee=(D=E==null?void 0:E.tracks[v])!==null&&D!==void 0?D:null,ue=(F=T==null?void 0:T.tracks[v])!==null&&F!==void 0?F:null,ce=ee==null?void 0:ee.track;if(ce){var ve=this._trackStatePlayable(ee),Te=this._trackStatePlayable(ue),Se=this._trackChanged(ce,ue==null?void 0:ue.track);ve&&(Te&&!Se||this.emitDailyJSEvent({action:uz,track:ce,participant:T??E,type:v}))}}},{key:"maybeEventTrackStarted",value:function(v,E,T){var D,F,ee=(D=E==null?void 0:E.tracks[v])!==null&&D!==void 0?D:null,ue=(F=T==null?void 0:T.tracks[v])!==null&&F!==void 0?F:null,ce=ue==null?void 0:ue.track;if(ce){var ve=this._trackStatePlayable(ee),Te=this._trackStatePlayable(ue),Se=this._trackChanged(ee==null?void 0:ee.track,ce);Te&&(ve&&!Se||this.emitDailyJSEvent({action:cz,track:ce,participant:T,type:v}))}}},{key:"maybeParticipantTracksStopped",value:function(v,E){if(v)for(var T in v.tracks)this.maybeEventTrackStopped(T,v,E)}},{key:"maybeParticipantTracksStarted",value:function(v,E){if(E)for(var T in E.tracks)this.maybeEventTrackStarted(T,v,E)}},{key:"compareEqualForRMPUpdateEvent",value:function(v,E){var T,D;return v.state===E.state&&((T=v.settings)===null||T===void 0?void 0:T.volume)===((D=E.settings)===null||D===void 0?void 0:D.volume)}},{key:"emitDailyJSEvent",value:function(v){try{v.callClientId=this.callClientId,this.emit(v.action,v)}catch(E){console.log("could not emit",v,E)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(v,E){return!!Qn(v,E)&&(!v.videoTrack||!E.videoTrack||v.videoTrack.id===E.videoTrack.id&&v.videoTrack.muted===E.videoTrack.muted&&v.videoTrack.enabled===E.videoTrack.enabled)&&(!v.audioTrack||!E.audioTrack||v.audioTrack.id===E.audioTrack.id&&v.audioTrack.muted===E.audioTrack.muted&&v.audioTrack.enabled===E.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return ot()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(v){this._updateCallState(this._callState,v)}},{key:"_updateCallState",value:function(v){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(v!==this._callState||E!==this._isPreparingToJoin){var T=this._callState,D=this._isPreparingToJoin;this._callState=v,this._isPreparingToJoin=E;var F=this._callState===So;this.updateShowAndroidOngoingMeetingNotification(F);var ee=qf(T,D),ue=qf(this._callState,this._isPreparingToJoin);ee!==ue&&(this.updateKeepDeviceAwake(ue),this.updateDeviceAudioMode(ue),this.updateNoOpRecordingEnsuringBackgroundContinuity(ue))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=F2,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:cy},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=yy(B2,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=uy,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(v){ot()&&this.nativeUtils().setKeepDeviceAwake(v,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(v){if(ot()&&!this.disableReactNativeAutoDeviceManagement("audio")){var E=v?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(E)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(v){if(ot()&&this.nativeUtils().setShowOngoingMeetingNotification){var E,T,D,F;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var ee=this.properties.reactNativeConfig.androidInCallNotification;E=ee.title,T=ee.subtitle,D=ee.iconName,F=ee.disableForCustomOverride}F&&(v=!1),this.nativeUtils().setShowOngoingMeetingNotification(v,E,T,D,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(v){ot()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(v)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var v;if(ot()){var E=(v=this._callMachine())===null||v===void 0||(v=v.store)===null||v===void 0?void 0:v.getState();for(var T in E==null?void 0:E.streams){var D=E.streams[T];D&&D.pendingTrack&&D.pendingTrack.kind==="audio"&&(D.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(v){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[v]}},{key:"absoluteUrl",value:function(v){if(v!==void 0){var E=document.createElement("a");return E.href=v,E.href}}},{key:"sayHello",value:function(){var v="hello, world.";return console.log(v),v}},{key:"_logUseAfterDestroy",value:function(){var v=Object.values(_o)[0];if(this.needsLoad())if(v&&!v.needsLoad()){var E={action:Sf,level:"error",code:this.strictMode?9995:9997};v.sendMessageToCallMachine(E)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var T={action:Sf,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(T,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var v=0,E=Object.values(_o);v<E.length;v++){var T=E[v];T._callMachineInitialized?(T.sendMessageToCallMachine({action:Sf,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),T._delayDuplicateInstanceLog=!1):T._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(v){var E,T,D,F;if(!((E=v.error)!==null&&E!==void 0&&E.type&&(![F7,B7,c2].includes(v.error.type)||v.error.type===c2&&v.error.msg.includes("deleted")))){var ee=(T=this.properties)!==null&&T!==void 0&&T.url?new URL(this.properties.url):void 0,ue="production";ee&&ee.host.includes(".staging.daily")&&(ue="staging");var ce,ve,Te,Se,xe,Ie=function(bn){const Rn=[i7(),n7(),R7(),k7(),D7(),L7(),l7(),P7()];return bn.autoSessionTracking!==!1&&Rn.push(j7()),Rn}({}).filter(function(bn){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(bn.name)}),qe=new g7({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:w7,stackParser:C7,integrations:Ie,environment:ue}),Re=new Ma;if(Re.setClient(qe),qe.init(),this.session_id&&Re.setExtra("sessionId",this.session_id),this.properties){var Ke=je({},this.properties);Ke.userName=Ke.userName?"[Filtered]":void 0,Ke.userData=Ke.userData?"[Filtered]":void 0,Ke.token=Ke.token?"[Filtered]":void 0,Re.setExtra("properties",Ke)}if(ee){var ct=ee.searchParams.get("domain");if(!ct){var pt=ee.host.match(/(.*?)\./);ct=pt&&pt[1]||""}ct&&Re.setTag("domain",ct)}v.error&&(Re.setTag("fatalErrorType",v.error.type),Re.setExtra("errorDetails",v.error.details),!((ce=v.error.details)===null||ce===void 0)&&ce.uri&&Re.setTag("serverAddress",v.error.details.uri),!((ve=v.error.details)===null||ve===void 0)&&ve.workerGroup&&Re.setTag("workerGroup",v.error.details.workerGroup),!((Te=v.error.details)===null||Te===void 0)&&Te.geoGroup&&Re.setTag("geoGroup",v.error.details.geoGroup),!((Se=v.error.details)===null||Se===void 0)&&Se.on&&Re.setTag("connectionAttempt",v.error.details.on),(xe=v.error.details)!==null&&xe!==void 0&&xe.bundleUrl&&(Re.setTag("bundleUrl",v.error.details.bundleUrl),Re.setTag("bundleError",v.error.details.sourceError.type))),Re.setTags({callMode:this._callObjectMode?ot()?"reactNative":(D=this.properties)!==null&&D!==void 0&&(D=D.dailyConfig)!==null&&D!==void 0&&(D=D.callMode)!==null&&D!==void 0&&D.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:t.version()});var It=((F=v.error)===null||F===void 0?void 0:F.msg)||v.errorMsg;Re.captureException(new Error(It))}}},{key:"_callMachine",value:function(){var v;return(v=window._daily)===null||v===void 0||(v=v.instances)===null||v===void 0||(v=v[this.callClientId])===null||v===void 0?void 0:v.callMachine}},{key:"_maybeUpdateInputSettings",value:function(v){if(!Qn(this._inputSettings,v)){var E=this._getInputSettings();this._inputSettings=v;var T=this._getInputSettings();Qn(E,T)||this.emitDailyJSEvent({action:f2,inputSettings:T})}}}],[{key:"supportedBrowser",value:function(){if(ot())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var v=TU.getParser(qr());return{supported:!!w2(),mobile:v.getPlatformType()==="mobile",name:v.getBrowserName(),version:v.getBrowserVersion(),supportsFullscreen:!!b2(),supportsScreenShare:!!zz(),supportsSfu:!!w2(),supportsVideoProcessing:TR(),supportsAudioProcessing:xR()}}},{key:"version",value:function(){return"0.77.0"}},{key:"createCallObject",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return v.layout="none",new t(null,v)}},{key:"wrap",value:function(v){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(nt(),!v||!v.contentWindow||typeof v.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return E.layout||(E.customLayout?E.layout="custom-v1":E.layout="browser"),new t(v,E)}},{key:"createFrame",value:function(v,E){var T,D;nt(),v&&E?(T=v,D=E):v&&v.append?(T=v,D={}):(T=document.body,D=v||{});var F=D.iframeStyle;F||(F=T===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var ee=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?ee.allow="microphone, camera":ee.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",ee.style.visibility="hidden",T.appendChild(ee),ee.style.visibility=null,Object.keys(F).forEach(function(ue){return ee.style[ue]=F[ue]}),D.layout||(D.customLayout?D.layout="custom-v1":D.layout="browser");try{return new t(ee,D)}catch(ue){throw T.removeChild(ee),ue}}},{key:"createTransparentFrame",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};nt();var E=document.createElement("iframe");return E.allow="microphone; camera; autoplay",E.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(E),v.layout||(v.layout="custom-v1"),t.wrap(E,v)}},{key:"getCallInstance",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return v?_o[v]:Object.values(_o)[0]}}]);var e,n,r,s,o,c,d,h,p,_,S,C,j,P,V,U,$,q,X,te,z,K,M,O,A,x,L,B,I,Q,he,ne,N,ge,Z,w,G,re}();function Vl(t,e){var n={};for(var r in t)if(t[r]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",r),n[r]=ms;else if(r==="dailyConfig"){if(t[r].modifyLocalSdpHook){var s=window._daily.instances[e].customCallbacks||{};s.modifyLocalSdpHook=t[r].modifyLocalSdpHook,window._daily.instances[e].customCallbacks=s,delete t[r].modifyLocalSdpHook}if(t[r].modifyRemoteSdpHook){var o=window._daily.instances[e].customCallbacks||{};o.modifyRemoteSdpHook=t[r].modifyRemoteSdpHook,window._daily.instances[e].customCallbacks=o,delete t[r].modifyRemoteSdpHook}n[r]=t[r]}else n[r]=t[r];return n}function xt(t){var e=arguments.length>2?arguments[2]:void 0;if(t!==So){var n="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw e&&(n+=" ".concat(e)),console.error(n),new Error(n)}}function qf(t,e){return[v0,So].includes(t)||e}function gy(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",r=arguments.length>3?arguments[3]:void 0;if(qf(t,e)){var s="".concat(n," not supported after joining a meeting.");throw r&&(s+=" ".concat(r)),console.error(s),new Error(s)}}function xf(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",n=arguments.length>2?arguments[2]:void 0;if(!t){var r="".concat(e,arguments.length>3&&arguments[3]!==void 0&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw n&&(r+=" ".concat(n)),console.error(r),new Error(r)}}function vy(t){if(t){var e="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(e),new Error(e)}}function Yr(t){if(!t){var e="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(e),new Error(e)}}function fr(t){if(t){var e="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(e),new Error(e)}}function nt(){if(ot())throw new Error("This daily-js method is not currently supported in React Native")}function Lu(){if(!ot())throw new Error("This daily-js method is only supported in React Native")}function LR(t){if(t===void 0)return!0;var e;if(typeof t=="string")e=t;else try{e=JSON.stringify(t),Qn(JSON.parse(e),t)||console.warn("The userData provided will be modified when serialized.")}catch(n){throw Error("userData must be serializable to JSON: ".concat(n))}if(e.length>4096)throw Error("userData is too large (".concat(e.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function VR(t,e){for(var n=e.allowAllParticipantsKey,r=function(S){var C=["local"];return n||C.push("*"),S&&!C.includes(S)},s=function(S){return!!(S.layer===void 0||Number.isInteger(S.layer)&&S.layer>=0||S.layer==="inherit")},o=function(S){return!!S&&!(S.video&&!s(S.video))&&!(S.screenVideo&&!s(S.screenVideo))},c=0,d=Object.entries(t);c<d.length;c++){var h=Xn(d[c],2),p=h[0],_=h[1];if(!r(p)||!o(_))return!1}return!0}function UR(t){if(ut(t)!=="object")return!1;for(var e=0,n=Object.entries(t);e<n.length;e++){var r=Xn(n[e],2),s=r[0],o=r[1];switch(s){case"video":if(ut(o)!=="object")return!1;for(var c=0,d=Object.entries(o);c<d.length;c++){var h=Xn(d[c],2),p=h[0],_=h[1];switch(p){case"processor":if(!pB(_))return!1;break;case"settings":if(!$2(_))return!1;break;default:return!1}}break;case"audio":if(ut(o)!=="object")return!1;for(var S=0,C=Object.entries(o);S<C.length;S++){var j=Xn(C[S],2),P=j[0],V=j[1];switch(P){case"processor":if(!fB(V))return!1;break;case"settings":if(!$2(V))return!1;break;default:return!1}}break;default:return!1}}return!0}function zR(t,e,n){var r,s=[];t.video&&t.video.processor&&(TR((r=e==null?void 0:e.useLegacyVideoProcessor)!==null&&r!==void 0&&r)||(t.video.settings?delete t.video.processor:delete t.video,s.push("video"))),t.audio&&t.audio.processor&&(xR()||(t.audio.settings?delete t.audio.processor:delete t.audio,s.push("audio"))),s.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(s.join(", "))),t.audio&&t.audio.settings&&(t.audio.settings.customTrack?(n.audioTrack=t.audio.settings.customTrack,t.audio.settings={customTrack:ms}):delete n.audioTrack),t.video&&t.video.settings&&(t.video.settings.customTrack?(n.videoTrack=t.video.settings.customTrack,t.video.settings={customTrack:ms}):delete n.videoTrack)}function fB(t){if(ot())return console.warn("Video processing is not yet supported in React Native"),!1;var e=["type"];return!!t&&ut(t)==="object"&&(Object.keys(t).filter(function(n){return!e.includes(n)}).forEach(function(n){console.warn("invalid key inputSettings -> audio -> processor : ".concat(n)),delete t[n]}),!!function(n){return typeof n!="string"?!1:Object.values(SR).includes(n)?!0:(console.error("inputSettings audio processor type invalid"),!1)}(t.type))}function pB(t){if(ot())return console.warn("Video processing is not yet supported in React Native"),!1;var e=["type","config"];return!t||ut(t)!=="object"||!function(n){return typeof n!="string"?!1:Object.values(Ff).includes(n)?!0:(console.error("inputSettings video processor type invalid"),!1)}(t.type)||t.config&&(ut(t.config)!=="object"||!function(n,r){var s=Object.keys(r);if(s.length===0)return!0;var o="invalid object in inputSettings -> video -> processor -> config";switch(n){case Ff.BGBLUR:return s.length>1||s[0]!=="strength"?(console.error(o),!1):!(typeof r.strength!="number"||r.strength<=0||r.strength>1||isNaN(r.strength))||(console.error("".concat(o,"; expected: {0 < strength <= 1}, got: ").concat(r.strength)),!1);case Ff.BGIMAGE:return!(r.source!==void 0&&!function(c){if(c.source==="default")return c.type="default",!0;if(c.source instanceof ArrayBuffer)return!0;if(yp(c.source))return c.type="url",!!function(p){var _=new URL(p),S=_.pathname;if(_.protocol==="data:")try{var C=S.substring(S.indexOf(":")+1,S.indexOf(";")).split("/")[1];return hy.includes(C)}catch(P){return console.error("failed to deduce blob content type",P),!1}var j=S.split(".").at(-1).toLowerCase().trim();return hy.includes(j)}(c.source)||(console.error("invalid image type; supported types: [".concat(hy.join(", "),"]")),!1);return d=c.source,h=Number(d),isNaN(h)||!Number.isInteger(h)||h<=0||h>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(c.type="daily-preselect",!0);var d,h}(r));default:return!0}}(t.type,t.config))?!1:(Object.keys(t).filter(function(n){return!e.includes(n)}).forEach(function(n){console.warn("invalid key inputSettings -> video -> processor : ".concat(n)),delete t[n]}),!0)}function $2(t){return ut(t)==="object"&&(!t.customTrack||t.customTrack instanceof MediaStreamTrack)}function E0(){var t=Object.values(Ff).join(" | "),e=Object.values(SR).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(t," ], config?: {} } }, audio?: { processor: {type: [ ").concat(e," ] } } }")}function BR(t){var e=t.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(z7).concat(e?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function FR(){return"customIntegrations should be an object of type ".concat(JSON.stringify(S0),".")}function qR(t){if(t&&ut(t)!=="object"||Array.isArray(t))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(xp),".")),!1;if(t)for(var e=0,n=Object.entries(t);e<n.length;e++)for(var r=Xn(n[e],1)[0],s=0,o=Object.entries(t[r]);s<o.length;s++){var c=Xn(o[s],2),d=c[0],h=c[1],p=xp.id[d];if(!p)return console.error("customTrayButton does not support key ".concat(d)),!1;switch(d){case"iconPath":case"iconPathDarkMode":if(!yp(h))return console.error("customTrayButton ".concat(d," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(h))return console.error("customTrayButton ".concat(d," should be ").concat(p,". Got: ").concat(h)),!1;break;default:if(ut(h)!==p)return console.error("customTrayButton ".concat(d," should be a ").concat(p,".")),!1}}return!0}function HR(t){if(!t||t&&ut(t)!=="object"||Array.isArray(t))return console.error(FR()),!1;for(var e=function(S){return"".concat(S," should be ").concat(S0.id[S])},n=function(S,C){return console.error("customIntegration ".concat(S,": ").concat(C))},r=0,s=Object.entries(t);r<s.length;r++){var o=Xn(s[r],1)[0];if(!("label"in t[o]))return n(o,"label is required"),!1;if(!("location"in t[o]))return n(o,"location is required"),!1;if(!("src"in t[o])&&!("srcdoc"in t[o]))return n(o,"src or srcdoc is required"),!1;for(var c=0,d=Object.entries(t[o]);c<d.length;c++){var h=Xn(d[c],2),p=h[0],_=h[1];switch(p){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof _!="string")return n(o,e(p)),!1;break;case"iconURL":if(!yp(_))return n(o,"".concat(p," should be a url")),!1;break;case"src":if("srcdoc"in t[o])return n(o,"cannot have both src and srcdoc"),!1;if(!yp(_))return n(o,'src "'.concat(_,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in t[o])return n(o,"cannot have both src and srcdoc"),!1;if(typeof _!="string")return n(o,e(p)),!1;break;case"location":if(!["main","sidebar"].includes(_))return n(o,e(p)),!1;break;case"controlledBy":if(_!=="*"&&_!=="owners"&&(!Array.isArray(_)||_.some(function(S){return typeof S!="string"})))return n(o,e(p)),!1;break;case"shared":if((!Array.isArray(_)||_.some(function(S){return typeof S!="string"}))&&_!=="owners"&&typeof _!="boolean")return n(o,e(p)),!1;break;default:if(!S0.id[p])return console.error("customIntegration does not support key ".concat(p)),!1}}}return!0}function $R(t,e){if(e===void 0)return!1;switch(ut(e)){case"string":return ut(t)===e;case"object":if(ut(t)!=="object")return!1;for(var n in t)if(!$R(t[n],e[n]))return!1;return!0;default:return!1}}function G2(t,e){var n=t.sessionId,r=t.toEndPoint,s=t.callerId,o=t.useSipRefer;if(!n||!r)throw new Error("".concat(e,"() requires a sessionId and toEndPoint"));if(typeof n!="string"||typeof r!="string")throw new Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(o&&!r.startsWith("sip:"))throw new Error('"toEndPoint" must be a "sip" address');if(!r.startsWith("sip:")&&!r.startsWith("+"))throw new Error("toEndPoint: ".concat(r,' must starts with either "sip:" or "+"'));if(s&&typeof s!="string")throw new Error("callerId must be of type string");if(s&&!r.startsWith("+"))throw new Error("callerId is only valid when transferring to a PSTN number")}function W2(t){if(ut(t)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(t.state&&!Object.values(y0).includes(t.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(y0));if(t.volume){if(typeof t.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(t.volume<0||t.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function K2(t,e,n){return!(typeof t!="number"||t<e||t>n)}function yy(t,e){return t&&!e&&delete t.data,t}const mB=()=>{var U,$;const[t,e]=Y.useState({userData:null,loading:!0,error:null,appointments:[],prescriptions:[],doctors:[],showDoctorSelection:!1,showReviewModal:!1,selectedDoctor:null,searchTerm:"",videoCall:{isActive:!1,callFrame:null,appointment:null,duration:0}}),n=Y.useRef(null),r=Y.useRef(null);Y.useEffect(()=>{const q=Ot.currentUser;if(!q)return;(async()=>{try{const A=await Fr(jt(Le,"users",q.uid));A.exists()&&e(I=>({...I,userData:A.data()}));const x=$t(At(Le,"users"),Ct("role","==","doctor")),B=(await si(x)).docs.map(I=>({id:I.id,...I.data()}));e(I=>({...I,doctors:B}))}catch(A){console.error("Error fetching initial data:",A),e(x=>({...x,error:"Failed to load data"}))}finally{e(A=>({...A,loading:!1}))}})();const te=[],z=$t(At(Le,"appointments"),Ct("patientId","==",q.uid)),K=ji(z,A=>{e(x=>({...x,appointments:A.docs.map(L=>({id:L.id,...L.data()}))}))},A=>{console.error("Error loading appointments:",A),e(x=>({...x,error:"Failed to load appointments"}))});te.push(K);const M=$t(At(Le,"prescriptions"),Ct("patientId","==",q.uid)),O=ji(M,A=>{e(x=>({...x,prescriptions:A.docs.map(L=>({id:L.id,...L.data()}))}))},A=>{console.error("Error loading prescriptions:",A),e(x=>({...x,error:"Failed to load prescriptions"}))});return te.push(O),()=>{te.forEach(A=>A()),n.current&&clearInterval(n.current),t.videoCall.callFrame&&t.videoCall.callFrame.destroy()}},[]);const s=new Set(t.appointments.map(q=>q.doctorId)).size,o=t.appointments.filter(q=>q.status==="completed"&&!q.reviewed).map(q=>({appointmentId:q.id,doctorId:q.doctorId,doctorName:q.doctorName,date:q.date})),c=t.doctors.filter(q=>{var X,te;return((X=q.fullName)==null?void 0:X.toLowerCase().includes(t.searchTerm.toLowerCase()))||((te=q.specialization)==null?void 0:te.toLowerCase().includes(t.searchTerm.toLowerCase()))}),d=t.appointments.filter(q=>q.status==="approved"&&new Date(q.date)>=new Date).sort((q,X)=>new Date(q.date)-new Date(X.date));t.appointments.filter(q=>q.status==="pending");const h=t.prescriptions.filter(q=>q.status==="active"),p=async q=>{var X;try{if(t.videoCall.isActive){e(A=>({...A,error:"You are already in a call"}));return}const te=new Date,z=new Date(q.date);if(Math.abs(te-z)/(1e3*60)>15){e(A=>({...A,error:"You can only start calls within 15 minutes of the appointment time"}));return}const M=`https://naphydeby.daily.co/Naphydeby12/${q.id}`,O=hB.createFrame({url:M,iframeStyle:{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",border:"0",zIndex:"9999"},showLeaveButton:!0,showFullscreenButton:!0});e(A=>({...A,videoCall:{isActive:!0,callFrame:O,appointment:q,duration:0}})),r.current=new Date,n.current=setInterval(()=>{e(A=>({...A,videoCall:{...A.videoCall,duration:Math.floor((new Date-r.current)/1e3)}}))},1e3),await O.join({url:M,userName:((X=t.userData)==null?void 0:X.fullName)||"Patient"}),O.on("left-meeting",_),O.on("error",S)}catch(te){console.error("Error starting video call:",te),_(),e(z=>({...z,error:"Failed to start video call"}))}},_=()=>{if(t.videoCall.callFrame&&t.videoCall.callFrame.leave().then(()=>{t.videoCall.callFrame.destroy()}),n.current&&clearInterval(n.current),t.videoCall.appointment){const q=jt(Le,"appointments",t.videoCall.appointment.id);Jr(q,{callCompleted:!0,callDuration:t.videoCall.duration,updatedAt:new Date().toISOString()}).catch(X=>{console.error("Error updating appointment:",X)})}e(q=>({...q,videoCall:{isActive:!1,callFrame:null,appointment:null,duration:0}}))},S=q=>{console.error("Call error:",q),_(),e(X=>({...X,error:"Call encountered an error"}))},C=q=>{const X=Math.floor(q/60),te=Math.floor(q%60);return`${X.toString().padStart(2,"0")}:${te.toString().padStart(2,"0")}`},j=q=>{e(X=>({...X,selectedDoctor:q,showDoctorSelection:!1,showReviewModal:!0}))},P=async q=>{if(q)try{await Jr(jt(Le,"appointments",q),{reviewed:!0})}catch(X){console.error("Error marking appointment as reviewed:",X)}},V=async(q,X,te=null)=>{try{const z={};switch(q){case"cancel":z.status="cancelled";break;case"reschedule":z.date=te.toISOString(),z.status="pending";break;default:return}await Jr(jt(Le,"appointments",X),z)}catch(z){console.error(`Error ${q}ing appointment:`,z),e(K=>({...K,error:`Failed to ${q} appointment`}))}};return t.loading?g.jsx("div",{className:"flex justify-center items-center h-screen",children:g.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"})}):g.jsxs("div",{className:"flex h-screen",children:[g.jsx(Od,{}),g.jsxs("div",{className:"w-full md:w-3/4 p-4 md:p-10 overflow-y-auto custom-scrollbar ",children:[t.error&&g.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6",children:g.jsx("div",{className:"flex items-center",children:g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-red-800",children:"Error"}),g.jsx("p",{className:"text-red-600",children:t.error}),g.jsx("button",{onClick:()=>e(q=>({...q,error:null})),className:"text-red-700 underline mt-1",children:"Dismiss"})]})})}),g.jsxs("div",{className:"bg-white rounded-lg p-6 mb-6 mt-8 lg:mt-0 shadow",children:[g.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-blue-900",children:["Welcome, ",((U=t.userData)==null?void 0:U.fullName)||"Patient"]}),g.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your healthcare in one place"})]}),o.length>0&&g.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx(Ju,{className:"text-yellow-500 mr-2 text-xl"}),g.jsxs("div",{children:[g.jsxs("p",{className:"font-bold text-yellow-800",children:["You have ",o.length," doctor(s) to review"]}),g.jsx("button",{onClick:()=>e(q=>({...q,showReviewModal:!0,selectedDoctor:{id:o[0].doctorId,fullName:o[0].doctorName}})),className:"text-yellow-700 underline mt-1",children:"Leave a review now"})]})]})}),g.jsxs("button",{onClick:()=>e(q=>({...q,showDoctorSelection:!0})),className:"flex items-center bg-blue-600 text-white px-4 py-2 rounded-lg mb-6 hover:bg-blue-700 transition",children:[g.jsx(Ju,{className:"mr-2"}),"Review a Doctor"]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[g.jsx(Ql,{icon:g.jsx(W_,{className:"text-2xl text-blue-600"}),title:"My Doctors",value:s,subtitle:"Healthcare providers"}),g.jsx(Ql,{icon:g.jsx(UN,{className:"text-2xl text-green-600"}),title:"Upcoming Visits",value:d.length,subtitle:"Scheduled appointments"}),g.jsx(Ql,{icon:g.jsx(Xy,{className:"text-2xl text-purple-600"}),title:"Active Medications",value:h.length,subtitle:"Current prescriptions"}),g.jsx(fU,{appointments:d,icon:g.jsx(rm,{className:"text-xl mr-2"}),onReschedule:(q,X)=>V("reschedule",q,X),onCancel:q=>V("cancel",q),onStartVideo:p,isCallActive:t.videoCall.isActive}),g.jsx(mU,{prescriptions:h,icon:g.jsx(Xy,{className:"text-xl mr-2"})})]}),g.jsxs("div",{className:"mt-6 bg-white p-4 rounded-lg shadow",children:[g.jsxs("div",{className:"flex items-center mb-4",children:[g.jsx(Vo,{className:"text-xl mr-2 text-blue-900"}),g.jsx("h2",{className:"text-xl font-bold",children:"My Calendar"})]}),g.jsx(XN,{appointments:t.appointments})]}),t.showDoctorSelection&&g.jsx("div",{className:"fixed inset-0 bg-blue-900 bg-opacity-50 flex items-center justify-center z-50 p-4",children:g.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsx("h3",{className:"text-xl font-bold",children:"Select a Doctor to Review"}),g.jsx("button",{onClick:()=>e(q=>({...q,showDoctorSelection:!1})),className:"text-gray-500 hover:text-gray-700 text-xl",children:""})]}),g.jsxs("div",{className:"relative mb-4",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx(DV,{className:"text-gray-400"})}),g.jsx("input",{type:"text",placeholder:"Search doctors by name or specialty...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:t.searchTerm,onChange:q=>e(X=>({...X,searchTerm:q.target.value}))})]}),g.jsx("div",{className:"max-h-96 overflow-y-auto",children:c.length>0?g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.map(q=>{var X;return g.jsx("div",{className:"p-4 border rounded-lg hover:bg-gray-50 cursor-pointer transition",onClick:()=>j(q),children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center mr-3 text-blue-600 font-bold",children:((X=q.fullName)==null?void 0:X.charAt(0))||"D"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold",children:q.fullName||"Doctor"}),g.jsx("p",{className:"text-sm text-gray-600",children:q.specialization||"General Practitioner"}),q.averageRating&&g.jsxs("div",{className:"flex items-center mt-1",children:[g.jsx(Ju,{className:"text-yellow-400 mr-1"}),g.jsxs("span",{className:"text-sm font-medium",children:[q.averageRating.toFixed(1)," (",q.reviews||0," reviews)"]})]})]})]})},q.id)})}):g.jsx("p",{className:"text-gray-500 p-4 text-center",children:"No doctors found matching your search"})})]})}),t.showReviewModal&&t.selectedDoctor&&g.jsx(gU,{doctor:t.selectedDoctor,onClose:()=>e(q=>({...q,showReviewModal:!1})),onReviewSubmitted:()=>{const q=o.find(X=>X.doctorId===t.selectedDoctor.id);q&&P(q.appointmentId)}}),t.videoCall.isActive&&g.jsxs("div",{className:"fixed inset-0 bg-gray-900 z-50 flex flex-col",children:[g.jsxs("div",{className:"bg-white p-4 flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsxs("h2",{className:"text-xl font-bold",children:["Video Call with Dr. ",(($=t.videoCall.appointment)==null?void 0:$.doctorName)||"Doctor"]}),g.jsxs("p",{className:"text-gray-600",children:["Duration: ",C(t.videoCall.duration)]})]}),g.jsxs("button",{onClick:_,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 flex items-center",children:[g.jsx(HN,{className:"mr-2"}),"End Call"]})]}),g.jsx("div",{className:"flex-1 relative",children:g.jsx("div",{id:"daily-call-frame",className:"w-full h-full"})})]})]})]})},gB=()=>{const[t,e]=Y.useState({doctorName:"",date:"",time:"",notes:""}),[n,r]=Y.useState(!1),[s,o]=Y.useState(""),[c,d]=Y.useState(""),[h,p]=Y.useState([]),[_,S]=Y.useState(!1);Y.useEffect(()=>{(async()=>{try{const U=At(Le,"users"),$=$t(U,Ct("role","==","doctor")),X=(await si($)).docs.map(te=>({id:te.id,...te.data()}));p(X)}catch(U){console.error("Error fetching doctors: ",U)}})()},[]);const C=V=>{const{name:U,value:$}=V.target;e({...t,[U]:$})},j=V=>{e({...t,doctorName:V.fullName}),S(!1)},P=async V=>{V.preventDefault();const U=Ot.currentUser;if(!U){o("You must be logged in to book an appointment.");return}if(!t.doctorName||!t.date||!t.time){o("Please fill in all required fields.");return}r(!0),o(""),d("");try{const $=h.find(q=>q.fullName===t.doctorName);if(!$)throw new Error("Selected doctor not found.");await Ko(At(Le,"appointments"),{patientId:U.uid,patientName:U.displayName||"Anonymous",doctorId:$.id,doctorName:$.fullName,date:t.date,time:t.time,notes:t.notes,status:"pending",createdAt:new Date}),d("Appointment booked successfully!"),e({doctorName:"",date:"",time:"",notes:""})}catch($){console.error("Error booking appointment: ",$),o(`Failed to book appointment: ${$.message}`)}finally{r(!1)}};return g.jsxs("div",{className:"flex h-screen",children:[g.jsx(Od,{}),g.jsxs("div",{className:" w-full lg:w-3/4 p-5 bg-white rounded-xl shadow-md mt-8 lg:mt-0 py-10",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Book an Appointment"}),g.jsx("p",{className:"text-gray-600 mt-2",children:"Schedule your consultation with our specialists"})]}),s&&g.jsx("div",{className:"mb-6 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx(iU,{className:"h-5 w-5 text-red-500 mr-3"}),g.jsx("p",{className:"text-red-700",children:s})]})}),c&&g.jsx("div",{className:"mb-6 p-4 bg-green-50 border-l-4 border-green-500 rounded",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx(eU,{className:"h-5 w-5 text-green-500 mr-3"}),g.jsx("p",{className:"text-green-700",children:c})]})}),g.jsxs("form",{onSubmit:P,className:"space-y-6",children:[g.jsxs("div",{className:"relative",children:[g.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Select Doctor ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",name:"doctorName",placeholder:"Search for a doctor...",value:t.doctorName,onChange:C,onFocus:()=>S(!0),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-700 focus:border-transparent",required:!0}),_&&g.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white border border-gray-300 rounded-lg focus:outline-none shadow-lg max-h-60 overflow-auto custom-scrollbar",children:h.map(V=>g.jsx("div",{className:"p-3 hover:bg-gray-100 cursor-pointer",onClick:()=>j(V),children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"bg-purple-100 p-2 rounded-full mr-3",children:g.jsx(eR,{className:"h-5 w-5 text-purple-600"})}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium",children:V.fullName}),g.jsx("p",{className:"text-sm text-gray-500",children:V.specialization||"General Practitioner"})]})]})},V.id))})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Appointment Date ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx(JV,{className:"h-5 w-5 text-gray-400"})}),g.jsx("input",{type:"date",name:"date",value:t.date,onChange:C,min:new Date().toISOString().split("T")[0],className:"w-full pl-10 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",required:!0})]})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Appointment Time ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx(ZN,{className:"h-5 w-5 text-gray-400"})}),g.jsx("input",{type:"time",name:"time",value:t.time,onChange:C,className:"w-full pl-10 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",required:!0})]})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Notes"}),g.jsx("textarea",{name:"notes",placeholder:"Any specific concerns or details...",value:t.notes,onChange:C,rows:3,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent"})]}),g.jsx("div",{className:"pt-2",children:g.jsx("button",{type:"submit",disabled:n,className:"w-full bg-blue-900 hover:bg-blue-800 text-white font-medium py-3 px-4 rounded-lg transition duration-200 flex justify-center items-center",children:n?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"flex justify-center items-center h-screen",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-500"})}),"Booking Appointment..."]}):"Book Appointment"})})]})]})]})},vB=()=>{const[t,e]=Y.useState([]),[n,r]=Y.useState(!0),[s,o]=Y.useState("");return Y.useEffect(()=>{(async()=>{const d=Ot.currentUser;if(d)try{const h=At(Le,"medicalHistory"),p=$t(h,Ct("patientId","==",d.uid)),_=await si(p),S=[];_.forEach(C=>{S.push({id:C.id,...C.data()})}),e(S)}catch(h){console.error("Error fetching medical history: ",h),o("Failed to fetch medical history. Please try again.")}finally{r(!1)}})()},[]),n?g.jsx("div",{className:"flex justify-center items-center h-screen",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-500"})}):s?g.jsx("div",{className:"flex justify-center items-center h-screen",children:g.jsx("p",{className:"text-red-500",children:s})}):g.jsxs("div",{className:"flex h-screen",children:[g.jsx(Od,{}),g.jsxs("div",{className:"w-full lg:w-3/4 p-5 mt-10 lg:mt-0",children:[g.jsx("h1",{className:"text-3xl font-bold mb-5",children:"Medical History"}),t.length===0?g.jsx("p",{children:"No medical history found."}):g.jsx("div",{className:"space-y-4",children:t.map(c=>g.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[g.jsx("h2",{className:"text-xl font-semibold",children:c.date}),g.jsx("p",{className:"text-gray-700",children:c.description}),g.jsxs("p",{className:"text-sm text-gray-500",children:["Doctor: ",c.doctorName]})]},c.id))})]})]})},yB=()=>{const[t,e]=Y.useState(""),[n,r]=Y.useState([]),[s,o]=Y.useState([]),[c,d]=Y.useState(""),[h,p]=Y.useState(!0),[_,S]=Y.useState(!0),[C,j]=Y.useState(""),P=Y.useRef(null),V=Ot.currentUser;Y.useEffect(()=>{if(!V){j("User not authenticated. Please log in.");return}(async()=>{try{const X=At(Le,"users"),te=$t(X,Ct("role","==","doctor")),z=await si(te),K=[];z.forEach(M=>{K.push({id:M.id,...M.data()})}),o(K)}catch(X){console.error("Error fetching doctors: ",X),j("Failed to fetch doctors. Please try again.")}finally{p(!1)}})()},[V]),Y.useEffect(()=>{if(!c)return;const q=At(Le,"messages"),X=$t(q,Ct("senderId","in",[V.uid,c]),Ct("receiverId","in",[V.uid,c]),Xp("timestamp","asc")),te=ji(X,z=>{const K=[];z.forEach(M=>{K.push({id:M.id,...M.data()})}),r(K),S(!1)});return()=>te()},[c,V.uid]);const U=()=>{var q;(q=P.current)==null||q.scrollIntoView({behavior:"smooth"})};Y.useEffect(()=>{U()},[n]);const $=async q=>{if(q.preventDefault(),!t.trim()||!c){j("Please select a doctor and enter a message.");return}try{await Ko(At(Le,"messages"),{senderId:V.uid,receiverId:c,message:t,timestamp:new Date().toISOString()}),e(""),j("")}catch(X){console.error("Error sending message: ",X),j("Failed to send message. Please try again.")}};return h?g.jsx("div",{className:"flex justify-center items-center h-screen",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-500"})}):C?g.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-r from-blue-50 to-purple-50",children:g.jsxs("div",{className:"text-center",children:[g.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Messages"}),g.jsx("p",{className:"text-red-500",children:C})]})}):g.jsxs("div",{className:"min-h-screen flex bg-gradient-to-r from-blue-250 to-purple-50  ",children:[g.jsx(Od,{}),g.jsxs("div",{className:"w-full lg:w-3/4 p-5 mt-8 lg:mt-0 lg:ml-4 bg-white rounded-lg  shadow-lg overflow-hidden  ",children:[g.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6",children:g.jsx("h2",{className:"text-2xl font-bold text-white",children:"Messages"})}),g.jsx("div",{className:"p-6 border-b border-gray-200",children:g.jsxs("select",{value:c,onChange:q=>d(q.target.value),className:`w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\r
            overflow-y-auto  custom-scrollbar`,"aria-label":"Select a doctor",required:!0,children:[g.jsx("option",{value:"",children:"Select a doctor"}),s.map(q=>g.jsx("option",{value:q.id,children:q.fullName},q.id))]})}),g.jsxs("div",{className:"p-6 h-[400px] overflow-y-auto custom-scrollbar",children:[n.length===0&&!_&&g.jsx("p",{className:"text-gray-500 text-center",children:"No messages yet. Start the conversation!"}),n.map(q=>g.jsx(_B,{msg:q,isSender:q.senderId===V.uid},q.id)),g.jsx("div",{ref:P})]}),g.jsx("div",{className:"p-6 bg-gray-50",children:g.jsxs("form",{onSubmit:$,className:"flex gap-2",children:[g.jsx("input",{type:"text",placeholder:"Type a message...",value:t,onChange:q=>e(q.target.value),className:"flex-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),g.jsx("button",{type:"submit",className:"bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition duration-200",children:"Send"})]})})]})]})},_B=({msg:t,isSender:e})=>g.jsx("div",{className:`flex ${e?"justify-end":"justify-start"} mb-4`,children:g.jsxs("div",{className:`max-w-[70%] p-4 rounded-lg ${e?"bg-blue-600 text-white rounded-br-none":"bg-gray-100 text-gray-800 rounded-bl-none"}`,children:[g.jsx("p",{children:t.message}),g.jsx("p",{className:"text-xs mt-1 opacity-75",children:new Date(t.timestamp).toLocaleTimeString()})]})}),bB=()=>{const[t,e]=Y.useState(null),[n,r]=Y.useState(null),[s,o]=Y.useState(!0),[c,d]=Y.useState(!1),[h,p]=Y.useState({fullName:"",phoneNumber:"",email:"",dateOfBirth:"",role:"patient",specialization:""}),[_,S]=Y.useState(""),[C,j]=Y.useState(null),[P,V]=Y.useState(""),U=Cs();Y.useEffect(()=>{const te=Ot.onAuthStateChanged(async z=>{if(!z){U("/login");return}e(z),S(z.photoURL||"");try{const K=jt(Le,"users",z.uid),M=await Fr(K);if(M.exists()){const O=M.data();r(O),p({fullName:O.fullName||z.displayName||"",phoneNumber:O.phoneNumber||"",specialization:O.specialization||"",role:O.role||"",dateOfBirth:O.dateOfBirth||""})}}catch(K){console.error("Error fetching user data:",K),V("Failed to load profile data")}finally{o(!1)}});return()=>te()},[U]);const $=te=>{const{name:z,value:K}=te.target;p(M=>({...M,[z]:K}))},q=te=>{te.target.files[0]&&(j(te.target.files[0]),S(URL.createObjectURL(te.target.files[0])))},X=async te=>{te.preventDefault(),V(""),o(!0);try{let z=_;if(C){const O=tN(storage,`profilePhotos/${t.uid}`);await Zk(O,C),z=await eN(O)}await F0(t,{displayName:h.fullName,photoURL:z});const K=jt(Le,"users",t.uid);await Jr(K,{fullName:h.fullName,phoneNumber:h.phoneNumber,...(n==null?void 0:n.role)==="patient"&&{specialization:h.specialization},bio:h.bio,...z&&{photoURL:z}});const M=await Fr(K);r(M.data()),d(!1)}catch(z){console.error("Error updating profile:",z),V("Failed to update profile. Please try again.")}finally{o(!1)}};return s?g.jsx("div",{className:"flex justify-center items-center h-screen",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):g.jsxs("div",{className:"flex h-screen",children:[g.jsx(Od,{}),g.jsx("div",{className:"w-full lg:w-3/4 mt-8 p-4",children:g.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[g.jsxs("div",{className:"flex justify-between items-center lg:mt-8 lg:mt-0 mb-6",children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Profile"}),g.jsxs("button",{onClick:()=>d(!c),className:"flex items-center gap-2 bg-blue-900 text-white px-4 py-2 rounded hover:bg-blue-800 transition",children:[c?g.jsx($N,{}):g.jsx(QN,{}),c?"Save Changes":"Edit Profile"]})]}),P&&g.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded",children:P}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[g.jsxs("div",{className:"md:w-1/3 flex flex-col items-center",children:[g.jsxs("div",{className:"relative mb-4",children:[g.jsx("img",{src:_||"/default-avatar.png",alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-4 border-blue-200"}),c&&g.jsxs("label",{className:"absolute bottom-0 right-0 bg-blue-600 text-white p-2 rounded-full cursor-pointer hover:bg-blue-700",children:[g.jsx(zN,{}),g.jsx("input",{type:"file",accept:"image/*",onChange:q,className:"hidden"})]})]}),g.jsx("h2",{className:"text-xl font-semibold",children:t==null?void 0:t.displayName}),(n==null?void 0:n.role)==="patient"&&g.jsx("p",{className:"text-blue-600",children:n==null?void 0:n.specialization})]}),g.jsx("div",{className:"md:w-2/3",children:g.jsxs("form",{onSubmit:X,children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-700 mb-1",children:"Full Name"}),c?g.jsx("input",{type:"text",name:"fullName",value:h.fullName,onChange:$,className:"w-full p-2 border rounded border border-blue-900 focus:outline-none",required:!0}):g.jsx("p",{className:"p-2 bg-gray-100 rounded",children:h.fullName})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-700 mb-1",children:"Email"}),g.jsx("p",{className:"p-2 bg-gray-100 rounded border border-blue-900 focus:outline-none",children:t==null?void 0:t.email})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-700 mb-1",children:"Phone Number"}),c?g.jsx("input",{type:"tel",name:"phoneNumber",value:h.phoneNumber,onChange:$,className:"w-full p-2 border rounded border border-blue-900 focus:outline-none"}):g.jsx("p",{className:"p-2 bg-gray-100 rounded",children:h.phoneNumber||"Not provided"})]}),(n==null?void 0:n.role)==="patient"&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-700 mb-1",children:"Specialization"}),c?g.jsx("input",{type:"text",name:"specialization",value:h.specialization,onChange:$,className:"w-full p-2 border rounded border border-blue-900 focus:outline-none"}):g.jsx("p",{className:"p-2 bg-gray-100 rounded",children:h.specialization||"Not specified"})]})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-gray-700 mb-1",children:"Bio"}),c?g.jsx("textarea",{name:"bio",value:h.bio,onChange:$,className:"w-full p-2 border rounded h-24 border border-blue-900 focus:outline-none"}):g.jsx("p",{className:"p-2 bg-gray-100 rounded min-h-24",children:h.bio||"No bio provided"})]}),c&&g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400 transition",children:"Cancel"}),g.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition disabled:bg-blue-400",children:s?"Saving...":"Save Changes"})]})]})})]})]})})]})},Lr=({children:t,role:e})=>{const[n,r]=Y.useState(null),[s,o]=Y.useState(!0),c=Ot.currentUser;return Y.useEffect(()=>{(async()=>{if(c){const h=await Fr(jt(Le,"users",c.uid));h.exists()&&r(h.data().role)}o(!1)})()},[c]),s?g.jsx("div",{children:"Loading..."}):c?e&&n!==e?g.jsx(AS,{to:"/"}):t:g.jsx(AS,{to:"/login"})},wB=({inSidebar:t=!1})=>{const e=Ot.currentUser,n=Cs(),[r,s]=Y.useState([]),[o,c]=Y.useState(0),[d,h]=Y.useState(!1),[p,_]=Y.useState(!0),[S,C]=Y.useState(null);Y.useEffect(()=>{if(!(e!=null&&e.uid)){_(!1);return}_(!0),console.log("Fetching notifications for user:",e.uid);const $=At(Le,"notifications"),q=$t($,Ct("userId","==",e.uid),Ct("read","==",!1),Xp("createdAt","desc"),H5(10)),X=ji(q,te=>{const z=te.docs.map(K=>{var M;return{id:K.id,...K.data(),createdAt:(M=K.data().createdAt)==null?void 0:M.toDate()}});console.log("Received notifications:",z),s(z),c(z.length),_(!1)},te=>{console.error("Error fetching notifications:",te),C(te.message),_(!1)});return()=>X()},[e==null?void 0:e.uid]);const j=async $=>{try{await Jr(jt(Le,"notifications",$.id),{read:!0,readAt:new Date}),$.link&&n($.link),h(!1)}catch(q){console.error("Error handling notification:",q),C(q.message)}},P=async()=>{try{const $=K5(Le);r.forEach(q=>{const X=jt(Le,"notifications",q.id);$.update(X,{read:!0,readAt:new Date})}),await $.commit(),s([]),c(0)}catch($){console.error("Error marking all as read:",$),C($.message)}},V=$=>($==null?void 0:$.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))||"",U=$=>($==null?void 0:$.toLocaleDateString())||"";return g.jsx("div",{className:`relative ${t?"w-full":""}`,children:t?g.jsxs("button",{onClick:()=>n("/notifications"),className:"flex items-center w-full py-3 px-4 rounded-lg hover:bg-blue-800 transition-colors duration-200",children:[g.jsx(Yy,{className:"mr-3"}),g.jsx("span",{children:"Notifications"}),o>0&&g.jsx("span",{className:"ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:o})]}):g.jsxs(g.Fragment,{children:[g.jsxs("button",{onClick:()=>h(!d),className:"p-2 rounded-full hover:bg-blue-800 relative","aria-label":`Notifications ${o>0?`(${o} unread)`:""}`,children:[g.jsx(Yy,{className:"text-xl"}),o>0&&g.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:o})]}),d&&g.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-md shadow-lg z-50 border border-gray-200",children:[g.jsxs("div",{className:"p-3 border-b border-gray-200 flex justify-between items-center",children:[g.jsx("h3",{className:"font-semibold",children:"Notifications"}),g.jsxs("div",{className:"flex space-x-2",children:[r.length>0&&g.jsx("button",{onClick:P,className:"text-xs text-blue-600 hover:text-blue-800",children:"Mark all as read"}),g.jsx("button",{onClick:()=>h(!1),className:"text-gray-500 hover:text-gray-700",children:g.jsx(G_,{})})]})]}),g.jsx("div",{className:"max-h-96 overflow-y-auto",children:p?g.jsx("div",{className:"p-4 text-center",children:"Loading notifications..."}):S?g.jsx("div",{className:"p-4 text-center text-red-500",children:S}):r.length===0?g.jsx("div",{className:"p-4 text-center",children:"No new notifications"}):g.jsx("ul",{children:r.map($=>g.jsxs("li",{className:"p-3 border-b hover:bg-gray-50 cursor-pointer",onClick:()=>j($),children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-medium",children:$.title}),g.jsx("p",{className:"text-sm text-gray-600 mt-1",children:$.message})]}),g.jsx(BN,{className:"text-gray-400"})]}),g.jsxs("div",{className:"flex justify-between mt-2",children:[g.jsx("p",{className:"text-xs text-gray-400",children:U($.createdAt)}),g.jsx("p",{className:"text-xs text-gray-400",children:V($.createdAt)})]})]},$.id))})}),g.jsx("div",{className:"p-2 border-t border-gray-200 text-center",children:g.jsx("button",{onClick:()=>{n("/notifications"),h(!1)},className:"text-xs text-blue-600 hover:text-blue-800",children:"View all notifications"})})]})]})})},SB=()=>g.jsx(g.Fragment,{children:g.jsx("div",{className:"bg-gray-50 w-full h-screen flex justify-center items-center mt-6  ",children:g.jsxs("div",{className:"w-full lg:w-1/2  bg-gray-600 flex flex-col justify-center items-center p-5 rounded-sm relative ",children:[g.jsxs("div",{className:"text-center text-[150px] lg:text-[250px] font-bold text-gray-700",children:[g.jsx("span",{children:"4"}),g.jsx("span",{className:"ml-2",children:"0"}),g.jsx("span",{className:"ml-2",children:"4"})]}),g.jsxs("div",{className:"text-white font-[inter] absolute",children:[g.jsx("h1",{className:"text-center text-2xl font-bold ",children:"oops"}),g.jsx("p",{className:"text-2xl",children:"Something went wrong"}),g.jsx("p",{className:"text-center",children:"Error 404 Page Not Found"})]})]})})}),EB=()=>g.jsx(UI,{children:g.jsxs(gI,{children:[g.jsx(An,{path:"/",element:g.jsx(VT,{})}),g.jsx(An,{path:"/signup",element:g.jsx(wV,{})}),g.jsx(An,{path:"/doctordashboard",element:g.jsx(Lr,{role:"doctor",children:g.jsx(QV,{})})}),g.jsx(An,{path:"/viewappointment",element:g.jsx(Lr,{role:"doctor",children:g.jsx(aU,{})})}),g.jsx(An,{path:"/patient",element:g.jsx(Lr,{role:"doctor",children:g.jsx(oU,{})})}),g.jsx(An,{path:"/messages",element:g.jsx(Lr,{role:"doctor",children:g.jsx(cU,{})})}),g.jsx(An,{path:"/notifications",element:g.jsx(Lr,{role:"doctor",children:g.jsx(wB,{})})}),g.jsx(An,{path:"/profile",element:g.jsx(Lr,{role:"doctor",children:g.jsx(dU,{})})}),g.jsx(An,{path:"/medicalrecord",element:g.jsx(Lr,{role:"doctor",children:g.jsx(hU,{})})}),g.jsx(An,{path:"/patientdashboard",element:g.jsx(Lr,{role:"patient",children:g.jsx(mB,{})})}),g.jsx(An,{path:"/bookappointment",element:g.jsx(Lr,{role:"patient",children:g.jsx(gB,{})})}),g.jsx(An,{path:"/patientmedicalhistory",element:g.jsx(Lr,{role:"patient",children:g.jsx(vB,{})})}),g.jsx(An,{path:"/patientmessage",element:g.jsx(Lr,{role:"patient",children:g.jsx(yB,{})})}),g.jsx(An,{path:"/patientprofile",element:g.jsx(Lr,{role:"patient",children:g.jsx(bB,{})})}),g.jsx(An,{path:"*",element:g.jsx(SB,{})}),g.jsx(An,{path:"/",element:g.jsx(VT,{})})]})});A4.createRoot(document.getElementById("root")).render(g.jsx(Y.StrictMode,{children:g.jsx(EB,{})}));
